2019-08-06 15:52:03,891 del_mongo.py INFO [line:31] 连接数据库test
2019-08-06 15:52:08,945 del_mongo.py INFO [line:66] client_info 表符合查询条件{'email': 'flynn.shu@newtype.com'} 的数据有0 条
2019-08-06 15:52:09,081 del_mongo.py INFO [line:37] close Client
2019-08-06 15:52:26,341 del_mongo.py INFO [line:31] 连接数据库test
2019-08-06 15:52:31,370 del_mongo.py INFO [line:66] client_info 表符合查询条件{'phone': '18218805466'} 的数据有1 条
2019-08-06 15:52:31,507 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a353d6a3f60177300ef9'), 'accountId': [ObjectId('5d47a352d6a3f6103e300eee')], 'applyId': [ObjectId('5d47a2c586de045b9abc5ad5')], 'clientSeqId': 920, 'title': 'mr', 'firstName': '名', 'lastName': '姓', 'chineseName': 'bruce', 'pastEnglishName': '', 'pastChineseName': '', 'email': 'flynn.shu@newtype.io', 'phone': '18218805466', 'address': '465456456456', 'addressMail': '', 'phoneAreaCode': 'CHN', 'nationality': 'CHN', 'idType': '2', 'idNumber': '566847956456', 'countryIssue': 'CHN', 'birthday': 947001600000.0, 'birthPlace': 'CHN', 'employment': 'retired', 'employer': '', 'businessType': '', 'occupation': '', 'businessAddress': '', 'businessPhone': '', 'isMaster': '1', 'parentPath': '/100000/ceo_t1/sales_manager/sales_t1', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'isShowTradingStructureAggree': 'Y', 'isShowApplyToOpenTradingStructure': 'Y', 'isShowAlgoTrade': 'N', 'totalAnnualCustomerRevenueHK': 'lt500000', 'customerNetAssetValueHK': 'lt3000000', 'sourceOfWealth': ['selfOperated'], 'futures': '1To5Years', 'securities': 'gt10Years', 'CBBC': '6To10Years', 'warrants': 'gt10Years', 'foreignExchange': 'gt10Years', 'options': '6To10Years', 'bullion': '6To10Years', 'algoTrade': '1To5Years', 'isLearnAboutProducts': 'Y', 'isIndustryExperience': 'Y', 'isStocks': 'Y', 'isBankruptcy': 'Y', 'bankruptcyDate': 1557158400000.0, 'isInAgtJobs': 'N', 'bankruptcyProve': ['1544166106_698802e5bebb842bfaf86bdf74458094.jpg'], 'isBondFuturesClientsConnected': 'N', 'isAcquaintHighLevel': 'N', 'isAmericanResidents': 'N', 'isAmericanResidentsb': 'N', 'isPoliticalFigure': 'N', 'purposeOfInvestment': ['hedging', 'asset'], 'riskTolerance': 'high'}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'employedPeriod': '', 'employmentOther': '', 'createdTime': 1564975955305.0, 'updatedTime': 1564975955305.0}
2019-08-06 15:52:31,515 del_mongo.py INFO [line:103] client_info 表关联的字段为 accountId : [ObjectId('5d47a352d6a3f6103e300eee')]
2019-08-06 15:52:31,515 del_mongo.py INFO [line:104] 正在查询关联表 account 的数据
2019-08-06 15:52:31,584 del_mongo.py INFO [line:66] account 表符合查询条件{'_id': ObjectId('5d47a352d6a3f6103e300eee')} 的数据有1 条
2019-08-06 15:52:31,721 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a352d6a3f6103e300eee'), 'accountType': ['bullionMargin', 'leveragedForeignExchangeAccountMargin', 'securitiesCash', 'futuresMargin'], 'clientId': [ObjectId('5d47a353d6a3f60177300ef9')], 'accountNumber': '80010', 'applicationFor': 'individual', 'accountOpeningWay': 'visitingAccount', 'tradeAccountList': [{'enabled': 'true', '_id': ObjectId('5d47a352d6a3f645ec300ef6'), 'type': 'STOCK', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1564975951642.0, 'tradeAccount': '800101110', 'tradeAccountType': 'securitiesCash', 'accountType': 'securitiesCash'}, {'enabled': 'true', '_id': ObjectId('5d47a352d6a3f61e96300ef5'), 'type': 'FUTURES', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1564975951642.0, 'tradeAccount': '800103210', 'tradeAccountType': 'futuresMargin', 'accountType': 'futuresMargin'}, {'enabled': 'true', '_id': ObjectId('5d47a352d6a3f63427300ef4'), 'type': 'FOREX', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1564975951642.0, 'tradeAccount': '800105210', 'tradeAccountType': 'mt5', 'accountType': 'leveragedForeignExchangeAccountMargin'}, {'enabled': 'true', '_id': ObjectId('5d47a352d6a3f69f33300ef3'), 'type': 'PM', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1564975951642.0, 'tradeAccount': '800106610', 'tradeAccountType': 'bullionMargin', 'accountType': 'bullionMargin'}], 'parentPath': '/100000/ceo_t1/sales_manager/sales_t1', 'referralCode': '', 'createdTime': 1564975951642.0, 'updatedTime': 1564975951642.0, 'createBy': '', 'updateBy': '', 'remark': '', 'idpUserId': '47d60f33-47d7-4ee6-b89f-6743c534e01e', 'tradingStructure': ''}
2019-08-06 15:52:31,721 del_mongo.py INFO [line:103] account 表关联的字段为 clientId : [ObjectId('5d47a353d6a3f60177300ef9')]
2019-08-06 15:52:31,721 del_mongo.py INFO [line:104] 正在查询关联表 client_info 的数据
2019-08-06 15:52:31,791 del_mongo.py INFO [line:66] client_info 表符合查询条件{'_id': ObjectId('5d47a353d6a3f60177300ef9')} 的数据有1 条
2019-08-06 15:52:31,929 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a353d6a3f60177300ef9'), 'accountId': [ObjectId('5d47a352d6a3f6103e300eee')], 'applyId': [ObjectId('5d47a2c586de045b9abc5ad5')], 'clientSeqId': 920, 'title': 'mr', 'firstName': '名', 'lastName': '姓', 'chineseName': 'bruce', 'pastEnglishName': '', 'pastChineseName': '', 'email': 'flynn.shu@newtype.io', 'phone': '18218805466', 'address': '465456456456', 'addressMail': '', 'phoneAreaCode': 'CHN', 'nationality': 'CHN', 'idType': '2', 'idNumber': '566847956456', 'countryIssue': 'CHN', 'birthday': 947001600000.0, 'birthPlace': 'CHN', 'employment': 'retired', 'employer': '', 'businessType': '', 'occupation': '', 'businessAddress': '', 'businessPhone': '', 'isMaster': '1', 'parentPath': '/100000/ceo_t1/sales_manager/sales_t1', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'isShowTradingStructureAggree': 'Y', 'isShowApplyToOpenTradingStructure': 'Y', 'isShowAlgoTrade': 'N', 'totalAnnualCustomerRevenueHK': 'lt500000', 'customerNetAssetValueHK': 'lt3000000', 'sourceOfWealth': ['selfOperated'], 'futures': '1To5Years', 'securities': 'gt10Years', 'CBBC': '6To10Years', 'warrants': 'gt10Years', 'foreignExchange': 'gt10Years', 'options': '6To10Years', 'bullion': '6To10Years', 'algoTrade': '1To5Years', 'isLearnAboutProducts': 'Y', 'isIndustryExperience': 'Y', 'isStocks': 'Y', 'isBankruptcy': 'Y', 'bankruptcyDate': 1557158400000.0, 'isInAgtJobs': 'N', 'bankruptcyProve': ['1544166106_698802e5bebb842bfaf86bdf74458094.jpg'], 'isBondFuturesClientsConnected': 'N', 'isAcquaintHighLevel': 'N', 'isAmericanResidents': 'N', 'isAmericanResidentsb': 'N', 'isPoliticalFigure': 'N', 'purposeOfInvestment': ['hedging', 'asset'], 'riskTolerance': 'high'}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'employedPeriod': '', 'employmentOther': '', 'createdTime': 1564975955305.0, 'updatedTime': 1564975955305.0}
2019-08-06 15:52:31,929 del_mongo.py INFO [line:118] account 表关联的字段为 idpUserId : 47d60f33-47d7-4ee6-b89f-6743c534e01e
2019-08-06 15:52:31,929 del_mongo.py INFO [line:119] 正在查询关联表 users 的数据
2019-08-06 15:52:31,999 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '47d60f33-47d7-4ee6-b89f-6743c534e01e'} 的数据有1 条
2019-08-06 15:52:32,134 del_mongo.py INFO [line:69] {'_id': ObjectId('5d479c249b27b34932fbccb0'), 'email_verified': False, 'phone_number_verified': False, 'roles': [], 'enabled': True, 'custom': {'accountNumber': '80010', 'accountId': '5d47a352d6a3f6103e300eee', 'device_id': ''}, 'preferred_username': 'flynn.shu@newtype.com', 'name': '姓名', 'family_name': '姓', 'given_name': '名', 'gender': 'm', 'birthdate': '2000-01-04T16:00:00.000Z', 'zoneinfo': 'CHN', 'locale': 'zh-hans', 'email': 'flynn.shu@newtype.io', 'address': '465456456456', 'phone_number': '8618218805466', 'subject': '47d60f33-47d7-4ee6-b89f-6743c534e01e', 'created_at': datetime.datetime(2019, 8, 5, 3, 1, 55, 867000), 'updated_at': datetime.datetime(2019, 8, 5, 3, 32, 38, 44000), 'secret': '$2a$08$HpzhDPKP9rM/xH6JLVeaOeHGJ9GWmvTZ91O.PPAleaO6FQ..DMPAO', '__v': 0}
2019-08-06 15:52:32,134 del_mongo.py INFO [line:138] users 表关联的字段为 subject : 47d60f33-47d7-4ee6-b89f-6743c534e01e
2019-08-06 15:52:32,134 del_mongo.py INFO [line:139] 正在查询关联表 userdevices 的数据
2019-08-06 15:52:32,202 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': '47d60f33-47d7-4ee6-b89f-6743c534e01e'} 的数据有0 条
2019-08-06 15:52:32,337 del_mongo.py INFO [line:157] ***********************************

2019-08-06 15:52:32,337 del_mongo.py INFO [line:158] 没有关联数据,直接删除users 表
2019-08-06 15:52:32,338 del_mongo.py INFO [line:176] ***********************************

2019-08-06 15:52:32,338 del_mongo.py INFO [line:157] ***********************************

2019-08-06 15:52:32,338 del_mongo.py INFO [line:158] 没有关联数据,直接删除account 表
2019-08-06 15:52:32,338 del_mongo.py INFO [line:176] ***********************************

2019-08-06 15:52:32,338 del_mongo.py INFO [line:103] client_info 表关联的字段为 applyId : [ObjectId('5d47a2c586de045b9abc5ad5')]
2019-08-06 15:52:32,338 del_mongo.py INFO [line:104] 正在查询关联表 apply 的数据
2019-08-06 15:52:32,406 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5d47a2c586de045b9abc5ad5')} 的数据有1 条
2019-08-06 15:52:32,543 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a2c586de045b9abc5ad5'), 'isRoRefuse': '', 'accountType': ['bullionMargin', 'leveragedForeignExchangeAccountMargin', 'securitiesCash', 'futuresMargin'], 'appBankCardImg': [''], 'applyInfoIds': [ObjectId('5d47a2c686de04719bbc5af8')], 'learnHow': ['lecture'], 'tradingAuthorization': [], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['HK'], 'caApplyErr': [], 'reviewTime': ['{"ops":"1564975951642,137989"}'], 'step': '', 'origin': '', 'idpUserId': '47d60f33-47d7-4ee6-b89f-6743c534e01e', 'applicationFor': 'individual', 'parentId': 'sales_t1', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'visitingAccount', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '80010', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'N', 'status': 'success', 'customerSource': 'crm', 'applySeqId': '3781', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5d47a2c586de04d38dbc5af4'), 'username': 'aaron.chan', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de045c99bc5af3'), 'username': 'ceci_test', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0479ecbc5af2'), 'username': 'cliff_test', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de047332bc5af1'), 'username': 'barry.cheung', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de049bcbbc5af0'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0443a4bc5aef'), 'username': 'barry.cheung', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de040394bc5aee'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de041e65bc5aed'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de045154bc5aec'), 'username': 'jasper.lo', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0480e7bc5aeb'), 'username': 'cliff_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de04a271bc5aea'), 'username': 'barry.cheung', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de047de5bc5ae9'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de043f16bc5ae8'), 'username': 'barry.cheung', 'usertype': 'securitiesRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '/100000/ceo_t1/sales_manager/sales_t1', 'currency': 'NA', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': 'N', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': 'N', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': 'N', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c458eeb9fd40c8502ce1195'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c458eeb9fd40c0fafce1194'), 'pageNo': 14, 'x': 130, 'y': 93}, {'_id': ObjectId('5c458eeb9fd40c7569ce1193'), 'pageNo': 16, 'x': 130, 'y': 135}, {'_id': ObjectId('5d47a2c586de04bf10bc5af6'), 'pageNo': 16, 'x': 130, 'y': 135}, {'_id': ObjectId('5d47a2c586de042bc4bc5af5'), 'pageNo': 18, 'x': 130, 'y': 135}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': 1564975813653.0, 'createdTime': 1564975813653.0, 'updatedTime': 1564975813653.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '', 'appFileId': '', 'openlocation': '', 'isReSubmit': '', 'signatureFile': '', 'appVersion': '', 'deviceModel': '', 'isContactClient': '', 'reSubmitTime': None, 'accountOpeningTime': 1564975951642.0, 'LearnHowCodeOps': 'N', 'isHideGeneratePdfPage': '', 'isCommonService': '', 'accountOpeningAgreement': '', 'opsProcessing': {}, 'refuseBy': ''}
2019-08-06 15:52:32,543 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5d47a2c686de04719bbc5af8')]
2019-08-06 15:52:32,543 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-08-06 15:52:32,612 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5d47a2c686de04719bbc5af8')} 的数据有1 条
2019-08-06 15:52:32,749 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a2c686de04719bbc5af8'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5d47a2c586de045b9abc5ad5'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': '名', 'lastName': '姓', 'chineseName': 'bruce', 'email': 'flynn.shu@newtype.io', 'phoneAreaCode': 'CHN', 'phone': '18218805466', 'address': '465456456456', 'nationality': 'CHN', 'idType': '2', 'idNumber': '566847956456', 'countryIssue': 'CHN', 'birthday': 947001600000.0, 'birthPlace': 'CHN', 'employment': 'retired', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'isShowTradingStructureAggree': 'Y', 'isShowApplyToOpenTradingStructure': 'Y', 'isShowAlgoTrade': 'N', 'totalAnnualCustomerRevenueHK': 'lt500000', 'customerNetAssetValueHK': 'lt3000000', 'sourceOfWealth': ['selfOperated'], 'futures': '1To5Years', 'securities': 'gt10Years', 'CBBC': '6To10Years', 'warrants': 'gt10Years', 'foreignExchange': 'gt10Years', 'options': '6To10Years', 'bullion': '6To10Years', 'algoTrade': '1To5Years', 'isLearnAboutProducts': 'Y', 'isIndustryExperience': 'Y', 'isStocks': 'Y', 'isBankruptcy': 'Y', 'bankruptcyDate': 1557158400000.0, 'isInAgtJobs': 'N', 'bankruptcyProve': ['1544166106_698802e5bebb842bfaf86bdf74458094.jpg'], 'isBondFuturesClientsConnected': 'N', 'isAcquaintHighLevel': 'N', 'isAmericanResidents': 'N', 'isAmericanResidentsb': 'N', 'isPoliticalFigure': 'N', 'purposeOfInvestment': ['hedging', 'asset'], 'riskTolerance': 'high'}, 'pastEnglishName': '', 'pastChineseName': '', 'idCardAddress': '', 'addressMail': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'idCardAddressReadOnly': '', 'syncIDAddress': '', 'isHongKongBankCard': '', 'ocrInfo': {}, 'createdTime': 1564975814112.0, 'updatedTime': 1564975814112.0}
2019-08-06 15:52:32,749 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5d47a2c586de045b9abc5ad5
2019-08-06 15:52:32,749 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-08-06 15:52:32,817 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5d47a2c586de045b9abc5ad5')} 的数据有1 条
2019-08-06 15:52:32,955 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a2c586de045b9abc5ad5'), 'isRoRefuse': '', 'accountType': ['bullionMargin', 'leveragedForeignExchangeAccountMargin', 'securitiesCash', 'futuresMargin'], 'appBankCardImg': [''], 'applyInfoIds': [ObjectId('5d47a2c686de04719bbc5af8')], 'learnHow': ['lecture'], 'tradingAuthorization': [], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['HK'], 'caApplyErr': [], 'reviewTime': ['{"ops":"1564975951642,137989"}'], 'step': '', 'origin': '', 'idpUserId': '47d60f33-47d7-4ee6-b89f-6743c534e01e', 'applicationFor': 'individual', 'parentId': 'sales_t1', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'visitingAccount', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '80010', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'N', 'status': 'success', 'customerSource': 'crm', 'applySeqId': '3781', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5d47a2c586de04d38dbc5af4'), 'username': 'aaron.chan', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de045c99bc5af3'), 'username': 'ceci_test', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0479ecbc5af2'), 'username': 'cliff_test', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de047332bc5af1'), 'username': 'barry.cheung', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de049bcbbc5af0'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0443a4bc5aef'), 'username': 'barry.cheung', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de040394bc5aee'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de041e65bc5aed'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de045154bc5aec'), 'username': 'jasper.lo', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0480e7bc5aeb'), 'username': 'cliff_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de04a271bc5aea'), 'username': 'barry.cheung', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de047de5bc5ae9'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de043f16bc5ae8'), 'username': 'barry.cheung', 'usertype': 'securitiesRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '/100000/ceo_t1/sales_manager/sales_t1', 'currency': 'NA', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': 'N', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': 'N', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': 'N', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c458eeb9fd40c8502ce1195'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c458eeb9fd40c0fafce1194'), 'pageNo': 14, 'x': 130, 'y': 93}, {'_id': ObjectId('5c458eeb9fd40c7569ce1193'), 'pageNo': 16, 'x': 130, 'y': 135}, {'_id': ObjectId('5d47a2c586de04bf10bc5af6'), 'pageNo': 16, 'x': 130, 'y': 135}, {'_id': ObjectId('5d47a2c586de042bc4bc5af5'), 'pageNo': 18, 'x': 130, 'y': 135}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': 1564975813653.0, 'createdTime': 1564975813653.0, 'updatedTime': 1564975813653.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '', 'appFileId': '', 'openlocation': '', 'isReSubmit': '', 'signatureFile': '', 'appVersion': '', 'deviceModel': '', 'isContactClient': '', 'reSubmitTime': None, 'accountOpeningTime': 1564975951642.0, 'LearnHowCodeOps': 'N', 'isHideGeneratePdfPage': '', 'isCommonService': '', 'accountOpeningAgreement': '', 'opsProcessing': {}, 'refuseBy': ''}
2019-08-06 15:52:32,955 del_mongo.py INFO [line:157] ***********************************

2019-08-06 15:52:32,956 del_mongo.py INFO [line:158] 没有关联数据,直接删除apply_info 表
2019-08-06 15:52:32,956 del_mongo.py INFO [line:176] ***********************************

2019-08-06 15:52:32,956 del_mongo.py INFO [line:118] apply 表关联的字段为 idpUserId : 47d60f33-47d7-4ee6-b89f-6743c534e01e
2019-08-06 15:52:32,956 del_mongo.py INFO [line:119] 正在查询关联表 users 的数据
2019-08-06 15:52:33,024 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '47d60f33-47d7-4ee6-b89f-6743c534e01e'} 的数据有1 条
2019-08-06 15:52:33,161 del_mongo.py INFO [line:69] {'_id': ObjectId('5d479c249b27b34932fbccb0'), 'email_verified': False, 'phone_number_verified': False, 'roles': [], 'enabled': True, 'custom': {'accountNumber': '80010', 'accountId': '5d47a352d6a3f6103e300eee', 'device_id': ''}, 'preferred_username': 'flynn.shu@newtype.com', 'name': '姓名', 'family_name': '姓', 'given_name': '名', 'gender': 'm', 'birthdate': '2000-01-04T16:00:00.000Z', 'zoneinfo': 'CHN', 'locale': 'zh-hans', 'email': 'flynn.shu@newtype.io', 'address': '465456456456', 'phone_number': '8618218805466', 'subject': '47d60f33-47d7-4ee6-b89f-6743c534e01e', 'created_at': datetime.datetime(2019, 8, 5, 3, 1, 55, 867000), 'updated_at': datetime.datetime(2019, 8, 5, 3, 32, 38, 44000), 'secret': '$2a$08$HpzhDPKP9rM/xH6JLVeaOeHGJ9GWmvTZ91O.PPAleaO6FQ..DMPAO', '__v': 0}
2019-08-06 15:52:33,161 del_mongo.py INFO [line:157] ***********************************

2019-08-06 15:52:33,161 del_mongo.py INFO [line:158] 没有关联数据,直接删除apply 表
2019-08-06 15:52:33,161 del_mongo.py INFO [line:176] ***********************************

2019-08-06 15:52:33,161 del_mongo.py INFO [line:157] ***********************************

2019-08-06 15:52:33,161 del_mongo.py INFO [line:158] 没有关联数据,直接删除client_info 表
2019-08-06 15:52:33,161 del_mongo.py INFO [line:176] ***********************************

2019-08-06 15:52:33,161 del_mongo.py INFO [line:37] close Client
2019-08-06 15:52:33,230 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-08-06 15:52:33,231 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-08-06 15:52:33,231 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-08-06 15:52:33,231 del_mongo.py INFO [line:44] account 表预计删除 1 条记录
2019-08-06 15:52:33,231 del_mongo.py INFO [line:44] client_info 表预计删除 1 条记录
2019-08-06 15:52:36,038 del_mongo.py INFO [line:31] 连接数据库test
2019-08-06 15:52:41,421 del_mongo.py INFO [line:66] client_info 表符合查询条件{'phone': '18218805466'} 的数据有1 条
2019-08-06 15:52:41,555 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a353d6a3f60177300ef9'), 'accountId': [ObjectId('5d47a352d6a3f6103e300eee')], 'applyId': [ObjectId('5d47a2c586de045b9abc5ad5')], 'clientSeqId': 920, 'title': 'mr', 'firstName': '名', 'lastName': '姓', 'chineseName': 'bruce', 'pastEnglishName': '', 'pastChineseName': '', 'email': 'flynn.shu@newtype.io', 'phone': '18218805466', 'address': '465456456456', 'addressMail': '', 'phoneAreaCode': 'CHN', 'nationality': 'CHN', 'idType': '2', 'idNumber': '566847956456', 'countryIssue': 'CHN', 'birthday': 947001600000.0, 'birthPlace': 'CHN', 'employment': 'retired', 'employer': '', 'businessType': '', 'occupation': '', 'businessAddress': '', 'businessPhone': '', 'isMaster': '1', 'parentPath': '/100000/ceo_t1/sales_manager/sales_t1', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'isShowTradingStructureAggree': 'Y', 'isShowApplyToOpenTradingStructure': 'Y', 'isShowAlgoTrade': 'N', 'totalAnnualCustomerRevenueHK': 'lt500000', 'customerNetAssetValueHK': 'lt3000000', 'sourceOfWealth': ['selfOperated'], 'futures': '1To5Years', 'securities': 'gt10Years', 'CBBC': '6To10Years', 'warrants': 'gt10Years', 'foreignExchange': 'gt10Years', 'options': '6To10Years', 'bullion': '6To10Years', 'algoTrade': '1To5Years', 'isLearnAboutProducts': 'Y', 'isIndustryExperience': 'Y', 'isStocks': 'Y', 'isBankruptcy': 'Y', 'bankruptcyDate': 1557158400000.0, 'isInAgtJobs': 'N', 'bankruptcyProve': ['1544166106_698802e5bebb842bfaf86bdf74458094.jpg'], 'isBondFuturesClientsConnected': 'N', 'isAcquaintHighLevel': 'N', 'isAmericanResidents': 'N', 'isAmericanResidentsb': 'N', 'isPoliticalFigure': 'N', 'purposeOfInvestment': ['hedging', 'asset'], 'riskTolerance': 'high'}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'employedPeriod': '', 'employmentOther': '', 'createdTime': 1564975955305.0, 'updatedTime': 1564975955305.0}
2019-08-06 15:52:41,555 del_mongo.py INFO [line:103] client_info 表关联的字段为 accountId : [ObjectId('5d47a352d6a3f6103e300eee')]
2019-08-06 15:52:41,555 del_mongo.py INFO [line:104] 正在查询关联表 account 的数据
2019-08-06 15:52:41,622 del_mongo.py INFO [line:66] account 表符合查询条件{'_id': ObjectId('5d47a352d6a3f6103e300eee')} 的数据有1 条
2019-08-06 15:52:41,755 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a352d6a3f6103e300eee'), 'accountType': ['bullionMargin', 'leveragedForeignExchangeAccountMargin', 'securitiesCash', 'futuresMargin'], 'clientId': [ObjectId('5d47a353d6a3f60177300ef9')], 'accountNumber': '80010', 'applicationFor': 'individual', 'accountOpeningWay': 'visitingAccount', 'tradeAccountList': [{'enabled': 'true', '_id': ObjectId('5d47a352d6a3f645ec300ef6'), 'type': 'STOCK', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1564975951642.0, 'tradeAccount': '800101110', 'tradeAccountType': 'securitiesCash', 'accountType': 'securitiesCash'}, {'enabled': 'true', '_id': ObjectId('5d47a352d6a3f61e96300ef5'), 'type': 'FUTURES', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1564975951642.0, 'tradeAccount': '800103210', 'tradeAccountType': 'futuresMargin', 'accountType': 'futuresMargin'}, {'enabled': 'true', '_id': ObjectId('5d47a352d6a3f63427300ef4'), 'type': 'FOREX', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1564975951642.0, 'tradeAccount': '800105210', 'tradeAccountType': 'mt5', 'accountType': 'leveragedForeignExchangeAccountMargin'}, {'enabled': 'true', '_id': ObjectId('5d47a352d6a3f69f33300ef3'), 'type': 'PM', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1564975951642.0, 'tradeAccount': '800106610', 'tradeAccountType': 'bullionMargin', 'accountType': 'bullionMargin'}], 'parentPath': '/100000/ceo_t1/sales_manager/sales_t1', 'referralCode': '', 'createdTime': 1564975951642.0, 'updatedTime': 1564975951642.0, 'createBy': '', 'updateBy': '', 'remark': '', 'idpUserId': '47d60f33-47d7-4ee6-b89f-6743c534e01e', 'tradingStructure': ''}
2019-08-06 15:52:41,756 del_mongo.py INFO [line:103] account 表关联的字段为 clientId : [ObjectId('5d47a353d6a3f60177300ef9')]
2019-08-06 15:52:41,756 del_mongo.py INFO [line:104] 正在查询关联表 client_info 的数据
2019-08-06 15:52:41,822 del_mongo.py INFO [line:66] client_info 表符合查询条件{'_id': ObjectId('5d47a353d6a3f60177300ef9')} 的数据有1 条
2019-08-06 15:52:41,956 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a353d6a3f60177300ef9'), 'accountId': [ObjectId('5d47a352d6a3f6103e300eee')], 'applyId': [ObjectId('5d47a2c586de045b9abc5ad5')], 'clientSeqId': 920, 'title': 'mr', 'firstName': '名', 'lastName': '姓', 'chineseName': 'bruce', 'pastEnglishName': '', 'pastChineseName': '', 'email': 'flynn.shu@newtype.io', 'phone': '18218805466', 'address': '465456456456', 'addressMail': '', 'phoneAreaCode': 'CHN', 'nationality': 'CHN', 'idType': '2', 'idNumber': '566847956456', 'countryIssue': 'CHN', 'birthday': 947001600000.0, 'birthPlace': 'CHN', 'employment': 'retired', 'employer': '', 'businessType': '', 'occupation': '', 'businessAddress': '', 'businessPhone': '', 'isMaster': '1', 'parentPath': '/100000/ceo_t1/sales_manager/sales_t1', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'isShowTradingStructureAggree': 'Y', 'isShowApplyToOpenTradingStructure': 'Y', 'isShowAlgoTrade': 'N', 'totalAnnualCustomerRevenueHK': 'lt500000', 'customerNetAssetValueHK': 'lt3000000', 'sourceOfWealth': ['selfOperated'], 'futures': '1To5Years', 'securities': 'gt10Years', 'CBBC': '6To10Years', 'warrants': 'gt10Years', 'foreignExchange': 'gt10Years', 'options': '6To10Years', 'bullion': '6To10Years', 'algoTrade': '1To5Years', 'isLearnAboutProducts': 'Y', 'isIndustryExperience': 'Y', 'isStocks': 'Y', 'isBankruptcy': 'Y', 'bankruptcyDate': 1557158400000.0, 'isInAgtJobs': 'N', 'bankruptcyProve': ['1544166106_698802e5bebb842bfaf86bdf74458094.jpg'], 'isBondFuturesClientsConnected': 'N', 'isAcquaintHighLevel': 'N', 'isAmericanResidents': 'N', 'isAmericanResidentsb': 'N', 'isPoliticalFigure': 'N', 'purposeOfInvestment': ['hedging', 'asset'], 'riskTolerance': 'high'}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'employedPeriod': '', 'employmentOther': '', 'createdTime': 1564975955305.0, 'updatedTime': 1564975955305.0}
2019-08-06 15:52:41,956 del_mongo.py INFO [line:118] account 表关联的字段为 idpUserId : 47d60f33-47d7-4ee6-b89f-6743c534e01e
2019-08-06 15:52:41,956 del_mongo.py INFO [line:119] 正在查询关联表 users 的数据
2019-08-06 15:52:42,023 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '47d60f33-47d7-4ee6-b89f-6743c534e01e'} 的数据有1 条
2019-08-06 15:52:42,423 del_mongo.py INFO [line:69] {'_id': ObjectId('5d479c249b27b34932fbccb0'), 'email_verified': False, 'phone_number_verified': False, 'roles': [], 'enabled': True, 'custom': {'accountNumber': '80010', 'accountId': '5d47a352d6a3f6103e300eee', 'device_id': ''}, 'preferred_username': 'flynn.shu@newtype.com', 'name': '姓名', 'family_name': '姓', 'given_name': '名', 'gender': 'm', 'birthdate': '2000-01-04T16:00:00.000Z', 'zoneinfo': 'CHN', 'locale': 'zh-hans', 'email': 'flynn.shu@newtype.io', 'address': '465456456456', 'phone_number': '8618218805466', 'subject': '47d60f33-47d7-4ee6-b89f-6743c534e01e', 'created_at': datetime.datetime(2019, 8, 5, 3, 1, 55, 867000), 'updated_at': datetime.datetime(2019, 8, 5, 3, 32, 38, 44000), 'secret': '$2a$08$HpzhDPKP9rM/xH6JLVeaOeHGJ9GWmvTZ91O.PPAleaO6FQ..DMPAO', '__v': 0}
2019-08-06 15:52:42,423 del_mongo.py INFO [line:138] users 表关联的字段为 subject : 47d60f33-47d7-4ee6-b89f-6743c534e01e
2019-08-06 15:52:42,423 del_mongo.py INFO [line:139] 正在查询关联表 userdevices 的数据
2019-08-06 15:52:42,490 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': '47d60f33-47d7-4ee6-b89f-6743c534e01e'} 的数据有0 条
2019-08-06 15:52:42,623 del_mongo.py INFO [line:157] ***********************************

2019-08-06 15:52:42,623 del_mongo.py INFO [line:158] 没有关联数据,直接删除users 表
2019-08-06 15:52:42,690 del_mongo.py INFO [line:172] <pymongo.results.DeleteResult object at 0x000001E8BBDB1808>
2019-08-06 15:52:42,690 del_mongo.py INFO [line:176] ***********************************

2019-08-06 15:52:42,690 del_mongo.py INFO [line:157] ***********************************

2019-08-06 15:52:42,690 del_mongo.py INFO [line:158] 没有关联数据,直接删除account 表
2019-08-06 15:52:42,757 del_mongo.py INFO [line:172] <pymongo.results.DeleteResult object at 0x000001E8BBDB17C8>
2019-08-06 15:52:42,757 del_mongo.py INFO [line:176] ***********************************

2019-08-06 15:52:42,757 del_mongo.py INFO [line:103] client_info 表关联的字段为 applyId : [ObjectId('5d47a2c586de045b9abc5ad5')]
2019-08-06 15:52:42,757 del_mongo.py INFO [line:104] 正在查询关联表 apply 的数据
2019-08-06 15:52:42,823 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5d47a2c586de045b9abc5ad5')} 的数据有1 条
2019-08-06 15:52:43,223 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a2c586de045b9abc5ad5'), 'isRoRefuse': '', 'accountType': ['bullionMargin', 'leveragedForeignExchangeAccountMargin', 'securitiesCash', 'futuresMargin'], 'appBankCardImg': [''], 'applyInfoIds': [ObjectId('5d47a2c686de04719bbc5af8')], 'learnHow': ['lecture'], 'tradingAuthorization': [], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['HK'], 'caApplyErr': [], 'reviewTime': ['{"ops":"1564975951642,137989"}'], 'step': '', 'origin': '', 'idpUserId': '47d60f33-47d7-4ee6-b89f-6743c534e01e', 'applicationFor': 'individual', 'parentId': 'sales_t1', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'visitingAccount', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '80010', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'N', 'status': 'success', 'customerSource': 'crm', 'applySeqId': '3781', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5d47a2c586de04d38dbc5af4'), 'username': 'aaron.chan', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de045c99bc5af3'), 'username': 'ceci_test', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0479ecbc5af2'), 'username': 'cliff_test', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de047332bc5af1'), 'username': 'barry.cheung', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de049bcbbc5af0'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0443a4bc5aef'), 'username': 'barry.cheung', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de040394bc5aee'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de041e65bc5aed'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de045154bc5aec'), 'username': 'jasper.lo', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0480e7bc5aeb'), 'username': 'cliff_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de04a271bc5aea'), 'username': 'barry.cheung', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de047de5bc5ae9'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de043f16bc5ae8'), 'username': 'barry.cheung', 'usertype': 'securitiesRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '/100000/ceo_t1/sales_manager/sales_t1', 'currency': 'NA', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': 'N', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': 'N', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': 'N', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c458eeb9fd40c8502ce1195'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c458eeb9fd40c0fafce1194'), 'pageNo': 14, 'x': 130, 'y': 93}, {'_id': ObjectId('5c458eeb9fd40c7569ce1193'), 'pageNo': 16, 'x': 130, 'y': 135}, {'_id': ObjectId('5d47a2c586de04bf10bc5af6'), 'pageNo': 16, 'x': 130, 'y': 135}, {'_id': ObjectId('5d47a2c586de042bc4bc5af5'), 'pageNo': 18, 'x': 130, 'y': 135}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': 1564975813653.0, 'createdTime': 1564975813653.0, 'updatedTime': 1564975813653.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '', 'appFileId': '', 'openlocation': '', 'isReSubmit': '', 'signatureFile': '', 'appVersion': '', 'deviceModel': '', 'isContactClient': '', 'reSubmitTime': None, 'accountOpeningTime': 1564975951642.0, 'LearnHowCodeOps': 'N', 'isHideGeneratePdfPage': '', 'isCommonService': '', 'accountOpeningAgreement': '', 'opsProcessing': {}, 'refuseBy': ''}
2019-08-06 15:52:43,224 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5d47a2c686de04719bbc5af8')]
2019-08-06 15:52:43,224 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-08-06 15:52:43,291 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5d47a2c686de04719bbc5af8')} 的数据有1 条
2019-08-06 15:52:43,423 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a2c686de04719bbc5af8'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5d47a2c586de045b9abc5ad5'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': '名', 'lastName': '姓', 'chineseName': 'bruce', 'email': 'flynn.shu@newtype.io', 'phoneAreaCode': 'CHN', 'phone': '18218805466', 'address': '465456456456', 'nationality': 'CHN', 'idType': '2', 'idNumber': '566847956456', 'countryIssue': 'CHN', 'birthday': 947001600000.0, 'birthPlace': 'CHN', 'employment': 'retired', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'isShowTradingStructureAggree': 'Y', 'isShowApplyToOpenTradingStructure': 'Y', 'isShowAlgoTrade': 'N', 'totalAnnualCustomerRevenueHK': 'lt500000', 'customerNetAssetValueHK': 'lt3000000', 'sourceOfWealth': ['selfOperated'], 'futures': '1To5Years', 'securities': 'gt10Years', 'CBBC': '6To10Years', 'warrants': 'gt10Years', 'foreignExchange': 'gt10Years', 'options': '6To10Years', 'bullion': '6To10Years', 'algoTrade': '1To5Years', 'isLearnAboutProducts': 'Y', 'isIndustryExperience': 'Y', 'isStocks': 'Y', 'isBankruptcy': 'Y', 'bankruptcyDate': 1557158400000.0, 'isInAgtJobs': 'N', 'bankruptcyProve': ['1544166106_698802e5bebb842bfaf86bdf74458094.jpg'], 'isBondFuturesClientsConnected': 'N', 'isAcquaintHighLevel': 'N', 'isAmericanResidents': 'N', 'isAmericanResidentsb': 'N', 'isPoliticalFigure': 'N', 'purposeOfInvestment': ['hedging', 'asset'], 'riskTolerance': 'high'}, 'pastEnglishName': '', 'pastChineseName': '', 'idCardAddress': '', 'addressMail': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'idCardAddressReadOnly': '', 'syncIDAddress': '', 'isHongKongBankCard': '', 'ocrInfo': {}, 'createdTime': 1564975814112.0, 'updatedTime': 1564975814112.0}
2019-08-06 15:52:43,424 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5d47a2c586de045b9abc5ad5
2019-08-06 15:52:43,424 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-08-06 15:52:43,489 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5d47a2c586de045b9abc5ad5')} 的数据有1 条
2019-08-06 15:52:43,622 del_mongo.py INFO [line:69] {'_id': ObjectId('5d47a2c586de045b9abc5ad5'), 'isRoRefuse': '', 'accountType': ['bullionMargin', 'leveragedForeignExchangeAccountMargin', 'securitiesCash', 'futuresMargin'], 'appBankCardImg': [''], 'applyInfoIds': [ObjectId('5d47a2c686de04719bbc5af8')], 'learnHow': ['lecture'], 'tradingAuthorization': [], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['HK'], 'caApplyErr': [], 'reviewTime': ['{"ops":"1564975951642,137989"}'], 'step': '', 'origin': '', 'idpUserId': '47d60f33-47d7-4ee6-b89f-6743c534e01e', 'applicationFor': 'individual', 'parentId': 'sales_t1', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'visitingAccount', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '80010', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'N', 'status': 'success', 'customerSource': 'crm', 'applySeqId': '3781', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5d47a2c586de04d38dbc5af4'), 'username': 'aaron.chan', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de045c99bc5af3'), 'username': 'ceci_test', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0479ecbc5af2'), 'username': 'cliff_test', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de047332bc5af1'), 'username': 'barry.cheung', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de049bcbbc5af0'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0443a4bc5aef'), 'username': 'barry.cheung', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de040394bc5aee'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de041e65bc5aed'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de045154bc5aec'), 'username': 'jasper.lo', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de0480e7bc5aeb'), 'username': 'cliff_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de04a271bc5aea'), 'username': 'barry.cheung', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de047de5bc5ae9'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d47a2c586de043f16bc5ae8'), 'username': 'barry.cheung', 'usertype': 'securitiesRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '/100000/ceo_t1/sales_manager/sales_t1', 'currency': 'NA', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': 'N', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': 'N', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': 'N', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c458eeb9fd40c8502ce1195'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c458eeb9fd40c0fafce1194'), 'pageNo': 14, 'x': 130, 'y': 93}, {'_id': ObjectId('5c458eeb9fd40c7569ce1193'), 'pageNo': 16, 'x': 130, 'y': 135}, {'_id': ObjectId('5d47a2c586de04bf10bc5af6'), 'pageNo': 16, 'x': 130, 'y': 135}, {'_id': ObjectId('5d47a2c586de042bc4bc5af5'), 'pageNo': 18, 'x': 130, 'y': 135}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': 1564975813653.0, 'createdTime': 1564975813653.0, 'updatedTime': 1564975813653.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '', 'appFileId': '', 'openlocation': '', 'isReSubmit': '', 'signatureFile': '', 'appVersion': '', 'deviceModel': '', 'isContactClient': '', 'reSubmitTime': None, 'accountOpeningTime': 1564975951642.0, 'LearnHowCodeOps': 'N', 'isHideGeneratePdfPage': '', 'isCommonService': '', 'accountOpeningAgreement': '', 'opsProcessing': {}, 'refuseBy': ''}
2019-08-06 15:52:43,622 del_mongo.py INFO [line:157] ***********************************

2019-08-06 15:52:43,622 del_mongo.py INFO [line:158] 没有关联数据,直接删除apply_info 表
2019-08-06 15:52:43,688 del_mongo.py INFO [line:172] <pymongo.results.DeleteResult object at 0x000001E8BBDC4DC8>
2019-08-06 15:52:43,688 del_mongo.py INFO [line:176] ***********************************

2019-08-06 15:52:43,688 del_mongo.py INFO [line:118] apply 表关联的字段为 idpUserId : 47d60f33-47d7-4ee6-b89f-6743c534e01e
2019-08-06 15:52:43,688 del_mongo.py INFO [line:119] 正在查询关联表 users 的数据
2019-08-06 15:52:43,755 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '47d60f33-47d7-4ee6-b89f-6743c534e01e'} 的数据有0 条
2019-08-06 15:52:43,886 del_mongo.py INFO [line:157] ***********************************

2019-08-06 15:52:43,886 del_mongo.py INFO [line:158] 没有关联数据,直接删除apply 表
2019-08-06 15:52:43,951 del_mongo.py INFO [line:172] <pymongo.results.DeleteResult object at 0x000001E8BBDC1E48>
2019-08-06 15:52:43,951 del_mongo.py INFO [line:176] ***********************************

2019-08-06 15:52:43,951 del_mongo.py INFO [line:157] ***********************************

2019-08-06 15:52:43,951 del_mongo.py INFO [line:158] 没有关联数据,直接删除client_info 表
2019-08-06 15:52:44,017 del_mongo.py INFO [line:172] <pymongo.results.DeleteResult object at 0x000001E8BBD85948>
2019-08-06 15:52:44,017 del_mongo.py INFO [line:176] ***********************************

2019-08-06 15:52:44,017 del_mongo.py INFO [line:37] close Client
2019-08-06 15:52:44,084 del_mongo.py INFO [line:44] account 表预计删除 1 条记录
2019-08-06 15:52:44,084 del_mongo.py INFO [line:44] client_info 表预计删除 1 条记录
2019-08-06 15:52:44,084 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-08-06 15:52:44,084 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-08-06 15:52:44,084 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-08-06 15:52:44,084 del_mongo.py INFO [line:51] account 表实际删除 1 条记录
2019-08-06 15:52:44,084 del_mongo.py INFO [line:51] client_info 表实际删除 1 条记录
2019-08-06 15:52:44,084 del_mongo.py INFO [line:51] apply 表实际删除 1 条记录
2019-08-06 15:52:44,084 del_mongo.py INFO [line:51] users 表实际删除 1 条记录
2019-08-06 15:52:44,084 del_mongo.py INFO [line:51] apply_info 表实际删除 1 条记录
