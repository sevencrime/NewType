2019-06-11 17:27:16,591 del_mongo.py INFO [line:31] 连接数据库uat
2019-06-11 17:27:21,523 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'phone': '15813873529'} 的数据有0 条
2019-06-11 17:27:21,641 del_mongo.py INFO [line:37] close Client
2019-06-11 17:27:31,199 del_mongo.py INFO [line:31] 连接数据库uat
2019-06-11 17:27:36,333 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'phone': '15823114387'} 的数据有1 条
2019-06-11 17:27:36,451 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff2097eb8b2c049f0ab01f'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cff2096eb8b2cb89c0aaff2'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Kongjie', 'lastName': 'E', 'chineseName': '鄂孔杰', 'pastEnglishName': '', 'email': 'carl.e@newtype.io', 'phoneAreaCode': 'CHN', 'phone': '15823114387', 'address': '重庆市万州区宁波路201号1幢7-4', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '500101198612296436', 'countryIssue': 'CHN', 'birthday': 536169600000.0, 'birthPlace': 'CHN', 'idCardAddress': '重庆市万州区宁波路201号1幢7-4', 'idCardAddressReadOnly': '重庆市万州区宁波路201号1幢7-4', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': '', 'isTradingStructureAggree': 'N', 'disclaimerVideo': '', 'passportMaterial': ['8940d64c-ceef-4956-bc42-d9ea63bb94a4.jpg', 'd1554612-63ce-4227-a11d-4582a5049631.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt200000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': 'iy', 'sourceOfWealth': ['pension', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '1To5Years', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['hedging', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['9b313fbe-849d-4eb1-81f2-73eb9309de27.jpg'], 'passportMaterialBackup': ['b13b7b46-1ef2-4a0b-a095-c50322a76354.jpg', 'de4ecb90-17f8-4aef-b09f-f1438bbb06a4.jpg'], 'signatureMaterial': ['c9b486d4-50e2-44e8-884b-cb7282a0eb0e.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['8940d64c-ceef-4956-bc42-d9ea63bb94a4.jpg', 'd1554612-63ce-4227-a11d-4582a5049631.jpg'], 'identityAuthenticationImgBak': ['9b313fbe-849d-4eb1-81f2-73eb9309de27.jpg'], 'signatureMaterialBak': ['c9b486d4-50e2-44e8-884b-cb7282a0eb0e.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '重庆市', 'idNo': '500101198612296436', 'userName': '鄂孔杰', 'sex': '男', 'contactAddr': '重庆市万州区宁波路201号1幢7-4', 'birthday': '1986/12/29', 'nationality': '汉', 'cardedPlace': '重庆市公安局万州分局', 'cardedExpiryDate': '20160621-20360621'}, 'createdTime': 1560223895037.0, 'updatedTime': 1560223895037.0}
2019-06-11 17:27:36,453 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5cff2096eb8b2cb89c0aaff2
2019-06-11 17:27:36,453 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-06-11 17:27:36,508 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5cff2096eb8b2cb89c0aaff2')} 的数据有1 条
2019-06-11 17:27:36,620 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff2096eb8b2cb89c0aaff2'), 'isRoRefuse': '', 'accountType': ['futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'appBankCardImg': [], 'applyInfoIds': [ObjectId('5cff2097eb8b2c049f0ab01f')], 'learnHow': ['newspaper', 'magazine'], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'caApplyErr': ['applyCert:-5:OCR调用失败:2019June11 03:23:38'], 'reviewTime': [], 'step': 'Preview', 'origin': '', 'idpUserId': 'a23074d1-e2ec-4f4e-869f-73f62436a924', 'applicationFor': 'individual', 'parentId': 'kwokwah.wong', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'electronicAuth', 'appBankName': '农业银行', 'appBankAccount': '6228480478396439679', 'appCertSn': '3AD1144158F1B1A2', 'appCertDn': 'CN=鄂孔杰,OU=500101198612296436,OU=113,O=0,L=深圳,ST=广东,C=CN', 'accountNumber': '', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'Y', 'status': 'reviewing', 'customerSource': 'app', 'applySeqId': '8798', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5cff56fae1117005812cc415'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae1117031e92cc414'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111702b372cc413'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111709d192cc412'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae11170174b2cc411'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae1117026d82cc410'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111702def2cc40f'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae1117056cb2cc40e'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111701bc02cc40d'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae11170d51d2cc40c'), 'username': 'ro_one', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111704c4c2cc40b'), 'username': 'onedi.admin', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111700ffe2cc40a'), 'username': 'cliff_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111703d5e2cc409'), 'username': 'aaron_chan', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': 'uyyg', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5cff56fae111705f852cc416'), 'taxId': '500101198612296436', 'residenceJurisdiction': 'China'}], 'referralCode': '235', 'signatureCoords': [{'_id': ObjectId('5cff56fae1117074672cc418'), 'pageNo': 11, 'x': 140, 'y': 274}, {'_id': ObjectId('5cff56fae11170a9712cc417'), 'pageNo': 13, 'x': 130, 'y': 118}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': 1560225704672.0, 'createdTime': 1560223894854.0, 'updatedTime': 1560237818800.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '15823114387', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.4.0', 'deviceModel': 'MI 6/Android:8.0.0', 'isContactClient': '', 'reSubmitTime': None, 'LearnHowCodeOps': '', 'isHideGeneratePdfPage': 'N', 'isCommonService': 'Y', 'refuseBy': ''}
2019-06-11 17:27:36,620 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5cff2097eb8b2c049f0ab01f')]
2019-06-11 17:27:36,620 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-06-11 17:27:36,676 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5cff2097eb8b2c049f0ab01f')} 的数据有1 条
2019-06-11 17:27:36,785 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff2097eb8b2c049f0ab01f'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cff2096eb8b2cb89c0aaff2'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Kongjie', 'lastName': 'E', 'chineseName': '鄂孔杰', 'pastEnglishName': '', 'email': 'carl.e@newtype.io', 'phoneAreaCode': 'CHN', 'phone': '15823114387', 'address': '重庆市万州区宁波路201号1幢7-4', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '500101198612296436', 'countryIssue': 'CHN', 'birthday': 536169600000.0, 'birthPlace': 'CHN', 'idCardAddress': '重庆市万州区宁波路201号1幢7-4', 'idCardAddressReadOnly': '重庆市万州区宁波路201号1幢7-4', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': '', 'isTradingStructureAggree': 'N', 'disclaimerVideo': '', 'passportMaterial': ['8940d64c-ceef-4956-bc42-d9ea63bb94a4.jpg', 'd1554612-63ce-4227-a11d-4582a5049631.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt200000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': 'iy', 'sourceOfWealth': ['pension', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '1To5Years', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['hedging', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['9b313fbe-849d-4eb1-81f2-73eb9309de27.jpg'], 'passportMaterialBackup': ['b13b7b46-1ef2-4a0b-a095-c50322a76354.jpg', 'de4ecb90-17f8-4aef-b09f-f1438bbb06a4.jpg'], 'signatureMaterial': ['c9b486d4-50e2-44e8-884b-cb7282a0eb0e.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['8940d64c-ceef-4956-bc42-d9ea63bb94a4.jpg', 'd1554612-63ce-4227-a11d-4582a5049631.jpg'], 'identityAuthenticationImgBak': ['9b313fbe-849d-4eb1-81f2-73eb9309de27.jpg'], 'signatureMaterialBak': ['c9b486d4-50e2-44e8-884b-cb7282a0eb0e.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '重庆市', 'idNo': '500101198612296436', 'userName': '鄂孔杰', 'sex': '男', 'contactAddr': '重庆市万州区宁波路201号1幢7-4', 'birthday': '1986/12/29', 'nationality': '汉', 'cardedPlace': '重庆市公安局万州分局', 'cardedExpiryDate': '20160621-20360621'}, 'createdTime': 1560223895037.0, 'updatedTime': 1560223895037.0}
2019-06-11 17:27:36,785 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : a23074d1-e2ec-4f4e-869f-73f62436a924
2019-06-11 17:27:36,785 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-06-11 17:27:36,838 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924'} 的数据有1 条
2019-06-11 17:27:36,943 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff1fcb5bea6c163cc29ac6'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '13480994387', 'email': 'carl.e@newtype.io', 'phone_number': '8613480994387', 'custom': {'device_id': '4d606f1da1075c25'}, 'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924', 'created_at': datetime.datetime(2019, 6, 11, 3, 28, 10, 922000), 'updated_at': datetime.datetime(2019, 6, 11, 4, 1, 44, 834000), 'secret': '$2a$08$cZedMrycwFimODsdQCUxiuyMSHpc0JMBxMheI/2YQoIop14rPOm9C', '__v': 0}
2019-06-11 17:27:36,943 del_mongo.py INFO [line:136] users 表关联的字段为 subject : a23074d1-e2ec-4f4e-869f-73f62436a924
2019-06-11 17:27:36,943 del_mongo.py INFO [line:137] 正在查询关联表 userdevices 的数据
2019-06-11 17:27:36,996 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924'} 的数据有3 条
2019-06-11 17:27:37,103 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff1fd16d85320cb1b1a8ab'), 'device_id': '4d606f1da1075c25', 'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924', '__v': 0, 'code': '390f0b1c-15d8-423c-8177-659a9078c07a', 'created_at': datetime.datetime(2019, 6, 11, 3, 28, 17, 303000), 'verified': True}
2019-06-11 17:27:37,103 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:37,103 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-06-11 17:27:37,103 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:37,103 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff3fce6d85320cb1b3cec2'), 'device_id': 'd20740b404e63943', 'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924', '__v': 0, 'code': '58cac5fd-9e57-4316-8967-9ff476f7bcd7', 'created_at': datetime.datetime(2019, 6, 11, 5, 44, 46, 264000), 'verified': True}
2019-06-11 17:27:37,103 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:37,103 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-06-11 17:27:37,103 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:37,103 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff64866d85320cb1b66f0b'), 'device_id': '36e6b188893a1d0a', 'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924', '__v': 0, 'code': 'e0c63ba3-8fca-45f3-91c4-f37ff0661b9b', 'created_at': datetime.datetime(2019, 6, 11, 8, 21, 26, 995000), 'verified': True}
2019-06-11 17:27:37,103 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:37,103 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-06-11 17:27:37,103 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:37,103 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:37,104 del_mongo.py INFO [line:153] 没有关联数据,直接删除users 表
2019-06-11 17:27:37,104 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:37,104 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:37,104 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-06-11 17:27:37,104 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:37,104 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:37,104 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-06-11 17:27:37,104 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:37,104 del_mongo.py INFO [line:37] close Client
2019-06-11 17:27:37,159 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-06-11 17:27:37,159 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-06-11 17:27:37,159 del_mongo.py INFO [line:44] userdevices 表预计删除 3 条记录
2019-06-11 17:27:37,159 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-06-11 17:27:41,809 del_mongo.py INFO [line:31] 连接数据库uat
2019-06-11 17:27:46,678 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'phone': '15823114387'} 的数据有1 条
2019-06-11 17:27:46,794 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff2097eb8b2c049f0ab01f'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cff2096eb8b2cb89c0aaff2'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Kongjie', 'lastName': 'E', 'chineseName': '鄂孔杰', 'pastEnglishName': '', 'email': 'carl.e@newtype.io', 'phoneAreaCode': 'CHN', 'phone': '15823114387', 'address': '重庆市万州区宁波路201号1幢7-4', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '500101198612296436', 'countryIssue': 'CHN', 'birthday': 536169600000.0, 'birthPlace': 'CHN', 'idCardAddress': '重庆市万州区宁波路201号1幢7-4', 'idCardAddressReadOnly': '重庆市万州区宁波路201号1幢7-4', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': '', 'isTradingStructureAggree': 'N', 'disclaimerVideo': '', 'passportMaterial': ['8940d64c-ceef-4956-bc42-d9ea63bb94a4.jpg', 'd1554612-63ce-4227-a11d-4582a5049631.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt200000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': 'iy', 'sourceOfWealth': ['pension', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '1To5Years', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['hedging', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['9b313fbe-849d-4eb1-81f2-73eb9309de27.jpg'], 'passportMaterialBackup': ['b13b7b46-1ef2-4a0b-a095-c50322a76354.jpg', 'de4ecb90-17f8-4aef-b09f-f1438bbb06a4.jpg'], 'signatureMaterial': ['c9b486d4-50e2-44e8-884b-cb7282a0eb0e.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['8940d64c-ceef-4956-bc42-d9ea63bb94a4.jpg', 'd1554612-63ce-4227-a11d-4582a5049631.jpg'], 'identityAuthenticationImgBak': ['9b313fbe-849d-4eb1-81f2-73eb9309de27.jpg'], 'signatureMaterialBak': ['c9b486d4-50e2-44e8-884b-cb7282a0eb0e.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '重庆市', 'idNo': '500101198612296436', 'userName': '鄂孔杰', 'sex': '男', 'contactAddr': '重庆市万州区宁波路201号1幢7-4', 'birthday': '1986/12/29', 'nationality': '汉', 'cardedPlace': '重庆市公安局万州分局', 'cardedExpiryDate': '20160621-20360621'}, 'createdTime': 1560223895037.0, 'updatedTime': 1560223895037.0}
2019-06-11 17:27:46,794 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5cff2096eb8b2cb89c0aaff2
2019-06-11 17:27:46,794 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-06-11 17:27:46,847 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5cff2096eb8b2cb89c0aaff2')} 的数据有1 条
2019-06-11 17:27:46,956 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff2096eb8b2cb89c0aaff2'), 'isRoRefuse': '', 'accountType': ['futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'appBankCardImg': [], 'applyInfoIds': [ObjectId('5cff2097eb8b2c049f0ab01f')], 'learnHow': ['newspaper', 'magazine'], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'caApplyErr': ['applyCert:-5:OCR调用失败:2019June11 03:23:38'], 'reviewTime': [], 'step': 'Preview', 'origin': '', 'idpUserId': 'a23074d1-e2ec-4f4e-869f-73f62436a924', 'applicationFor': 'individual', 'parentId': 'kwokwah.wong', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'electronicAuth', 'appBankName': '农业银行', 'appBankAccount': '6228480478396439679', 'appCertSn': '3AD1144158F1B1A2', 'appCertDn': 'CN=鄂孔杰,OU=500101198612296436,OU=113,O=0,L=深圳,ST=广东,C=CN', 'accountNumber': '', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'Y', 'status': 'reviewing', 'customerSource': 'app', 'applySeqId': '8798', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5cff56fae1117005812cc415'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae1117031e92cc414'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111702b372cc413'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111709d192cc412'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae11170174b2cc411'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae1117026d82cc410'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111702def2cc40f'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae1117056cb2cc40e'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111701bc02cc40d'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae11170d51d2cc40c'), 'username': 'ro_one', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111704c4c2cc40b'), 'username': 'onedi.admin', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111700ffe2cc40a'), 'username': 'cliff_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cff56fae111703d5e2cc409'), 'username': 'aaron_chan', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': 'uyyg', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5cff56fae111705f852cc416'), 'taxId': '500101198612296436', 'residenceJurisdiction': 'China'}], 'referralCode': '235', 'signatureCoords': [{'_id': ObjectId('5cff56fae1117074672cc418'), 'pageNo': 11, 'x': 140, 'y': 274}, {'_id': ObjectId('5cff56fae11170a9712cc417'), 'pageNo': 13, 'x': 130, 'y': 118}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': 1560225704672.0, 'createdTime': 1560223894854.0, 'updatedTime': 1560237818800.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '15823114387', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.4.0', 'deviceModel': 'MI 6/Android:8.0.0', 'isContactClient': '', 'reSubmitTime': None, 'LearnHowCodeOps': '', 'isHideGeneratePdfPage': 'N', 'isCommonService': 'Y', 'refuseBy': ''}
2019-06-11 17:27:46,956 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5cff2097eb8b2c049f0ab01f')]
2019-06-11 17:27:46,957 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-06-11 17:27:47,010 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5cff2097eb8b2c049f0ab01f')} 的数据有1 条
2019-06-11 17:27:47,119 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff2097eb8b2c049f0ab01f'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cff2096eb8b2cb89c0aaff2'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Kongjie', 'lastName': 'E', 'chineseName': '鄂孔杰', 'pastEnglishName': '', 'email': 'carl.e@newtype.io', 'phoneAreaCode': 'CHN', 'phone': '15823114387', 'address': '重庆市万州区宁波路201号1幢7-4', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '500101198612296436', 'countryIssue': 'CHN', 'birthday': 536169600000.0, 'birthPlace': 'CHN', 'idCardAddress': '重庆市万州区宁波路201号1幢7-4', 'idCardAddressReadOnly': '重庆市万州区宁波路201号1幢7-4', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': '', 'isTradingStructureAggree': 'N', 'disclaimerVideo': '', 'passportMaterial': ['8940d64c-ceef-4956-bc42-d9ea63bb94a4.jpg', 'd1554612-63ce-4227-a11d-4582a5049631.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt200000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': 'iy', 'sourceOfWealth': ['pension', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '1To5Years', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['hedging', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['9b313fbe-849d-4eb1-81f2-73eb9309de27.jpg'], 'passportMaterialBackup': ['b13b7b46-1ef2-4a0b-a095-c50322a76354.jpg', 'de4ecb90-17f8-4aef-b09f-f1438bbb06a4.jpg'], 'signatureMaterial': ['c9b486d4-50e2-44e8-884b-cb7282a0eb0e.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['8940d64c-ceef-4956-bc42-d9ea63bb94a4.jpg', 'd1554612-63ce-4227-a11d-4582a5049631.jpg'], 'identityAuthenticationImgBak': ['9b313fbe-849d-4eb1-81f2-73eb9309de27.jpg'], 'signatureMaterialBak': ['c9b486d4-50e2-44e8-884b-cb7282a0eb0e.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '重庆市', 'idNo': '500101198612296436', 'userName': '鄂孔杰', 'sex': '男', 'contactAddr': '重庆市万州区宁波路201号1幢7-4', 'birthday': '1986/12/29', 'nationality': '汉', 'cardedPlace': '重庆市公安局万州分局', 'cardedExpiryDate': '20160621-20360621'}, 'createdTime': 1560223895037.0, 'updatedTime': 1560223895037.0}
2019-06-11 17:27:47,119 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : a23074d1-e2ec-4f4e-869f-73f62436a924
2019-06-11 17:27:47,119 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-06-11 17:27:47,173 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924'} 的数据有1 条
2019-06-11 17:27:47,279 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff1fcb5bea6c163cc29ac6'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '13480994387', 'email': 'carl.e@newtype.io', 'phone_number': '8613480994387', 'custom': {'device_id': '4d606f1da1075c25'}, 'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924', 'created_at': datetime.datetime(2019, 6, 11, 3, 28, 10, 922000), 'updated_at': datetime.datetime(2019, 6, 11, 4, 1, 44, 834000), 'secret': '$2a$08$cZedMrycwFimODsdQCUxiuyMSHpc0JMBxMheI/2YQoIop14rPOm9C', '__v': 0}
2019-06-11 17:27:47,279 del_mongo.py INFO [line:136] users 表关联的字段为 subject : a23074d1-e2ec-4f4e-869f-73f62436a924
2019-06-11 17:27:47,280 del_mongo.py INFO [line:137] 正在查询关联表 userdevices 的数据
2019-06-11 17:27:47,333 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924'} 的数据有3 条
2019-06-11 17:27:47,441 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff1fd16d85320cb1b1a8ab'), 'device_id': '4d606f1da1075c25', 'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924', '__v': 0, 'code': '390f0b1c-15d8-423c-8177-659a9078c07a', 'created_at': datetime.datetime(2019, 6, 11, 3, 28, 17, 303000), 'verified': True}
2019-06-11 17:27:47,441 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:47,442 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-06-11 17:27:47,496 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x000001CEF3090788>
2019-06-11 17:27:47,496 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:47,496 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff3fce6d85320cb1b3cec2'), 'device_id': 'd20740b404e63943', 'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924', '__v': 0, 'code': '58cac5fd-9e57-4316-8967-9ff476f7bcd7', 'created_at': datetime.datetime(2019, 6, 11, 5, 44, 46, 264000), 'verified': True}
2019-06-11 17:27:47,496 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:47,496 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-06-11 17:27:47,550 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x000001CEF306DF88>
2019-06-11 17:27:47,550 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:47,550 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff64866d85320cb1b66f0b'), 'device_id': '36e6b188893a1d0a', 'subject': 'a23074d1-e2ec-4f4e-869f-73f62436a924', '__v': 0, 'code': 'e0c63ba3-8fca-45f3-91c4-f37ff0661b9b', 'created_at': datetime.datetime(2019, 6, 11, 8, 21, 26, 995000), 'verified': True}
2019-06-11 17:27:47,550 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:47,550 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-06-11 17:27:47,604 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x000001CEF306DF08>
2019-06-11 17:27:47,604 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:47,604 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:47,604 del_mongo.py INFO [line:153] 没有关联数据,直接删除users 表
2019-06-11 17:27:47,658 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x000001CEF306DF08>
2019-06-11 17:27:47,658 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:47,658 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:47,658 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-06-11 17:27:47,712 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x000001CEF306DF08>
2019-06-11 17:27:47,712 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:47,712 del_mongo.py INFO [line:152] ***********************************

2019-06-11 17:27:47,712 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-06-11 17:27:47,770 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x000001CEF3095F88>
2019-06-11 17:27:47,771 del_mongo.py INFO [line:171] ***********************************

2019-06-11 17:27:47,771 del_mongo.py INFO [line:37] close Client
2019-06-11 17:27:47,824 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-06-11 17:27:47,824 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-06-11 17:27:47,825 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-06-11 17:27:47,825 del_mongo.py INFO [line:44] userdevices 表预计删除 3 条记录
2019-06-11 17:27:47,825 del_mongo.py INFO [line:51] users 表实际删除 1 条记录
2019-06-11 17:27:47,825 del_mongo.py INFO [line:51] apply_info 表实际删除 1 条记录
2019-06-11 17:27:47,825 del_mongo.py INFO [line:51] apply 表实际删除 1 条记录
2019-06-11 17:27:47,825 del_mongo.py INFO [line:51] userdevices 表实际删除 3 条记录
