2019-04-25 15:24:03,851 del_mongo.py INFO [line:28] 连接数据库uat
2019-04-25 15:24:06,835 del_mongo.py INFO [line:44] apply_info 表符合查询条件{'phone': '15815873756'} 的数据有1 条
2019-04-25 15:24:06,945 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc11806f22645ac9ae5990c'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cc11805f2264520cde598f1'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Huajun', 'lastName': 'Deng', 'chineseName': '邓华俊', 'pastEnglishName': '', 'email': '794942392@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15815873756', 'address': '广东省深圳市南山区广东省深圳市南山区西丽', 'syncIDAddress': 'N', 'isHongKongBankCard': 'N', 'addressRegionProvince': '广东省', 'addressRegionCity': '深圳市', 'addressRegionArea': '南山区', 'addressDetailed': '广东省深圳市南山区西丽', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '431121199601081731', 'countryIssue': 'CHN', 'birthday': 821059200000.0, 'birthPlace': 'CHN', 'idCardAddress': '湖南省祁阳县大忠桥镇镰头湾村4组', 'idCardAddressReadOnly': '湖南省祁阳县大忠桥镇镰头湾村4组', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '1edb1f8b-4f68-43a1-8d27-efa360d4de02.mp4', 'passportMaterial': ['cfced771-2057-4e60-b1f3-1ab23f87087d.jpg', 'd914dca8-970b-4822-ac4e-86caed795129.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': ['00d738fa-63fb-444a-b141-a24d1a7043b9.jpg'], 'bankCardMaterials': [], 'writtenApplicationMaterials': ['925b8d87-5592-4e09-84d0-83233d494d26.pdf'], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt500000', 'totalAnnualCustomerRevenueHKOther': '你猜', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': '不告诉你', 'sourceOfWealth': ['investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '1To5Years', 'isAlgoTrade': 'N', 'isAlgoTradeAggree': 'N', 'bullion': 'lt1Year', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'Y', 'isIndustryExperience': 'N', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': 'hedging', 'riskTolerance': 'high', 'disclaimerVideoBak': ['7be49187-db6a-4f63-b4ed-c0f4d207a6b4.mp4', '93c6ce34-b4c7-4508-be59-a2066016cac3.mp4', '1d35c452-0110-41d8-9ee0-69070c3c1b9d.mp4', 'c994e90e-bba6-4001-8ad7-e9131b5414b4.mp4', 'bb582fdc-9cd0-4037-a918-44c91ace9899.mp4', '1edb1f8b-4f68-43a1-8d27-efa360d4de02.mp4'], 'passportMaterialBak': ['cfced771-2057-4e60-b1f3-1ab23f87087d.jpg', 'd914dca8-970b-4822-ac4e-86caed795129.jpg'], 'isReferralCode': 'N', 'addressVerificationMaterialsBak': ['00d738fa-63fb-444a-b141-a24d1a7043b9.jpg'], 'writtenApplicationMaterialsBak': ['ad701953-7481-4cf7-a559-018f36988d57.pdf', '0bbf870d-6f63-486a-a9d6-6205ce8b2e17.pdf', '96e8008a-511d-452a-a66f-5b8a020c87f8.pdf', '52db9786-e788-4108-9400-fc7da07fcfb6.pdf', '925b8d87-5592-4e09-84d0-83233d494d26.pdf']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'createdTime': 1556158470529.0, 'updatedTime': 1556158470529.0}
2019-04-25 15:24:06,954 del_mongo.py INFO [line:58] apply_info 表关联的字段为 applyId : 5cc11805f2264520cde598f1
2019-04-25 15:24:06,954 del_mongo.py INFO [line:59] 正在查询关联表 apply 的数据
2019-04-25 15:24:07,007 del_mongo.py INFO [line:44] apply 表符合查询条件{'_id': ObjectId('5cc11805f2264520cde598f1')} 的数据有1 条
2019-04-25 15:24:07,108 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc11805f2264520cde598f1'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin', 'leveragedForeignExchangeAccountMargin', 'bullionMargin'], 'applyInfoIds': [ObjectId('5cc11806f22645ac9ae5990c')], 'learnHow': ['socialMedia'], 'tradingAuthorization': [''], 'isRelatedAccounts': ['opt'], 'step': 'success', 'origin': '', 'idpUserId': '2de4977d-baff-46b9-8f1f-46ab817521ab', 'applicationFor': 'individual', 'parentId': 'kwokwah.wong', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'electronicAuth', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '3477E63F70613B09', 'appCertDn': 'CN=邓华俊,OU=431121199601081731,OU=1,O=0,L=永州市,ST=湖南省,C=CN', 'accountNumber': '', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'Y', 'status': 'refuse', 'customerSource': 'app', 'applySeqId': 8296, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5cc14c1c5b004d45648397cc'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d887f8397cb'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d09e48397ca'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d55728397c9'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d6fe88397c8'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004deadf8397c7'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004db7998397c6'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d3e0d8397c5'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d548e8397c4'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004dc9268397c3'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d10da8397c2'), 'username': 'ro_one', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d47938397c1'), 'username': 'ro_gold', 'usertype': 'bullionRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': 'CNY', 'bankAccount': [{'_id': ObjectId('5cc11d85f226457913e599f9'), 'name': '1234', 'number': '1236547890', 'holder': 'Deng Huajun', 'currency': 'CNY'}], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': 'EDZQ', 'learnHowOther': '', 'isBeneficiary': 'N', 'beneficiaryName': '受益人', 'isOrders': 'N', 'ordersName': '下单人', 'relatedAccountsOpt': [{'_id': ObjectId('5cc14c1c5b004dd5fa8397ce'), 'taxId': '431121199601081731', 'residenceJurisdiction': 'China'}], 'referralCode': '201001', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': 1556163084446.0, 'remark': 'testing', 'reason': {'other': ['szca']}, 'principal': '', 'openlocation': '', 'isReSubmit': 'Y', 'signatureFile': 'tmp/hNEVMiux1556171714615.pdf', 'appVersion': 'v1.3.1.h-20190404', 'deviceModel': 'vivo X9s/Android:7.1.1', 'isContactClient': 'N', 'reSubmitTime': 1556171804893.0, 'refuseBy': {'name': 'cs1_t2', 'role': 'cs1'}, 'createdTime': 1556158469786.0, 'updatedTime': 1556171804294.0}
2019-04-25 15:24:07,108 del_mongo.py INFO [line:93] apply 表关联的字段为 idpUserId : 2de4977d-baff-46b9-8f1f-46ab817521ab
2019-04-25 15:24:07,108 del_mongo.py INFO [line:94] 正在查询关联表 users 的数据
2019-04-25 15:24:07,161 del_mongo.py INFO [line:44] users 表符合查询条件{'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab'} 的数据有1 条
2019-04-25 15:24:07,266 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc116e5db374283ae5747d1'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '15815873756', 'email': '15815873756@toBeCreated.com', 'phone_number': '8615815873756', 'custom': {'device_id': 'ce9851ed8615e240'}, 'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab', 'created_at': datetime.datetime(2019, 4, 25, 2, 9, 41, 581000), 'updated_at': datetime.datetime(2019, 4, 25, 2, 9, 41, 581000), 'secret': '$2a$08$ODaTm0/4IMzhjcsAaQDtTebL1G/9xqC2ZpfYDmhR8UqjtyAxcHey2', '__v': 0}
2019-04-25 15:24:07,266 del_mongo.py INFO [line:110] users 表关联的字段为 subject : 2de4977d-baff-46b9-8f1f-46ab817521ab
2019-04-25 15:24:07,266 del_mongo.py INFO [line:111] 正在查询关联表 userdevices 的数据
2019-04-25 15:24:07,321 del_mongo.py INFO [line:44] userdevices 表符合查询条件{'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab'} 的数据有3 条
2019-04-25 15:24:07,430 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc117f46d85320cb1d63b59'), 'device_id': 'ce9851ed8615e240', 'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab', '__v': 0, 'code': '975dc38c-3408-4431-996c-46f5623ef368', 'created_at': datetime.datetime(2019, 4, 25, 2, 14, 12, 309000), 'verified': True}
2019-04-25 15:24:07,430 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:07,430 del_mongo.py INFO [line:130] 没有关联数据,直接删除userdevices 表
2019-04-25 15:24:07,430 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:07,430 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc11e9b6d85320cb1d6c6d5'), 'device_id': '2054b8ec62726049', 'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab', '__v': 0, 'code': '1698432e-50a7-4ba0-86df-c21c93c093b1', 'created_at': datetime.datetime(2019, 4, 25, 2, 42, 35, 402000), 'verified': True}
2019-04-25 15:24:07,430 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:07,430 del_mongo.py INFO [line:130] 没有关联数据,直接删除userdevices 表
2019-04-25 15:24:07,430 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:07,430 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc13b056d85320cb1d92820'), 'device_id': '157181f931412cc2', 'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab', '__v': 0, 'code': 'd527be93-aebb-4882-a83e-873a603eecf6', 'created_at': datetime.datetime(2019, 4, 25, 4, 43, 49, 273000), 'verified': True}
2019-04-25 15:24:07,430 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:07,430 del_mongo.py INFO [line:130] 没有关联数据,直接删除userdevices 表
2019-04-25 15:24:07,430 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:07,430 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:07,430 del_mongo.py INFO [line:130] 没有关联数据,直接删除users 表
2019-04-25 15:24:07,431 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:07,431 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:07,431 del_mongo.py INFO [line:130] 没有关联数据,直接删除apply 表
2019-04-25 15:24:07,431 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:07,431 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:07,431 del_mongo.py INFO [line:130] 没有关联数据,直接删除apply_info 表
2019-04-25 15:24:07,431 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:07,431 del_mongo.py INFO [line:34] close Client
2019-04-25 15:24:11,362 del_mongo.py INFO [line:28] 连接数据库uat
2019-04-25 15:24:14,462 del_mongo.py INFO [line:44] apply_info 表符合查询条件{'phone': '15815873756'} 的数据有1 条
2019-04-25 15:24:14,571 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc11806f22645ac9ae5990c'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cc11805f2264520cde598f1'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Huajun', 'lastName': 'Deng', 'chineseName': '邓华俊', 'pastEnglishName': '', 'email': '794942392@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15815873756', 'address': '广东省深圳市南山区广东省深圳市南山区西丽', 'syncIDAddress': 'N', 'isHongKongBankCard': 'N', 'addressRegionProvince': '广东省', 'addressRegionCity': '深圳市', 'addressRegionArea': '南山区', 'addressDetailed': '广东省深圳市南山区西丽', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '431121199601081731', 'countryIssue': 'CHN', 'birthday': 821059200000.0, 'birthPlace': 'CHN', 'idCardAddress': '湖南省祁阳县大忠桥镇镰头湾村4组', 'idCardAddressReadOnly': '湖南省祁阳县大忠桥镇镰头湾村4组', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '1edb1f8b-4f68-43a1-8d27-efa360d4de02.mp4', 'passportMaterial': ['cfced771-2057-4e60-b1f3-1ab23f87087d.jpg', 'd914dca8-970b-4822-ac4e-86caed795129.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': ['00d738fa-63fb-444a-b141-a24d1a7043b9.jpg'], 'bankCardMaterials': [], 'writtenApplicationMaterials': ['925b8d87-5592-4e09-84d0-83233d494d26.pdf'], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt500000', 'totalAnnualCustomerRevenueHKOther': '你猜', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': '不告诉你', 'sourceOfWealth': ['investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '1To5Years', 'isAlgoTrade': 'N', 'isAlgoTradeAggree': 'N', 'bullion': 'lt1Year', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'Y', 'isIndustryExperience': 'N', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': 'hedging', 'riskTolerance': 'high', 'disclaimerVideoBak': ['7be49187-db6a-4f63-b4ed-c0f4d207a6b4.mp4', '93c6ce34-b4c7-4508-be59-a2066016cac3.mp4', '1d35c452-0110-41d8-9ee0-69070c3c1b9d.mp4', 'c994e90e-bba6-4001-8ad7-e9131b5414b4.mp4', 'bb582fdc-9cd0-4037-a918-44c91ace9899.mp4', '1edb1f8b-4f68-43a1-8d27-efa360d4de02.mp4'], 'passportMaterialBak': ['cfced771-2057-4e60-b1f3-1ab23f87087d.jpg', 'd914dca8-970b-4822-ac4e-86caed795129.jpg'], 'isReferralCode': 'N', 'addressVerificationMaterialsBak': ['00d738fa-63fb-444a-b141-a24d1a7043b9.jpg'], 'writtenApplicationMaterialsBak': ['ad701953-7481-4cf7-a559-018f36988d57.pdf', '0bbf870d-6f63-486a-a9d6-6205ce8b2e17.pdf', '96e8008a-511d-452a-a66f-5b8a020c87f8.pdf', '52db9786-e788-4108-9400-fc7da07fcfb6.pdf', '925b8d87-5592-4e09-84d0-83233d494d26.pdf']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'createdTime': 1556158470529.0, 'updatedTime': 1556158470529.0}
2019-04-25 15:24:14,571 del_mongo.py INFO [line:58] apply_info 表关联的字段为 applyId : 5cc11805f2264520cde598f1
2019-04-25 15:24:14,571 del_mongo.py INFO [line:59] 正在查询关联表 apply 的数据
2019-04-25 15:24:14,621 del_mongo.py INFO [line:44] apply 表符合查询条件{'_id': ObjectId('5cc11805f2264520cde598f1')} 的数据有1 条
2019-04-25 15:24:14,722 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc11805f2264520cde598f1'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin', 'leveragedForeignExchangeAccountMargin', 'bullionMargin'], 'applyInfoIds': [ObjectId('5cc11806f22645ac9ae5990c')], 'learnHow': ['socialMedia'], 'tradingAuthorization': [''], 'isRelatedAccounts': ['opt'], 'step': 'success', 'origin': '', 'idpUserId': '2de4977d-baff-46b9-8f1f-46ab817521ab', 'applicationFor': 'individual', 'parentId': 'kwokwah.wong', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'electronicAuth', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '3477E63F70613B09', 'appCertDn': 'CN=邓华俊,OU=431121199601081731,OU=1,O=0,L=永州市,ST=湖南省,C=CN', 'accountNumber': '', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'Y', 'status': 'refuse', 'customerSource': 'app', 'applySeqId': 8296, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5cc14c1c5b004d45648397cc'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d887f8397cb'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d09e48397ca'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d55728397c9'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d6fe88397c8'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004deadf8397c7'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004db7998397c6'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d3e0d8397c5'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d548e8397c4'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004dc9268397c3'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d10da8397c2'), 'username': 'ro_one', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cc14c1c5b004d47938397c1'), 'username': 'ro_gold', 'usertype': 'bullionRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': 'CNY', 'bankAccount': [{'_id': ObjectId('5cc11d85f226457913e599f9'), 'name': '1234', 'number': '1236547890', 'holder': 'Deng Huajun', 'currency': 'CNY'}], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': 'EDZQ', 'learnHowOther': '', 'isBeneficiary': 'N', 'beneficiaryName': '受益人', 'isOrders': 'N', 'ordersName': '下单人', 'relatedAccountsOpt': [{'_id': ObjectId('5cc14c1c5b004dd5fa8397ce'), 'taxId': '431121199601081731', 'residenceJurisdiction': 'China'}], 'referralCode': '201001', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': 1556163084446.0, 'remark': 'testing', 'reason': {'other': ['szca']}, 'principal': '', 'openlocation': '', 'isReSubmit': 'Y', 'signatureFile': 'tmp/hNEVMiux1556171714615.pdf', 'appVersion': 'v1.3.1.h-20190404', 'deviceModel': 'vivo X9s/Android:7.1.1', 'isContactClient': 'N', 'reSubmitTime': 1556171804893.0, 'refuseBy': {'name': 'cs1_t2', 'role': 'cs1'}, 'createdTime': 1556158469786.0, 'updatedTime': 1556171804294.0}
2019-04-25 15:24:14,722 del_mongo.py INFO [line:93] apply 表关联的字段为 idpUserId : 2de4977d-baff-46b9-8f1f-46ab817521ab
2019-04-25 15:24:14,722 del_mongo.py INFO [line:94] 正在查询关联表 users 的数据
2019-04-25 15:24:14,772 del_mongo.py INFO [line:44] users 表符合查询条件{'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab'} 的数据有1 条
2019-04-25 15:24:14,876 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc116e5db374283ae5747d1'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '15815873756', 'email': '15815873756@toBeCreated.com', 'phone_number': '8615815873756', 'custom': {'device_id': 'ce9851ed8615e240'}, 'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab', 'created_at': datetime.datetime(2019, 4, 25, 2, 9, 41, 581000), 'updated_at': datetime.datetime(2019, 4, 25, 2, 9, 41, 581000), 'secret': '$2a$08$ODaTm0/4IMzhjcsAaQDtTebL1G/9xqC2ZpfYDmhR8UqjtyAxcHey2', '__v': 0}
2019-04-25 15:24:14,876 del_mongo.py INFO [line:110] users 表关联的字段为 subject : 2de4977d-baff-46b9-8f1f-46ab817521ab
2019-04-25 15:24:14,876 del_mongo.py INFO [line:111] 正在查询关联表 userdevices 的数据
2019-04-25 15:24:14,926 del_mongo.py INFO [line:44] userdevices 表符合查询条件{'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab'} 的数据有3 条
2019-04-25 15:24:15,026 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc117f46d85320cb1d63b59'), 'device_id': 'ce9851ed8615e240', 'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab', '__v': 0, 'code': '975dc38c-3408-4431-996c-46f5623ef368', 'created_at': datetime.datetime(2019, 4, 25, 2, 14, 12, 309000), 'verified': True}
2019-04-25 15:24:15,027 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:15,027 del_mongo.py INFO [line:130] 没有关联数据,直接删除userdevices 表
2019-04-25 15:24:15,077 del_mongo.py INFO [line:139] {'n': 3, 'opTime': {'ts': Timestamp(1556177054, 3), 't': 101}, 'electionId': ObjectId('7fffffff0000000000000065'), 'ok': 1.0, 'operationTime': Timestamp(1556177054, 3), '$clusterTime': {'clusterTime': Timestamp(1556177054, 3), 'signature': {'hash': b'q=\xc8*\xeb\x85\xce\x83\x89\xc2\to\x1f\xccdn\x9e\\\xb4\x00', 'keyId': 6636138069080670209}}}
2019-04-25 15:24:15,077 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:15,077 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc11e9b6d85320cb1d6c6d5'), 'device_id': '2054b8ec62726049', 'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab', '__v': 0, 'code': '1698432e-50a7-4ba0-86df-c21c93c093b1', 'created_at': datetime.datetime(2019, 4, 25, 2, 42, 35, 402000), 'verified': True}
2019-04-25 15:24:15,077 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:15,078 del_mongo.py INFO [line:130] 没有关联数据,直接删除userdevices 表
2019-04-25 15:24:15,128 del_mongo.py INFO [line:139] {'n': 0, 'opTime': {'ts': Timestamp(1556177054, 3), 't': 101}, 'electionId': ObjectId('7fffffff0000000000000065'), 'ok': 1.0, 'operationTime': Timestamp(1556177054, 3), '$clusterTime': {'clusterTime': Timestamp(1556177054, 3), 'signature': {'hash': b'q=\xc8*\xeb\x85\xce\x83\x89\xc2\to\x1f\xccdn\x9e\\\xb4\x00', 'keyId': 6636138069080670209}}}
2019-04-25 15:24:15,128 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:15,128 del_mongo.py INFO [line:48] {'_id': ObjectId('5cc13b056d85320cb1d92820'), 'device_id': '157181f931412cc2', 'subject': '2de4977d-baff-46b9-8f1f-46ab817521ab', '__v': 0, 'code': 'd527be93-aebb-4882-a83e-873a603eecf6', 'created_at': datetime.datetime(2019, 4, 25, 4, 43, 49, 273000), 'verified': True}
2019-04-25 15:24:15,128 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:15,128 del_mongo.py INFO [line:130] 没有关联数据,直接删除userdevices 表
2019-04-25 15:24:15,178 del_mongo.py INFO [line:139] {'n': 0, 'opTime': {'ts': Timestamp(1556177054, 3), 't': 101}, 'electionId': ObjectId('7fffffff0000000000000065'), 'ok': 1.0, 'operationTime': Timestamp(1556177054, 3), '$clusterTime': {'clusterTime': Timestamp(1556177054, 3), 'signature': {'hash': b'q=\xc8*\xeb\x85\xce\x83\x89\xc2\to\x1f\xccdn\x9e\\\xb4\x00', 'keyId': 6636138069080670209}}}
2019-04-25 15:24:15,178 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:15,179 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:15,179 del_mongo.py INFO [line:130] 没有关联数据,直接删除users 表
2019-04-25 15:24:15,229 del_mongo.py INFO [line:139] {'n': 1, 'opTime': {'ts': Timestamp(1556177055, 1), 't': 101}, 'electionId': ObjectId('7fffffff0000000000000065'), 'ok': 1.0, 'operationTime': Timestamp(1556177055, 1), '$clusterTime': {'clusterTime': Timestamp(1556177055, 1), 'signature': {'hash': b'5\xf3\x13\x1d\x1bLV.\xc3\xa3\x85\x1d\x9f$t)&\xc8GW', 'keyId': 6636138069080670209}}}
2019-04-25 15:24:15,229 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:15,229 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:15,230 del_mongo.py INFO [line:130] 没有关联数据,直接删除apply 表
2019-04-25 15:24:15,279 del_mongo.py INFO [line:139] {'n': 1, 'opTime': {'ts': Timestamp(1556177055, 2), 't': 101}, 'electionId': ObjectId('7fffffff0000000000000065'), 'ok': 1.0, 'operationTime': Timestamp(1556177055, 2), '$clusterTime': {'clusterTime': Timestamp(1556177055, 2), 'signature': {'hash': b'5\xf3\x13\x1d\x1bLV.\xc3\xa3\x85\x1d\x9f$t)&\xc8GW', 'keyId': 6636138069080670209}}}
2019-04-25 15:24:15,279 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:15,279 del_mongo.py INFO [line:129] ***********************************

2019-04-25 15:24:15,279 del_mongo.py INFO [line:130] 没有关联数据,直接删除apply_info 表
2019-04-25 15:24:15,335 del_mongo.py INFO [line:139] {'n': 1, 'opTime': {'ts': Timestamp(1556177055, 3), 't': 101}, 'electionId': ObjectId('7fffffff0000000000000065'), 'ok': 1.0, 'operationTime': Timestamp(1556177055, 3), '$clusterTime': {'clusterTime': Timestamp(1556177055, 3), 'signature': {'hash': b'5\xf3\x13\x1d\x1bLV.\xc3\xa3\x85\x1d\x9f$t)&\xc8GW', 'keyId': 6636138069080670209}}}
2019-04-25 15:24:15,335 del_mongo.py INFO [line:143] ***********************************

2019-04-25 15:24:15,335 del_mongo.py INFO [line:34] close Client
