2019-04-10 16:49:11,211 del_mongo.py INFO [line:27] 连接数据库uat
2019-04-10 16:49:13,205 del_mongo.py INFO [line:45] client_info 表符合查询条件{'email': 'kyle_denghuajun@163.com'} 的数据有1 条
2019-04-10 16:49:13,396 del_mongo.py INFO [line:49] {'_id': ObjectId('5cadaa1f7eaa6c6d17556ab4'), 'accountId': [ObjectId('5cadaa1f7eaa6c4292556aad')], 'applyId': [ObjectId('5cada9584b50f70cefd03966')], 'clientSeqId': 2825, 'title': 'mrs', 'firstName': 'hadsjfgh', 'lastName': 'Chen', 'chineseName': 'Chenhadsjfgh', 'pastEnglishName': '', 'pastChineseName': '', 'email': 'kyle_denghuajun@163.com', 'phone': '435642535426', 'address': '3466324364', 'addressMail': '34632646345', 'phoneAreaCode': 'HKG', 'nationality': 'AFG', 'idType': '2', 'idNumber': '4322091916415', 'countryIssue': 'AFG', 'birthday': 894384000000.0, 'birthPlace': 'AGO', 'employment': 'retired', 'employer': '', 'businessType': '', 'occupation': '', 'businessAddress': '', 'businessPhone': '', 'isMaster': '1', 'parentPath': '/100000/ceo_t1/ro_t1', 'riskInfo': {'americanResidentsTaxIdb': '', 'isIndustryExperience': 'Y', 'foreignExchange': 'lt1Year', 'warrants': 'lt1Year', 'isAcquaintHighLevel': 'N', 'isPoliticalFigure': 'N', 'isBondFuturesClientsConnected': 'N', 'proofOfIncome': [], 'riskTolerance': 'low', 'passportMaterial': ['64ee5c74e47571a564d5266df4242d60.jpg', 'd3a93bdd31cfb38bca7a25f07153b12a.jpg'], 'politicalFigureName': '', 'bankruptcyProve': [], 'americanResidentsTaxId': '', 'CBBC': 'lt1Year', 'otherInvestment': '', 'otherInvestmentText': '', 'referralCode': '', 'isLearnAboutProducts': 'Y', 'isErr': False, 'addressVerificationMaterials': ['publicDropbox/8pRBJ8ssFtibKGdF4kw1r6irkijMe9G2.jpeg'], 'isBankruptcy': 'N', 'isApplyToOpenTradingStructure': 'Y', 'securities': 'lt1Year', 'bankCardMaterials': ['publicDropbox/NRccBw9hbN2ZXXbfajmrZw4TR17HNS3F.jpeg'], 'customerNetAssetValueHK': 'lt1000000', 'otherInformation': [], 'acquaintHighLevelInstructionsProve': [], 'agtPosition': '', 'sourceOfWealth': ['savings'], 'isAmericanResidents': 'N', 'bankruptcyDate': '', 'sourceOfWealthOther': '', 'isAmericanResidentsb': 'N', 'isInAgtJobs': 'N', 'acquaintHighLevelInstructions': '', 'errText': '', 'purposeOfInvestment': 'hedging', 'isStocks': 'Y', 'agtName': '', 'futures': 'lt1Year', 'isTradingStructureAggree': 'N', 'options': 'lt1Year', 'totalAnnualCustomerRevenueHK': 'lt200000'}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'employedPeriod': '', 'employmentOther': '', 'createdTime': 1554885151889.0, 'updatedTime': 1554885151889.0}
2019-04-10 16:49:13,398 del_mongo.py INFO [line:79] client_info 表关联的字段为 accountId : [ObjectId('5cadaa1f7eaa6c4292556aad')]
2019-04-10 16:49:13,398 del_mongo.py INFO [line:80] 正在查询关联表 account 的数据
2019-04-10 16:49:13,491 del_mongo.py INFO [line:45] account 表符合查询条件{'_id': ObjectId('5cadaa1f7eaa6c4292556aad')} 的数据有1 条
2019-04-10 16:49:13,693 del_mongo.py INFO [line:49] {'_id': ObjectId('5cadaa1f7eaa6c4292556aad'), 'accountType': ['leveragedForeignExchangeAccountMargin', 'bullionMargin'], 'clientId': [ObjectId('5cadaa1f7eaa6c6d17556ab4')], 'accountNumber': '332211', 'applicationFor': 'individual', 'accountOpeningWay': 'visitingAccount', 'tradeAccountList': [{'_id': ObjectId('5cadaa1f7eaa6c2475556ab1'), 'type': 'FOREX', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1554885151609.0, 'enabled': True, 'tradeAccount': '332212', 'tradeAccountType': 'mf', 'accountType': 'leveragedForeignExchangeAccountMargin'}, {'_id': ObjectId('5cadaa1f7eaa6c0c53556ab0'), 'type': 'PM', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1554885151609.0, 'enabled': True, 'tradeAccount': '332213', 'tradeAccountType': '', 'accountType': 'bullionMargin'}], 'parentPath': '/100000/ceo_t1/ro_t1', 'referralCode': '', 'createBy': '', 'updateBy': '', 'remark': '', 'idpUserId': '47c91c8b-994c-471e-bf55-ebea4dd8767d', 'createdTime': 1554885151689.0, 'updatedTime': 1554885151689.0}
2019-04-10 16:49:13,693 del_mongo.py INFO [line:95] account 表关联的字段为 idpUserId : 47c91c8b-994c-471e-bf55-ebea4dd8767d
2019-04-10 16:49:13,693 del_mongo.py INFO [line:96] 正在查询关联表 users 的数据
2019-04-10 16:49:14,091 del_mongo.py INFO [line:45] users 表符合查询条件{'subject': '47c91c8b-994c-471e-bf55-ebea4dd8767d'} 的数据有1 条
2019-04-10 16:49:14,304 del_mongo.py INFO [line:49] {'_id': ObjectId('5cadaa2009d4db2c0572c197'), 'email_verified': False, 'phone_number_verified': False, 'roles': [], 'enabled': True, 'custom': {'accountNumber': '332211', 'accountId': '5cadaa1f7eaa6c4292556aad', 'device_id': ''}, 'preferred_username': 'kyle_denghuajun@163.com', 'name': 'hadsjfgh Chen', 'family_name': 'Chen', 'given_name': 'hadsjfgh', 'gender': 'f', 'birthdate': '1998-05-05T16:00:00.000Z', 'zoneinfo': 'AFG', 'locale': 'en', 'email': 'kyle_denghuajun@163.com', 'address': '3466324364', 'phone_number': '852435642535426', 'subject': '47c91c8b-994c-471e-bf55-ebea4dd8767d', 'created_at': datetime.datetime(2019, 4, 10, 8, 32, 32, 489000), 'updated_at': datetime.datetime(2019, 4, 10, 8, 32, 32, 489000), 'secret': '$2a$08$SaD.5scvUZUm/TZczqfLdu9/0pLtLMlGmCcbUFFEQm7kveyVepN.6', '__v': 0}
2019-04-10 16:49:14,304 del_mongo.py INFO [line:111] ***********************************

2019-04-10 16:49:14,304 del_mongo.py INFO [line:112] 没有关联数据,直接删除users 表
2019-04-10 16:49:14,411 del_mongo.py INFO [line:116] {'n': 1, 'opTime': {'ts': Timestamp(1554886156, 1), 't': 98}, 'electionId': ObjectId('7fffffff0000000000000062'), 'ok': 1.0, 'operationTime': Timestamp(1554886156, 1), '$clusterTime': {'clusterTime': Timestamp(1554886156, 1), 'signature': {'hash': b'\x8f\xa3?E\xa4P!\rb\xb8\xf1}\x08\xca\x19\xad}\x9d\xa6\xf9', 'keyId': 6636138069080670209}}}
2019-04-10 16:49:14,411 del_mongo.py INFO [line:119] ***********************************

2019-04-10 16:49:14,411 del_mongo.py INFO [line:111] ***********************************

2019-04-10 16:49:14,411 del_mongo.py INFO [line:112] 没有关联数据,直接删除account 表
2019-04-10 16:49:14,506 del_mongo.py INFO [line:116] {'n': 0, 'opTime': {'ts': Timestamp(1554886156, 1), 't': 98}, 'electionId': ObjectId('7fffffff0000000000000062'), 'ok': 1.0, 'operationTime': Timestamp(1554886156, 1), '$clusterTime': {'clusterTime': Timestamp(1554886156, 1), 'signature': {'hash': b'\x8f\xa3?E\xa4P!\rb\xb8\xf1}\x08\xca\x19\xad}\x9d\xa6\xf9', 'keyId': 6636138069080670209}}}
2019-04-10 16:49:14,506 del_mongo.py INFO [line:119] ***********************************

2019-04-10 16:49:14,506 del_mongo.py INFO [line:79] client_info 表关联的字段为 applyId : [ObjectId('5cada9584b50f70cefd03966')]
2019-04-10 16:49:14,506 del_mongo.py INFO [line:80] 正在查询关联表 apply 的数据
2019-04-10 16:49:14,598 del_mongo.py INFO [line:45] apply 表符合查询条件{'_id': ObjectId('5cada9584b50f70cefd03966')} 的数据有1 条
2019-04-10 16:49:14,779 del_mongo.py INFO [line:49] {'_id': ObjectId('5cada9584b50f70cefd03966'), 'isRoRefuse': '', 'accountType': ['leveragedForeignExchangeAccountMargin', 'bullionMargin'], 'applyInfoIds': [ObjectId('5cada9584b50f7f229d03979')], 'learnHow': ['advertising'], 'tradingAuthorization': [], 'isRelatedAccounts': ['HK'], 'step': '', 'origin': '', 'idpUserId': '47c91c8b-994c-471e-bf55-ebea4dd8767d', 'applicationFor': 'individual', 'parentId': 'ro_t1', 'IBparentId': '', 'mailLanguage': 'en', 'accountOpeningWay': 'visitingAccount', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '332211', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'Y', 'status': 'success', 'customerSource': 'ballFives', 'applySeqId': 1432, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5cada9b64b50f7632dd039b0'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cada9b64b50f76956d039af'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cada9b64b50f728acd039ae'), 'username': 'ro_one', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cada9b64b50f719ccd039ad'), 'username': 'ro_gold', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5cada9b64b50f7a216d039ac'), 'username': 'aaron_test', 'usertype': 'bullionRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '/100000/ceo_t1/ro_t1', 'currency': 'HKD', 'bankAccount': [{'_id': ObjectId('5cada9584b50f7443bd03976'), 'currency': 'HKD', 'holder': 'Chen', 'number': '622848104479', 'name': 'ICBC'}], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': 'EDZQ', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5cada9584b50f75558d03977'), 'residenceJurisdiction': '', 'taxId': ''}], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'remark': '', 'reason': '', 'principal': '', 'openlocation': '', 'isReSubmit': '', 'signatureFile': '', 'appVersion': '', 'deviceModel': '', 'refuseClients': '', 'refuseBy': '', 'createdTime': 1554884952151.0, 'updatedTime': 1554884952151.0}
2019-04-10 16:49:14,779 del_mongo.py INFO [line:79] apply 表关联的字段为 applyInfoIds : [ObjectId('5cada9584b50f7f229d03979')]
2019-04-10 16:49:14,779 del_mongo.py INFO [line:80] 正在查询关联表 apply_info 的数据
2019-04-10 16:49:14,873 del_mongo.py INFO [line:45] apply_info 表符合查询条件{'_id': ObjectId('5cada9584b50f7f229d03979')} 的数据有1 条
2019-04-10 16:49:15,073 del_mongo.py INFO [line:49] {'_id': ObjectId('5cada9584b50f7f229d03979'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cada9584b50f70cefd03966'), 'leadId': '', 'isFromLead': False, 'riskInfo': {'americanResidentsTaxIdb': '', 'isIndustryExperience': 'Y', 'foreignExchange': 'lt1Year', 'warrants': 'lt1Year', 'isAcquaintHighLevel': 'N', 'isPoliticalFigure': 'N', 'isBondFuturesClientsConnected': 'N', 'proofOfIncome': [], 'riskTolerance': 'low', 'passportMaterial': ['64ee5c74e47571a564d5266df4242d60.jpg', 'd3a93bdd31cfb38bca7a25f07153b12a.jpg'], 'politicalFigureName': '', 'bankruptcyProve': [], 'americanResidentsTaxId': '', 'CBBC': 'lt1Year', 'otherInvestment': '', 'otherInvestmentText': '', 'referralCode': '', 'isLearnAboutProducts': 'Y', 'isErr': False, 'addressVerificationMaterials': ['publicDropbox/8pRBJ8ssFtibKGdF4kw1r6irkijMe9G2.jpeg'], 'isBankruptcy': 'N', 'isApplyToOpenTradingStructure': 'Y', 'securities': 'lt1Year', 'bankCardMaterials': ['publicDropbox/NRccBw9hbN2ZXXbfajmrZw4TR17HNS3F.jpeg'], 'customerNetAssetValueHK': 'lt1000000', 'otherInformation': [], 'acquaintHighLevelInstructionsProve': [], 'agtPosition': '', 'sourceOfWealth': ['savings'], 'isAmericanResidents': 'N', 'bankruptcyDate': '', 'sourceOfWealthOther': '', 'isAmericanResidentsb': 'N', 'isInAgtJobs': 'N', 'acquaintHighLevelInstructions': '', 'errText': '', 'purposeOfInvestment': 'hedging', 'isStocks': 'Y', 'agtName': '', 'futures': 'lt1Year', 'isTradingStructureAggree': 'N', 'options': 'lt1Year', 'totalAnnualCustomerRevenueHK': 'lt200000'}, 'businessAddress': '', 'businessType': '', 'countryIssue': 'AFG', 'nationality': 'AFG', 'employment': 'retired', 'occupation': '', 'addressMail': '34632646345', 'title': 'mrs', 'employer': '', 'pastEnglishName': '', 'email': 'kyle_denghuajun@163.com', 'employmentOther': '', 'employedPeriod': '', 'birthPlace': 'AGO', 'idNumber': '4322091916415', 'phone': '435642535426', 'birthday': 894384000000.0, 'address': '3466324364', 'phoneAreaCode': 'HKG', 'pastChineseName': '', 'idType': '2', 'businessPhone': '', 'firstName': 'hadsjfgh', 'lastName': 'Chen', 'chineseName': 'Chenhadsjfgh', 'idCardAddress': '', 'idTypeOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'idCardAddressReadOnly': '', 'syncIDAddress': '', 'isHongKongBankCard': '', 'createdTime': 1554884952390.0, 'updatedTime': 1554884952390.0}
2019-04-10 16:49:15,073 del_mongo.py INFO [line:111] ***********************************

2019-04-10 16:49:15,073 del_mongo.py INFO [line:112] 没有关联数据,直接删除apply_info 表
2019-04-10 16:49:15,183 del_mongo.py INFO [line:116] {'n': 1, 'opTime': {'ts': Timestamp(1554886157, 1), 't': 98}, 'electionId': ObjectId('7fffffff0000000000000062'), 'ok': 1.0, 'operationTime': Timestamp(1554886157, 1), '$clusterTime': {'clusterTime': Timestamp(1554886157, 1), 'signature': {'hash': b'y\xc7\xf2\xd1i\xb4\xb7.n\xa2W\xe6\\\xe4I\x12Y\xd5\xcd-', 'keyId': 6636138069080670209}}}
2019-04-10 16:49:15,183 del_mongo.py INFO [line:119] ***********************************

2019-04-10 16:49:15,183 del_mongo.py INFO [line:111] ***********************************

2019-04-10 16:49:15,183 del_mongo.py INFO [line:112] 没有关联数据,直接删除apply 表
2019-04-10 16:49:15,287 del_mongo.py INFO [line:116] {'n': 1, 'opTime': {'ts': Timestamp(1554886157, 2), 't': 98}, 'electionId': ObjectId('7fffffff0000000000000062'), 'ok': 1.0, 'operationTime': Timestamp(1554886157, 2), '$clusterTime': {'clusterTime': Timestamp(1554886157, 2), 'signature': {'hash': b'y\xc7\xf2\xd1i\xb4\xb7.n\xa2W\xe6\\\xe4I\x12Y\xd5\xcd-', 'keyId': 6636138069080670209}}}
2019-04-10 16:49:15,287 del_mongo.py INFO [line:119] ***********************************

2019-04-10 16:49:15,287 del_mongo.py INFO [line:111] ***********************************

2019-04-10 16:49:15,287 del_mongo.py INFO [line:112] 没有关联数据,直接删除client_info 表
2019-04-10 16:49:15,384 del_mongo.py INFO [line:116] {'n': 1, 'opTime': {'ts': Timestamp(1554886157, 3), 't': 98}, 'electionId': ObjectId('7fffffff0000000000000062'), 'ok': 1.0, 'operationTime': Timestamp(1554886157, 3), '$clusterTime': {'clusterTime': Timestamp(1554886157, 3), 'signature': {'hash': b'y\xc7\xf2\xd1i\xb4\xb7.n\xa2W\xe6\\\xe4I\x12Y\xd5\xcd-', 'keyId': 6636138069080670209}}}
2019-04-10 16:49:15,384 del_mongo.py INFO [line:119] ***********************************

2019-04-10 16:49:15,385 del_mongo.py INFO [line:33] close Client
