2019-06-11 16:47:07,642 del_mongo.py INFO [line:31] 连接数据库uat
2019-06-11 16:47:12,578 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'phone': '15815873756'} 的数据有1 条
2019-06-11 16:47:12,692 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff4c4a8c4d8a7a7c7fe875'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cff4c498c4d8af8bd7fe848'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Huajun', 'lastName': 'Deng', 'chineseName': '邓华俊', 'pastEnglishName': '', 'email': '794942392@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15815873756', 'address': '湖南省祁阳县大忠桥镇镰头湾村4组', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '431121199601081731', 'countryIssue': 'CHN', 'birthday': 821030400000.0, 'birthPlace': 'CHN', 'idCardAddress': '湖南省祁阳县大忠桥镇镰头湾村4组', 'idCardAddressReadOnly': '湖南省祁阳县大忠桥镇镰头湾村4组', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['41608ae4-97e5-4f8a-a98c-a3c805dc2ea9.jpg', '7f9f2148-5313-4b7e-aa4f-178f3e1e191a.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt500000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['pension', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': 'lt1Year', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'N', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['asset'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['0d13a248-fd22-4f14-a94b-e4511e9bab22.jpg'], 'passportMaterialBackup': ['d17763ed-c78c-409a-b2a9-377843be1c84.jpg', 'b7f81fe2-f9b1-4ac4-9c30-1e4bf05e654d.jpg'], 'signatureMaterial': ['5ee24d21-7fe3-4fb0-a4a7-61f812e70800.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['41608ae4-97e5-4f8a-a98c-a3c805dc2ea9.jpg', '7f9f2148-5313-4b7e-aa4f-178f3e1e191a.jpg'], 'identityAuthenticationImgBak': ['0d13a248-fd22-4f14-a94b-e4511e9bab22.jpg'], 'signatureMaterialBak': ['5ee24d21-7fe3-4fb0-a4a7-61f812e70800.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '湖南省', 'city': '永州市', 'idNo': '431121199601081731', 'userName': '邓华俊', 'sex': '男', 'contactAddr': '湖南省祁阳县大忠桥镇镰头湾村4组', 'birthday': '1996/1/8', 'nationality': '汉', 'cardedPlace': '祁阳县公安局', 'cardedExpiryDate': '20160129-20260129'}, 'createdTime': 1560235082032.0, 'updatedTime': 1560235082032.0}
2019-06-11 16:47:12,695 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5cff4c498c4d8af8bd7fe848
2019-06-11 16:47:12,695 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-06-11 16:47:12,748 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5cff4c498c4d8af8bd7fe848')} 的数据有1 条
2019-06-11 16:47:12,855 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff4c498c4d8af8bd7fe848'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin'], 'appBankCardImg': [], 'applyInfoIds': [ObjectId('5cff4c4a8c4d8a7a7c7fe875')], 'learnHow': ['socialMedia'], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'caApplyErr': ['applyCert:-4:申请证书异常:2019June11 02:57:10', 'pushPdf:{"retCode":"-16","descInfo":"必填参数不能为空,请确认参数","description":"请检查传入json是否与接口文档上一致。"}:2019June11 02:57:35', 'signPdf:-10000003:Parameters are empty:2019June11 02:57:38'], 'reviewTime': [], 'step': 'success', 'origin': '', 'idpUserId': '125e669d-9ce0-424b-aecb-2ecf48cbefef', 'applicationFor': 'individual', 'parentId': 'kwokwah.wong', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'electronicAuth', 'appBankName': '招商银行', 'appBankAccount': '6214837879939035', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': 'Y', 'status': 'reviewing', 'customerSource': 'app', 'applySeqId': '8803', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5cff50e6e111700bd32cc148'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e1117062e82cc147'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e1117065522cc146'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e11170b2cb2cc145'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e1117046822cc144'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e111706e862cc143'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e1117039e62cc142'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e111705dce2cc141'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e11170711f2cc140'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e11170ee632cc13f'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e111701a022cc13e'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e11170c7802cc13d'), 'username': 'aaron_chan', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e11170bf9e2cc13c'), 'username': 'onedi.admin', 'usertype': 'securitiesRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': 'EDZQ', 'learnHowOther': '', 'isBeneficiary': 'N', 'beneficiaryName': '受益人', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5cff50e6e1117073ee2cc149'), 'taxId': '431121199601081731', 'residenceJurisdiction': 'China'}], 'referralCode': '200111', 'signatureCoords': [{'_id': ObjectId('5cff50e6e1117001782cc14c'), 'pageNo': 11, 'x': 140, 'y': 274}, {'_id': ObjectId('5cff50e6e11170d7062cc14b'), 'pageNo': 13, 'x': 130, 'y': 118}, {'_id': ObjectId('5cff50e6e111704de12cc14a'), 'pageNo': 15, 'x': 130, 'y': 145}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': 1560236258749.0, 'createdTime': 1560235081932.0, 'updatedTime': 1560236258749.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '15815873756', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.4.0', 'deviceModel': 'iPhone XR/iOS:12.2', 'isContactClient': '', 'reSubmitTime': None, 'LearnHowCodeOps': '', 'isHideGeneratePdfPage': 'N', 'isCommonService': 'Y', 'refuseBy': ''}
2019-06-11 16:47:12,855 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5cff4c4a8c4d8a7a7c7fe875')]
2019-06-11 16:47:12,855 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-06-11 16:47:12,908 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5cff4c4a8c4d8a7a7c7fe875')} 的数据有1 条
2019-06-11 16:47:13,014 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff4c4a8c4d8a7a7c7fe875'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cff4c498c4d8af8bd7fe848'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Huajun', 'lastName': 'Deng', 'chineseName': '邓华俊', 'pastEnglishName': '', 'email': '794942392@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15815873756', 'address': '湖南省祁阳县大忠桥镇镰头湾村4组', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '431121199601081731', 'countryIssue': 'CHN', 'birthday': 821030400000.0, 'birthPlace': 'CHN', 'idCardAddress': '湖南省祁阳县大忠桥镇镰头湾村4组', 'idCardAddressReadOnly': '湖南省祁阳县大忠桥镇镰头湾村4组', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['41608ae4-97e5-4f8a-a98c-a3c805dc2ea9.jpg', '7f9f2148-5313-4b7e-aa4f-178f3e1e191a.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt500000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['pension', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': 'lt1Year', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'N', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['asset'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['0d13a248-fd22-4f14-a94b-e4511e9bab22.jpg'], 'passportMaterialBackup': ['d17763ed-c78c-409a-b2a9-377843be1c84.jpg', 'b7f81fe2-f9b1-4ac4-9c30-1e4bf05e654d.jpg'], 'signatureMaterial': ['5ee24d21-7fe3-4fb0-a4a7-61f812e70800.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['41608ae4-97e5-4f8a-a98c-a3c805dc2ea9.jpg', '7f9f2148-5313-4b7e-aa4f-178f3e1e191a.jpg'], 'identityAuthenticationImgBak': ['0d13a248-fd22-4f14-a94b-e4511e9bab22.jpg'], 'signatureMaterialBak': ['5ee24d21-7fe3-4fb0-a4a7-61f812e70800.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '湖南省', 'city': '永州市', 'idNo': '431121199601081731', 'userName': '邓华俊', 'sex': '男', 'contactAddr': '湖南省祁阳县大忠桥镇镰头湾村4组', 'birthday': '1996/1/8', 'nationality': '汉', 'cardedPlace': '祁阳县公安局', 'cardedExpiryDate': '20160129-20260129'}, 'createdTime': 1560235082032.0, 'updatedTime': 1560235082032.0}
2019-06-11 16:47:13,014 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : 125e669d-9ce0-424b-aecb-2ecf48cbefef
2019-06-11 16:47:13,014 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-06-11 16:47:13,067 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '125e669d-9ce0-424b-aecb-2ecf48cbefef'} 的数据有1 条
2019-06-11 16:47:13,173 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff4c3bca42726ff76bc8c8'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '15815873756', 'email': '15815873756@toBeCreated.com', 'phone_number': '8615815873756', 'custom': {'device_id': 'D3782C2D-53C4-4332-9E91-EF008E396130'}, 'subject': '125e669d-9ce0-424b-aecb-2ecf48cbefef', 'created_at': datetime.datetime(2019, 6, 11, 6, 37, 46, 845000), 'updated_at': datetime.datetime(2019, 6, 11, 6, 37, 46, 845000), 'secret': '$2a$08$nKxOJl4sgfkA0MUcmmBFiO986nBnS4YUKy3e3BcbUjE2Ig/UvQw9O', '__v': 0}
2019-06-11 16:47:13,173 del_mongo.py INFO [line:136] users 表关联的字段为 subject : 125e669d-9ce0-424b-aecb-2ecf48cbefef
2019-06-11 16:47:13,173 del_mongo.py INFO [line:137] 正在查询关联表 userdevices 的数据
2019-06-11 16:47:13,226 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': '125e669d-9ce0-424b-aecb-2ecf48cbefef'} 的数据有1 条
2019-06-11 16:47:13,330 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff4c3d6d85320cb1b4bce9'), 'device_id': 'D3782C2D-53C4-4332-9E91-EF008E396130', 'subject': '125e669d-9ce0-424b-aecb-2ecf48cbefef', '__v': 0, 'code': '41a226c1-3c88-453f-a7fc-d08b85df1a79', 'created_at': datetime.datetime(2019, 6, 11, 6, 37, 49, 340000), 'verified': True}
2019-06-11 16:47:13,330 del_mongo.py INFO [line:152] ***********************************

2019-06-11 16:47:13,330 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-06-11 16:47:13,330 del_mongo.py INFO [line:171] ***********************************

2019-06-11 16:47:13,330 del_mongo.py INFO [line:152] ***********************************

2019-06-11 16:47:13,330 del_mongo.py INFO [line:153] 没有关联数据,直接删除users 表
2019-06-11 16:47:13,330 del_mongo.py INFO [line:171] ***********************************

2019-06-11 16:47:13,330 del_mongo.py INFO [line:152] ***********************************

2019-06-11 16:47:13,330 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-06-11 16:47:13,330 del_mongo.py INFO [line:171] ***********************************

2019-06-11 16:47:13,330 del_mongo.py INFO [line:152] ***********************************

2019-06-11 16:47:13,331 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-06-11 16:47:13,331 del_mongo.py INFO [line:171] ***********************************

2019-06-11 16:47:13,331 del_mongo.py INFO [line:37] close Client
2019-06-11 16:47:13,383 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-06-11 16:47:13,384 del_mongo.py INFO [line:44] userdevices 表预计删除 1 条记录
2019-06-11 16:47:13,384 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-06-11 16:47:13,384 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-06-11 16:47:17,359 del_mongo.py INFO [line:31] 连接数据库uat
2019-06-11 16:47:22,784 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'phone': '15815873756'} 的数据有1 条
2019-06-11 16:47:23,041 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff4c4a8c4d8a7a7c7fe875'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cff4c498c4d8af8bd7fe848'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Huajun', 'lastName': 'Deng', 'chineseName': '邓华俊', 'pastEnglishName': '', 'email': '794942392@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15815873756', 'address': '湖南省祁阳县大忠桥镇镰头湾村4组', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '431121199601081731', 'countryIssue': 'CHN', 'birthday': 821030400000.0, 'birthPlace': 'CHN', 'idCardAddress': '湖南省祁阳县大忠桥镇镰头湾村4组', 'idCardAddressReadOnly': '湖南省祁阳县大忠桥镇镰头湾村4组', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['41608ae4-97e5-4f8a-a98c-a3c805dc2ea9.jpg', '7f9f2148-5313-4b7e-aa4f-178f3e1e191a.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt500000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['pension', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': 'lt1Year', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'N', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['asset'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['0d13a248-fd22-4f14-a94b-e4511e9bab22.jpg'], 'passportMaterialBackup': ['d17763ed-c78c-409a-b2a9-377843be1c84.jpg', 'b7f81fe2-f9b1-4ac4-9c30-1e4bf05e654d.jpg'], 'signatureMaterial': ['5ee24d21-7fe3-4fb0-a4a7-61f812e70800.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['41608ae4-97e5-4f8a-a98c-a3c805dc2ea9.jpg', '7f9f2148-5313-4b7e-aa4f-178f3e1e191a.jpg'], 'identityAuthenticationImgBak': ['0d13a248-fd22-4f14-a94b-e4511e9bab22.jpg'], 'signatureMaterialBak': ['5ee24d21-7fe3-4fb0-a4a7-61f812e70800.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '湖南省', 'city': '永州市', 'idNo': '431121199601081731', 'userName': '邓华俊', 'sex': '男', 'contactAddr': '湖南省祁阳县大忠桥镇镰头湾村4组', 'birthday': '1996/1/8', 'nationality': '汉', 'cardedPlace': '祁阳县公安局', 'cardedExpiryDate': '20160129-20260129'}, 'createdTime': 1560235082032.0, 'updatedTime': 1560235082032.0}
2019-06-11 16:47:23,042 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5cff4c498c4d8af8bd7fe848
2019-06-11 16:47:23,042 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-06-11 16:47:23,165 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5cff4c498c4d8af8bd7fe848')} 的数据有1 条
2019-06-11 16:47:23,396 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff4c498c4d8af8bd7fe848'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin'], 'appBankCardImg': [], 'applyInfoIds': [ObjectId('5cff4c4a8c4d8a7a7c7fe875')], 'learnHow': ['socialMedia'], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'caApplyErr': ['applyCert:-4:申请证书异常:2019June11 02:57:10', 'pushPdf:{"retCode":"-16","descInfo":"必填参数不能为空,请确认参数","description":"请检查传入json是否与接口文档上一致。"}:2019June11 02:57:35', 'signPdf:-10000003:Parameters are empty:2019June11 02:57:38'], 'reviewTime': [], 'step': 'success', 'origin': '', 'idpUserId': '125e669d-9ce0-424b-aecb-2ecf48cbefef', 'applicationFor': 'individual', 'parentId': 'kwokwah.wong', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'electronicAuth', 'appBankName': '招商银行', 'appBankAccount': '6214837879939035', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': 'Y', 'status': 'reviewing', 'customerSource': 'app', 'applySeqId': '8803', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5cff50e6e111700bd32cc148'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e1117062e82cc147'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e1117065522cc146'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e11170b2cb2cc145'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e1117046822cc144'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e111706e862cc143'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e1117039e62cc142'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e111705dce2cc141'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e11170711f2cc140'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e11170ee632cc13f'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e111701a022cc13e'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e11170c7802cc13d'), 'username': 'aaron_chan', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cff50e6e11170bf9e2cc13c'), 'username': 'onedi.admin', 'usertype': 'securitiesRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': 'EDZQ', 'learnHowOther': '', 'isBeneficiary': 'N', 'beneficiaryName': '受益人', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5cff50e6e1117073ee2cc149'), 'taxId': '431121199601081731', 'residenceJurisdiction': 'China'}], 'referralCode': '200111', 'signatureCoords': [{'_id': ObjectId('5cff50e6e1117001782cc14c'), 'pageNo': 11, 'x': 140, 'y': 274}, {'_id': ObjectId('5cff50e6e11170d7062cc14b'), 'pageNo': 13, 'x': 130, 'y': 118}, {'_id': ObjectId('5cff50e6e111704de12cc14a'), 'pageNo': 15, 'x': 130, 'y': 145}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': 1560236258749.0, 'createdTime': 1560235081932.0, 'updatedTime': 1560236258749.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '15815873756', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.4.0', 'deviceModel': 'iPhone XR/iOS:12.2', 'isContactClient': '', 'reSubmitTime': None, 'LearnHowCodeOps': '', 'isHideGeneratePdfPage': 'N', 'isCommonService': 'Y', 'refuseBy': ''}
2019-06-11 16:47:23,397 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5cff4c4a8c4d8a7a7c7fe875')]
2019-06-11 16:47:23,397 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-06-11 16:47:23,505 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5cff4c4a8c4d8a7a7c7fe875')} 的数据有1 条
2019-06-11 16:47:23,718 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff4c4a8c4d8a7a7c7fe875'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cff4c498c4d8af8bd7fe848'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Huajun', 'lastName': 'Deng', 'chineseName': '邓华俊', 'pastEnglishName': '', 'email': '794942392@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15815873756', 'address': '湖南省祁阳县大忠桥镇镰头湾村4组', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '431121199601081731', 'countryIssue': 'CHN', 'birthday': 821030400000.0, 'birthPlace': 'CHN', 'idCardAddress': '湖南省祁阳县大忠桥镇镰头湾村4组', 'idCardAddressReadOnly': '湖南省祁阳县大忠桥镇镰头湾村4组', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['41608ae4-97e5-4f8a-a98c-a3c805dc2ea9.jpg', '7f9f2148-5313-4b7e-aa4f-178f3e1e191a.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt500000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['pension', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': 'lt1Year', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'N', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['asset'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['0d13a248-fd22-4f14-a94b-e4511e9bab22.jpg'], 'passportMaterialBackup': ['d17763ed-c78c-409a-b2a9-377843be1c84.jpg', 'b7f81fe2-f9b1-4ac4-9c30-1e4bf05e654d.jpg'], 'signatureMaterial': ['5ee24d21-7fe3-4fb0-a4a7-61f812e70800.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['41608ae4-97e5-4f8a-a98c-a3c805dc2ea9.jpg', '7f9f2148-5313-4b7e-aa4f-178f3e1e191a.jpg'], 'identityAuthenticationImgBak': ['0d13a248-fd22-4f14-a94b-e4511e9bab22.jpg'], 'signatureMaterialBak': ['5ee24d21-7fe3-4fb0-a4a7-61f812e70800.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '湖南省', 'city': '永州市', 'idNo': '431121199601081731', 'userName': '邓华俊', 'sex': '男', 'contactAddr': '湖南省祁阳县大忠桥镇镰头湾村4组', 'birthday': '1996/1/8', 'nationality': '汉', 'cardedPlace': '祁阳县公安局', 'cardedExpiryDate': '20160129-20260129'}, 'createdTime': 1560235082032.0, 'updatedTime': 1560235082032.0}
2019-06-11 16:47:23,718 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : 125e669d-9ce0-424b-aecb-2ecf48cbefef
2019-06-11 16:47:23,718 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-06-11 16:47:23,823 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '125e669d-9ce0-424b-aecb-2ecf48cbefef'} 的数据有1 条
2019-06-11 16:47:24,355 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff4c3bca42726ff76bc8c8'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '15815873756', 'email': '15815873756@toBeCreated.com', 'phone_number': '8615815873756', 'custom': {'device_id': 'D3782C2D-53C4-4332-9E91-EF008E396130'}, 'subject': '125e669d-9ce0-424b-aecb-2ecf48cbefef', 'created_at': datetime.datetime(2019, 6, 11, 6, 37, 46, 845000), 'updated_at': datetime.datetime(2019, 6, 11, 6, 37, 46, 845000), 'secret': '$2a$08$nKxOJl4sgfkA0MUcmmBFiO986nBnS4YUKy3e3BcbUjE2Ig/UvQw9O', '__v': 0}
2019-06-11 16:47:24,355 del_mongo.py INFO [line:136] users 表关联的字段为 subject : 125e669d-9ce0-424b-aecb-2ecf48cbefef
2019-06-11 16:47:24,356 del_mongo.py INFO [line:137] 正在查询关联表 userdevices 的数据
2019-06-11 16:47:25,097 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': '125e669d-9ce0-424b-aecb-2ecf48cbefef'} 的数据有1 条
2019-06-11 16:47:25,318 del_mongo.py INFO [line:69] {'_id': ObjectId('5cff4c3d6d85320cb1b4bce9'), 'device_id': 'D3782C2D-53C4-4332-9E91-EF008E396130', 'subject': '125e669d-9ce0-424b-aecb-2ecf48cbefef', '__v': 0, 'code': '41a226c1-3c88-453f-a7fc-d08b85df1a79', 'created_at': datetime.datetime(2019, 6, 11, 6, 37, 49, 340000), 'verified': True}
2019-06-11 16:47:25,318 del_mongo.py INFO [line:152] ***********************************

2019-06-11 16:47:25,318 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-06-11 16:47:25,428 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x0000019808700788>
2019-06-11 16:47:25,428 del_mongo.py INFO [line:171] ***********************************

2019-06-11 16:47:25,428 del_mongo.py INFO [line:152] ***********************************

2019-06-11 16:47:25,428 del_mongo.py INFO [line:153] 没有关联数据,直接删除users 表
2019-06-11 16:47:25,537 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000198086DDF48>
2019-06-11 16:47:25,538 del_mongo.py INFO [line:171] ***********************************

2019-06-11 16:47:25,538 del_mongo.py INFO [line:152] ***********************************

2019-06-11 16:47:25,538 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-06-11 16:47:25,646 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x0000019808711B08>
2019-06-11 16:47:25,646 del_mongo.py INFO [line:171] ***********************************

2019-06-11 16:47:25,646 del_mongo.py INFO [line:152] ***********************************

2019-06-11 16:47:25,646 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-06-11 16:47:25,758 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x0000019808711F88>
2019-06-11 16:47:25,759 del_mongo.py INFO [line:171] ***********************************

2019-06-11 16:47:25,759 del_mongo.py INFO [line:37] close Client
2019-06-11 16:47:25,868 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-06-11 16:47:25,868 del_mongo.py INFO [line:44] userdevices 表预计删除 1 条记录
2019-06-11 16:47:25,868 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-06-11 16:47:25,868 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-06-11 16:47:25,869 del_mongo.py INFO [line:51] apply_info 表实际删除 1 条记录
2019-06-11 16:47:25,869 del_mongo.py INFO [line:51] userdevices 表实际删除 1 条记录
2019-06-11 16:47:25,869 del_mongo.py INFO [line:51] apply 表实际删除 1 条记录
2019-06-11 16:47:25,869 del_mongo.py INFO [line:51] users 表实际删除 1 条记录
