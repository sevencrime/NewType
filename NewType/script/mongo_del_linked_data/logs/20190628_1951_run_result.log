2019-06-28 19:51:46,218 del_mongo.py INFO [line:31] 连接数据库uat
2019-06-28 19:51:51,157 del_mongo.py INFO [line:66] client_info 表符合查询条件{'phone': '15089514626'} 的数据有1 条
2019-06-28 19:51:51,272 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fef2a698b17a5581a5eb'), 'accountId': [ObjectId('5d15fef1a698b18c8c81a5e2')], 'applyId': [ObjectId('5d15eeaa6d6e711c12f546b4')], 'clientSeqId': 3062, 'title': 'miss', 'firstName': 'Qinyuan', 'lastName': 'Zheng', 'chineseName': '郑钦元', 'pastEnglishName': '', 'pastChineseName': '', 'email': 'onedi@qq.com', 'phone': '15089514626', 'address': '内蒙古自治区赤峰市松山区gdjdmddkkskdbzbn', 'addressMail': '', 'phoneAreaCode': 'CHN', 'nationality': 'CHN', 'idType': '2', 'idNumber': '441502199602120215', 'countryIssue': 'CHN', 'birthday': 824054400000.0, 'birthPlace': 'CHN', 'employment': 'unemployed', 'employer': '', 'businessType': '', 'occupation': '', 'businessAddress': '', 'businessPhone': '', 'isMaster': '1', 'parentPath': '/100000/ceo_t1/ro_t1/kwokwah.wong', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['10ff7700-3d68-469f-916f-3044160a97ff.jpg', '877283f3-7221-4f2a-9cc5-50a55151ac39.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': ['3cf6faff-7ce1-4bfb-9e6a-bcc221b19bb7.jpg'], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'gt1000000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['savings', 'pension'], 'securities': '1To5Years', 'CBBC': '6To10Years', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'Y', 'isIndustryExperience': 'N', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['speculation', 'hedging', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['b4108289-0622-4a6d-9370-866165d32a58.jpg'], 'passportMaterialBackup': ['5f84a195-40a6-4ed7-a089-6b089e66935b.jpg', '3383353e-4c74-455b-8a33-b89bf96f89c2.jpg'], 'signatureMaterial': ['1a43740c-5ce4-4eac-a4e8-b2a02d7b2d47.jpg'], 'isReferralCode': 'Y', 'passportMaterialBak': ['10ff7700-3d68-469f-916f-3044160a97ff.jpg', '877283f3-7221-4f2a-9cc5-50a55151ac39.jpg'], 'addressVerificationMaterialsBak': ['3cf6faff-7ce1-4bfb-9e6a-bcc221b19bb7.jpg'], 'identityAuthenticationImgBak': ['b4108289-0622-4a6d-9370-866165d32a58.jpg'], 'signatureMaterialBak': ['1a43740c-5ce4-4eac-a4e8-b2a02d7b2d47.jpg']}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'employedPeriod': '', 'employmentOther': '', 'createdTime': 1561722610844.0, 'updatedTime': 1561722610844.0}
2019-06-28 19:51:51,272 del_mongo.py INFO [line:103] client_info 表关联的字段为 accountId : [ObjectId('5d15fef1a698b18c8c81a5e2')]
2019-06-28 19:51:51,273 del_mongo.py INFO [line:104] 正在查询关联表 account 的数据
2019-06-28 19:51:51,329 del_mongo.py INFO [line:66] account 表符合查询条件{'_id': ObjectId('5d15fef1a698b18c8c81a5e2')} 的数据有1 条
2019-06-28 19:51:51,443 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fef1a698b18c8c81a5e2'), 'accountType': ['securitiesMargin', 'futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'clientId': [ObjectId('5d15fef2a698b17a5581a5eb')], 'accountNumber': '80016', 'applicationFor': 'individual', 'accountOpeningWay': 'electronicAuth', 'tradeAccountList': [{'_id': ObjectId('5d15fef2a698b1095c81a5e8'), 'type': 'STOCK', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1561722609925.0, 'enabled': True, 'tradeAccount': '800161210', 'tradeAccountType': '', 'accountType': 'securitiesMargin'}, {'_id': ObjectId('5d15fef2a698b139e081a5e7'), 'type': 'FUTURES', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1561722609925.0, 'enabled': True, 'tradeAccount': '800163210', 'tradeAccountType': '', 'accountType': 'futuresMargin'}, {'_id': ObjectId('5d15fef2a698b17ac281a5e6'), 'type': 'FOREX', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1561722609925.0, 'enabled': True, 'tradeAccount': '800165210', 'tradeAccountType': 'mt5', 'accountType': 'leveragedForeignExchangeAccountMargin'}], 'parentPath': '/100000/ceo_t1/ro_t1/kwokwah.wong', 'referralCode': '', 'createdTime': 1561722609925.0, 'updatedTime': 1561722609925.0, 'createBy': '', 'updateBy': '', 'remark': '', 'idpUserId': 'ff56e772-8d98-4173-9e90-a83fbd7e3811', 'tradingStructure': ''}
2019-06-28 19:51:51,443 del_mongo.py INFO [line:103] account 表关联的字段为 clientId : [ObjectId('5d15fef2a698b17a5581a5eb')]
2019-06-28 19:51:51,443 del_mongo.py INFO [line:104] 正在查询关联表 client_info 的数据
2019-06-28 19:51:51,498 del_mongo.py INFO [line:66] client_info 表符合查询条件{'_id': ObjectId('5d15fef2a698b17a5581a5eb')} 的数据有1 条
2019-06-28 19:51:51,607 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fef2a698b17a5581a5eb'), 'accountId': [ObjectId('5d15fef1a698b18c8c81a5e2')], 'applyId': [ObjectId('5d15eeaa6d6e711c12f546b4')], 'clientSeqId': 3062, 'title': 'miss', 'firstName': 'Qinyuan', 'lastName': 'Zheng', 'chineseName': '郑钦元', 'pastEnglishName': '', 'pastChineseName': '', 'email': 'onedi@qq.com', 'phone': '15089514626', 'address': '内蒙古自治区赤峰市松山区gdjdmddkkskdbzbn', 'addressMail': '', 'phoneAreaCode': 'CHN', 'nationality': 'CHN', 'idType': '2', 'idNumber': '441502199602120215', 'countryIssue': 'CHN', 'birthday': 824054400000.0, 'birthPlace': 'CHN', 'employment': 'unemployed', 'employer': '', 'businessType': '', 'occupation': '', 'businessAddress': '', 'businessPhone': '', 'isMaster': '1', 'parentPath': '/100000/ceo_t1/ro_t1/kwokwah.wong', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['10ff7700-3d68-469f-916f-3044160a97ff.jpg', '877283f3-7221-4f2a-9cc5-50a55151ac39.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': ['3cf6faff-7ce1-4bfb-9e6a-bcc221b19bb7.jpg'], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'gt1000000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['savings', 'pension'], 'securities': '1To5Years', 'CBBC': '6To10Years', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'Y', 'isIndustryExperience': 'N', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['speculation', 'hedging', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['b4108289-0622-4a6d-9370-866165d32a58.jpg'], 'passportMaterialBackup': ['5f84a195-40a6-4ed7-a089-6b089e66935b.jpg', '3383353e-4c74-455b-8a33-b89bf96f89c2.jpg'], 'signatureMaterial': ['1a43740c-5ce4-4eac-a4e8-b2a02d7b2d47.jpg'], 'isReferralCode': 'Y', 'passportMaterialBak': ['10ff7700-3d68-469f-916f-3044160a97ff.jpg', '877283f3-7221-4f2a-9cc5-50a55151ac39.jpg'], 'addressVerificationMaterialsBak': ['3cf6faff-7ce1-4bfb-9e6a-bcc221b19bb7.jpg'], 'identityAuthenticationImgBak': ['b4108289-0622-4a6d-9370-866165d32a58.jpg'], 'signatureMaterialBak': ['1a43740c-5ce4-4eac-a4e8-b2a02d7b2d47.jpg']}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'employedPeriod': '', 'employmentOther': '', 'createdTime': 1561722610844.0, 'updatedTime': 1561722610844.0}
2019-06-28 19:51:51,607 del_mongo.py INFO [line:119] account 表关联的字段为 idpUserId : ff56e772-8d98-4173-9e90-a83fbd7e3811
2019-06-28 19:51:51,607 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-06-28 19:51:51,662 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': 'ff56e772-8d98-4173-9e90-a83fbd7e3811'} 的数据有1 条
2019-06-28 19:51:51,771 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15ee78cf2c654468e86d12'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '15089514626', 'email': 'onedi@qq.com', 'phone_number': '8615089514626', 'custom': {'device_id': '20239F40-CBC5-4EDB-8A54-A64ACDB499DC', 'accountNumber': 80016, 'accountId': '5d15fef1a698b18c8c81a5e2'}, 'subject': 'ff56e772-8d98-4173-9e90-a83fbd7e3811', 'created_at': datetime.datetime(2019, 6, 28, 10, 39, 51, 340000), 'updated_at': datetime.datetime(2019, 6, 28, 11, 50, 12, 22000), 'secret': '$2a$08$m5bRlydVSkC9zoDrjwj36umDz6iKI5PiPBAiZajwdnJMgAi81usGG', '__v': 0}
2019-06-28 19:51:51,771 del_mongo.py INFO [line:136] users 表关联的字段为 subject : ff56e772-8d98-4173-9e90-a83fbd7e3811
2019-06-28 19:51:51,771 del_mongo.py INFO [line:137] 正在查询关联表 userdevices 的数据
2019-06-28 19:51:51,827 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': 'ff56e772-8d98-4173-9e90-a83fbd7e3811'} 的数据有2 条
2019-06-28 19:51:51,941 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15ee8cf8b7428e8f3592cd'), 'device_id': '20239F40-CBC5-4EDB-8A54-A64ACDB499DC', 'subject': 'ff56e772-8d98-4173-9e90-a83fbd7e3811', '__v': 0, 'code': '771a3a45-e696-4b7d-9d31-9d87fa4a348f', 'created_at': datetime.datetime(2019, 6, 28, 10, 40, 12, 679000), 'verified': True}
2019-06-28 19:51:51,941 del_mongo.py INFO [line:152] ***********************************

2019-06-28 19:51:51,941 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-06-28 19:51:51,998 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000268ED66F788>
2019-06-28 19:51:51,998 del_mongo.py INFO [line:171] ***********************************

2019-06-28 19:51:51,998 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15f474f8b7428e8f361dda'), 'device_id': 'b662544a9238b5a5', 'subject': 'ff56e772-8d98-4173-9e90-a83fbd7e3811', '__v': 0, 'code': '43809b43-d1cb-46db-ab20-a387e2452582', 'created_at': datetime.datetime(2019, 6, 28, 11, 5, 24, 930000), 'verified': True}
2019-06-28 19:51:51,999 del_mongo.py INFO [line:152] ***********************************

2019-06-28 19:51:51,999 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-06-28 19:51:52,055 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000268ED66FAC8>
2019-06-28 19:51:52,055 del_mongo.py INFO [line:171] ***********************************

2019-06-28 19:51:52,055 del_mongo.py INFO [line:152] ***********************************

2019-06-28 19:51:52,055 del_mongo.py INFO [line:153] 没有关联数据,直接删除users 表
2019-06-28 19:51:52,110 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000268ED66FAC8>
2019-06-28 19:51:52,110 del_mongo.py INFO [line:171] ***********************************

2019-06-28 19:51:52,110 del_mongo.py INFO [line:152] ***********************************

2019-06-28 19:51:52,110 del_mongo.py INFO [line:153] 没有关联数据,直接删除account 表
2019-06-28 19:51:52,165 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000268ED66FA88>
2019-06-28 19:51:52,165 del_mongo.py INFO [line:171] ***********************************

2019-06-28 19:51:52,165 del_mongo.py INFO [line:103] client_info 表关联的字段为 applyId : [ObjectId('5d15eeaa6d6e711c12f546b4')]
2019-06-28 19:51:52,165 del_mongo.py INFO [line:104] 正在查询关联表 apply 的数据
2019-06-28 19:51:52,219 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5d15eeaa6d6e711c12f546b4')} 的数据有1 条
2019-06-28 19:51:52,328 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15eeaa6d6e711c12f546b4'), 'isRoRefuse': '', 'accountType': ['securitiesMargin', 'futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'appBankCardImg': [], 'applyInfoIds': [ObjectId('5d15eeaa6d6e71da21f546e1')], 'learnHow': ['lecture', 'searchEngine', 'magazine', 'socialMedia'], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'caApplyErr': ['applyCert:-34:申请证书失败,用户人脸分值不通过,请确认身份证照片拍照方式是否正确:2019-06-28 19:44:25', 'generatePdf:生成PDF错误:2019-06-28 19:44:32', 'pushPdf:开户pdf文件获取不成功:2019-06-28 19:44:33'], 'reviewTime': ['{"ops":"1561722609925,333580"}'], 'step': 'success', 'origin': '', 'idpUserId': 'ff56e772-8d98-4173-9e90-a83fbd7e3811', 'applicationFor': 'individual', 'parentId': 'kwokwah.wong', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'electronicAuth', 'appBankName': 'hshs', 'appBankAccount': '3436464', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '80016', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': 'Y', 'status': 'success', 'customerSource': 'app', 'applySeqId': '8991', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5d15fda4b0320fe7538d6862'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f54c08d6861'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320fbc728d6860'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f857e8d685f'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320ffee38d685e'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f15dc8d685d'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320fd6ba8d685c'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f31e88d685b'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f29988d685a'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f3a698d6859'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f02a28d6858'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f76738d6857'), 'username': 'aaron_chan', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f82498d6856'), 'username': 'onedi.admin', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320ff27b8d6855'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f59198d6854'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f5b0a8d6853'), 'username': 'ro_one', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320fd7c78d6852'), 'username': 'onedi.admin', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f2b818d6851'), 'username': 'cliff_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f57108d6850'), 'username': 'aaron_chan', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': 'N', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': 'N', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': 'N', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5d15fda4b0320f1e6b8d6863'), 'taxId': '441502199602120215', 'residenceJurisdiction': 'China'}], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5d15fda4b0320f2aa68d6866'), 'pageNo': 11, 'x': 140, 'y': 274}, {'_id': ObjectId('5d15fda4b0320fa1568d6865'), 'pageNo': 13, 'x': 130, 'y': 118}, {'_id': ObjectId('5d15fda4b0320f29648d6864'), 'pageNo': 15, 'x': 130, 'y': 145}], 'signatureSize': {'xDpi': '145', 'yDpi': '145'}, 'submitTime': 1561722276345.0, 'createdTime': 1561718442444.0, 'updatedTime': 1561722276345.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '548494', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.6.0', 'deviceModel': 'PCAM10/Android:9', 'isContactClient': '', 'reSubmitTime': None, 'accountOpeningTime': 1561722609925.0, 'LearnHowCodeOps': 'EDFD', 'isHideGeneratePdfPage': 'N', 'isCommonService': 'Y', 'refuseBy': ''}
2019-06-28 19:51:52,328 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5d15eeaa6d6e71da21f546e1')]
2019-06-28 19:51:52,329 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-06-28 19:51:52,383 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5d15eeaa6d6e71da21f546e1')} 的数据有1 条
2019-06-28 19:51:52,494 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15eeaa6d6e71da21f546e1'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5d15eeaa6d6e711c12f546b4'), 'leadId': '', 'isFromLead': False, 'title': 'miss', 'firstName': 'Qinyuan', 'lastName': 'Zheng', 'chineseName': '郑钦元', 'pastEnglishName': '', 'email': 'onedi@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15089514626', 'address': '内蒙古自治区赤峰市松山区gdjdmddkkskdbzbn', 'syncIDAddress': 'N', 'isHongKongBankCard': 'N', 'addressRegionProvince': '内蒙古自治区', 'addressRegionCity': '赤峰市', 'addressRegionArea': '松山区', 'addressDetailed': 'gdjdmddkkskdbzbn', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '441502199602120215', 'countryIssue': 'CHN', 'birthday': 824054400000.0, 'birthPlace': 'CHN', 'idCardAddress': '六挲市区僔圩礜止hdjdjdj', 'idCardAddressReadOnly': '六挲市区僔圩礜止', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['10ff7700-3d68-469f-916f-3044160a97ff.jpg', '877283f3-7221-4f2a-9cc5-50a55151ac39.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': ['3cf6faff-7ce1-4bfb-9e6a-bcc221b19bb7.jpg'], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'gt1000000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt3000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['savings', 'pension'], 'securities': '1To5Years', 'CBBC': '6To10Years', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'Y', 'isIndustryExperience': 'N', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['speculation', 'hedging', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['b4108289-0622-4a6d-9370-866165d32a58.jpg'], 'passportMaterialBackup': ['5f84a195-40a6-4ed7-a089-6b089e66935b.jpg', '3383353e-4c74-455b-8a33-b89bf96f89c2.jpg'], 'signatureMaterial': ['1a43740c-5ce4-4eac-a4e8-b2a02d7b2d47.jpg'], 'isReferralCode': 'Y', 'passportMaterialBak': ['10ff7700-3d68-469f-916f-3044160a97ff.jpg', '877283f3-7221-4f2a-9cc5-50a55151ac39.jpg'], 'addressVerificationMaterialsBak': ['3cf6faff-7ce1-4bfb-9e6a-bcc221b19bb7.jpg'], 'identityAuthenticationImgBak': ['b4108289-0622-4a6d-9370-866165d32a58.jpg'], 'signatureMaterialBak': ['1a43740c-5ce4-4eac-a4e8-b2a02d7b2d47.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '广东省', 'city': '汕尾市', 'idNo': '441502199602120215', 'userName': '郑钦元', 'sex': '', 'contactAddr': '六挲市区僔圩礜止', 'birthday': '1996/2/12', 'nationality': '', 'cardedPlace': '汕尾氙公安冈分局', 'cardedExpiryDate': '20130417-20230417'}, 'createdTime': 1561718442645.0, 'updatedTime': 1561718442645.0}
2019-06-28 19:51:52,494 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5d15eeaa6d6e711c12f546b4
2019-06-28 19:51:52,494 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-06-28 19:51:52,551 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5d15eeaa6d6e711c12f546b4')} 的数据有1 条
2019-06-28 19:51:52,665 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15eeaa6d6e711c12f546b4'), 'isRoRefuse': '', 'accountType': ['securitiesMargin', 'futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'appBankCardImg': [], 'applyInfoIds': [ObjectId('5d15eeaa6d6e71da21f546e1')], 'learnHow': ['lecture', 'searchEngine', 'magazine', 'socialMedia'], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'caApplyErr': ['applyCert:-34:申请证书失败,用户人脸分值不通过,请确认身份证照片拍照方式是否正确:2019-06-28 19:44:25', 'generatePdf:生成PDF错误:2019-06-28 19:44:32', 'pushPdf:开户pdf文件获取不成功:2019-06-28 19:44:33'], 'reviewTime': ['{"ops":"1561722609925,333580"}'], 'step': 'success', 'origin': '', 'idpUserId': 'ff56e772-8d98-4173-9e90-a83fbd7e3811', 'applicationFor': 'individual', 'parentId': 'kwokwah.wong', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'electronicAuth', 'appBankName': 'hshs', 'appBankAccount': '3436464', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '80016', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': 'Y', 'status': 'success', 'customerSource': 'app', 'applySeqId': '8991', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5d15fda4b0320fe7538d6862'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f54c08d6861'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320fbc728d6860'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f857e8d685f'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320ffee38d685e'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f15dc8d685d'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320fd6ba8d685c'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f31e88d685b'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f29988d685a'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f3a698d6859'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f02a28d6858'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f76738d6857'), 'username': 'aaron_chan', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f82498d6856'), 'username': 'onedi.admin', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320ff27b8d6855'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f59198d6854'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f5b0a8d6853'), 'username': 'ro_one', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320fd7c78d6852'), 'username': 'onedi.admin', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f2b818d6851'), 'username': 'cliff_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5d15fda4b0320f57108d6850'), 'username': 'aaron_chan', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': 'N', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': 'N', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': 'N', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5d15fda4b0320f1e6b8d6863'), 'taxId': '441502199602120215', 'residenceJurisdiction': 'China'}], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5d15fda4b0320f2aa68d6866'), 'pageNo': 11, 'x': 140, 'y': 274}, {'_id': ObjectId('5d15fda4b0320fa1568d6865'), 'pageNo': 13, 'x': 130, 'y': 118}, {'_id': ObjectId('5d15fda4b0320f29648d6864'), 'pageNo': 15, 'x': 130, 'y': 145}], 'signatureSize': {'xDpi': '145', 'yDpi': '145'}, 'submitTime': 1561722276345.0, 'createdTime': 1561718442444.0, 'updatedTime': 1561722276345.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '548494', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.6.0', 'deviceModel': 'PCAM10/Android:9', 'isContactClient': '', 'reSubmitTime': None, 'accountOpeningTime': 1561722609925.0, 'LearnHowCodeOps': 'EDFD', 'isHideGeneratePdfPage': 'N', 'isCommonService': 'Y', 'refuseBy': ''}
2019-06-28 19:51:52,666 del_mongo.py INFO [line:152] ***********************************

2019-06-28 19:51:52,666 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-06-28 19:51:52,723 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000268ED689C48>
2019-06-28 19:51:52,723 del_mongo.py INFO [line:171] ***********************************

2019-06-28 19:51:52,723 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : ff56e772-8d98-4173-9e90-a83fbd7e3811
2019-06-28 19:51:52,723 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-06-28 19:51:52,779 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': 'ff56e772-8d98-4173-9e90-a83fbd7e3811'} 的数据有0 条
2019-06-28 19:51:52,887 del_mongo.py INFO [line:152] ***********************************

2019-06-28 19:51:52,887 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-06-28 19:51:52,942 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000268ED68FE48>
2019-06-28 19:51:52,942 del_mongo.py INFO [line:171] ***********************************

2019-06-28 19:51:52,942 del_mongo.py INFO [line:152] ***********************************

2019-06-28 19:51:52,942 del_mongo.py INFO [line:153] 没有关联数据,直接删除client_info 表
2019-06-28 19:51:52,998 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000268ED66F8C8>
2019-06-28 19:51:52,998 del_mongo.py INFO [line:171] ***********************************

2019-06-28 19:51:52,998 del_mongo.py INFO [line:37] close Client
2019-06-28 19:51:53,052 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-06-28 19:51:53,052 del_mongo.py INFO [line:44] account 表预计删除 1 条记录
2019-06-28 19:51:53,052 del_mongo.py INFO [line:44] client_info 表预计删除 1 条记录
2019-06-28 19:51:53,052 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-06-28 19:51:53,052 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-06-28 19:51:53,052 del_mongo.py INFO [line:44] userdevices 表预计删除 2 条记录
2019-06-28 19:51:53,052 del_mongo.py INFO [line:51] users 表实际删除 1 条记录
2019-06-28 19:51:53,052 del_mongo.py INFO [line:51] account 表实际删除 1 条记录
2019-06-28 19:51:53,052 del_mongo.py INFO [line:51] client_info 表实际删除 1 条记录
2019-06-28 19:51:53,052 del_mongo.py INFO [line:51] apply 表实际删除 1 条记录
2019-06-28 19:51:53,053 del_mongo.py INFO [line:51] apply_info 表实际删除 1 条记录
2019-06-28 19:51:53,053 del_mongo.py INFO [line:51] userdevices 表实际删除 2 条记录
