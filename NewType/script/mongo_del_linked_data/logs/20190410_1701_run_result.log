2019-04-10 17:01:04,956 del_mongo.py INFO [line:27] 连接数据库uat
2019-04-10 17:01:07,198 del_mongo.py INFO [line:45] client_info 表符合查询条件{'email': 'kyle_denghuajun@163.com'} 的数据有1 条
2019-04-10 17:01:07,376 del_mongo.py INFO [line:49] {'_id': ObjectId('5cadaf437eaa6c7d15556ac6'), 'accountId': [ObjectId('5cadaf437eaa6c1452556abf')], 'applyId': [ObjectId('5cadadf74b50f79b1fd03bca')], 'clientSeqId': 2826, 'title': 'mrs', 'firstName': 'chen', 'lastName': 'Chen', 'chineseName': 'Chenchen', 'pastEnglishName': '', 'pastChineseName': '', 'email': 'kyle_denghuajun@163.com', 'phone': '4356425360803', 'address': '3466324364', 'addressMail': '34632646345', 'phoneAreaCode': 'HKG', 'nationality': 'AFG', 'idType': '2', 'idNumber': '4322091968488', 'countryIssue': 'AFG', 'birthday': 894384000000.0, 'birthPlace': 'AGO', 'employment': 'retired', 'employer': '', 'businessType': '', 'occupation': '', 'businessAddress': '', 'businessPhone': '', 'isMaster': '1', 'parentPath': '/100000/ceo_t1/ro_t1', 'riskInfo': {'americanResidentsTaxIdb': '', 'isIndustryExperience': 'Y', 'foreignExchange': 'lt1Year', 'warrants': 'lt1Year', 'isAcquaintHighLevel': 'N', 'isPoliticalFigure': 'N', 'isBondFuturesClientsConnected': 'N', 'proofOfIncome': [], 'riskTolerance': 'low', 'passportMaterial': ['cca3c3eb8f930d68909a08ba852c74e0.jpg', '0cbd1de3abb609f37b3b743dfd26597f.jpg'], 'politicalFigureName': '', 'bankruptcyProve': [], 'americanResidentsTaxId': '', 'CBBC': 'lt1Year', 'otherInvestment': '', 'otherInvestmentText': '', 'referralCode': '', 'isLearnAboutProducts': 'Y', 'isErr': False, 'addressVerificationMaterials': ['publicDropbox/8pRBJ8ssFtibKGdF4kw1r6irkijMe9G2.jpeg'], 'isBankruptcy': 'N', 'isApplyToOpenTradingStructure': 'Y', 'securities': 'lt1Year', 'bankCardMaterials': ['publicDropbox/NRccBw9hbN2ZXXbfajmrZw4TR17HNS3F.jpeg'], 'customerNetAssetValueHK': 'lt1000000', 'otherInformation': [], 'acquaintHighLevelInstructionsProve': [], 'agtPosition': '', 'sourceOfWealth': ['savings'], 'isAmericanResidents': 'N', 'bankruptcyDate': '', 'sourceOfWealthOther': '', 'isAmericanResidentsb': 'N', 'isInAgtJobs': 'N', 'acquaintHighLevelInstructions': '', 'errText': '', 'purposeOfInvestment': 'hedging', 'isStocks': 'Y', 'agtName': '', 'futures': 'lt1Year', 'isTradingStructureAggree': 'N', 'options': 'lt1Year', 'totalAnnualCustomerRevenueHK': 'lt200000'}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'employedPeriod': '', 'employmentOther': '', 'createdTime': 1554886467532.0, 'updatedTime': 1554886467532.0}
2019-04-10 17:01:07,378 del_mongo.py INFO [line:79] client_info 表关联的字段为 accountId : [ObjectId('5cadaf437eaa6c1452556abf')]
2019-04-10 17:01:07,378 del_mongo.py INFO [line:80] 正在查询关联表 account 的数据
2019-04-10 17:01:07,472 del_mongo.py INFO [line:45] account 表符合查询条件{'_id': ObjectId('5cadaf437eaa6c1452556abf')} 的数据有1 条
2019-04-10 17:01:07,677 del_mongo.py INFO [line:49] {'_id': ObjectId('5cadaf437eaa6c1452556abf'), 'accountType': ['leveragedForeignExchangeAccountMargin', 'bullionMargin'], 'clientId': [ObjectId('5cadaf437eaa6c7d15556ac6')], 'accountNumber': '852851', 'applicationFor': 'individual', 'accountOpeningWay': 'visitingAccount', 'tradeAccountList': [{'_id': ObjectId('5cadaf437eaa6c97d7556ac3'), 'type': 'FOREX', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1554886467069.0, 'enabled': True, 'tradeAccount': '852852', 'tradeAccountType': 'mf', 'accountType': 'leveragedForeignExchangeAccountMargin'}, {'_id': ObjectId('5cadaf437eaa6c4add556ac2'), 'type': 'PM', 'status': 'success', 'spotCheck': 'notCheck', 'createdTime': 1554886467069.0, 'enabled': True, 'tradeAccount': '852853', 'tradeAccountType': '', 'accountType': 'bullionMargin'}], 'parentPath': '/100000/ceo_t1/ro_t1', 'referralCode': '', 'createBy': '', 'updateBy': '', 'remark': '', 'idpUserId': 'bd798c7c-6770-4433-a659-49b73708b8f6', 'createdTime': 1554886467209.0, 'updatedTime': 1554886467209.0}
2019-04-10 17:01:07,677 del_mongo.py INFO [line:95] account 表关联的字段为 idpUserId : bd798c7c-6770-4433-a659-49b73708b8f6
2019-04-10 17:01:07,677 del_mongo.py INFO [line:96] 正在查询关联表 users 的数据
2019-04-10 17:01:07,781 del_mongo.py INFO [line:45] users 表符合查询条件{'subject': 'bd798c7c-6770-4433-a659-49b73708b8f6'} 的数据有1 条
2019-04-10 17:01:07,986 del_mongo.py INFO [line:49] {'_id': ObjectId('5cadaf4409d4db385072c198'), 'email_verified': False, 'phone_number_verified': False, 'roles': [], 'enabled': True, 'custom': {'accountNumber': '852851', 'accountId': '5cadaf437eaa6c1452556abf', 'device_id': ''}, 'preferred_username': 'kyle_denghuajun@163.com', 'name': 'chen Chen', 'family_name': 'Chen', 'given_name': 'chen', 'gender': 'f', 'birthdate': '1998-05-05T16:00:00.000Z', 'zoneinfo': 'AFG', 'locale': 'en', 'email': 'kyle_denghuajun@163.com', 'address': '3466324364', 'phone_number': '8524356425360803', 'subject': 'bd798c7c-6770-4433-a659-49b73708b8f6', 'created_at': datetime.datetime(2019, 4, 10, 8, 54, 28, 49000), 'updated_at': datetime.datetime(2019, 4, 10, 8, 54, 28, 49000), 'secret': '$2a$08$MOPVNjtsJeaHSmUA61I0qeMsbe.gZhd3KpK/8soPoKCtkMyNJpnC2', '__v': 0}
2019-04-10 17:01:07,986 del_mongo.py INFO [line:111] ***********************************

2019-04-10 17:01:07,986 del_mongo.py INFO [line:112] 没有关联数据,直接删除users 表
2019-04-10 17:01:08,082 del_mongo.py INFO [line:116] {'n': 1, 'opTime': {'ts': Timestamp(1554886869, 1), 't': 98}, 'electionId': ObjectId('7fffffff0000000000000062'), 'ok': 1.0, 'operationTime': Timestamp(1554886869, 1), '$clusterTime': {'clusterTime': Timestamp(1554886869, 1), 'signature': {'hash': b'1W\x8c\x0b}\xb9\x96\x16\xcc<u\x01?\xe6\xbc\xf1^@p\xc9', 'keyId': 6636138069080670209}}}
2019-04-10 17:01:08,082 del_mongo.py INFO [line:119] ***********************************

2019-04-10 17:01:08,082 del_mongo.py INFO [line:111] ***********************************

2019-04-10 17:01:08,082 del_mongo.py INFO [line:112] 没有关联数据,直接删除account 表
2019-04-10 17:01:08,180 del_mongo.py INFO [line:116] {'n': 0, 'opTime': {'ts': Timestamp(1554886869, 1), 't': 98}, 'electionId': ObjectId('7fffffff0000000000000062'), 'ok': 1.0, 'operationTime': Timestamp(1554886869, 1), '$clusterTime': {'clusterTime': Timestamp(1554886869, 1), 'signature': {'hash': b'1W\x8c\x0b}\xb9\x96\x16\xcc<u\x01?\xe6\xbc\xf1^@p\xc9', 'keyId': 6636138069080670209}}}
2019-04-10 17:01:08,181 del_mongo.py INFO [line:119] ***********************************

2019-04-10 17:01:08,181 del_mongo.py INFO [line:79] client_info 表关联的字段为 applyId : [ObjectId('5cadadf74b50f79b1fd03bca')]
2019-04-10 17:01:08,181 del_mongo.py INFO [line:80] 正在查询关联表 apply 的数据
2019-04-10 17:01:08,282 del_mongo.py INFO [line:45] apply 表符合查询条件{'_id': ObjectId('5cadadf74b50f79b1fd03bca')} 的数据有1 条
2019-04-10 17:01:08,490 del_mongo.py INFO [line:49] {'_id': ObjectId('5cadadf74b50f79b1fd03bca'), 'isRoRefuse': '', 'accountType': ['leveragedForeignExchangeAccountMargin', 'bullionMargin'], 'applyInfoIds': [ObjectId('5cadadf84b50f7feb7d03bdd')], 'learnHow': ['advertising'], 'tradingAuthorization': [], 'isRelatedAccounts': ['HK'], 'step': '', 'origin': '', 'idpUserId': 'bd798c7c-6770-4433-a659-49b73708b8f6', 'applicationFor': 'individual', 'parentId': 'ro_t1', 'IBparentId': '', 'mailLanguage': 'en', 'accountOpeningWay': 'visitingAccount', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '852851', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'Y', 'status': 'success', 'customerSource': 'ballFives', 'applySeqId': 1433, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5cadae6e4b50f7bbf7d03c5d'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cadae6e4b50f71245d03c5c'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cadae6e4b50f7698cd03c5b'), 'username': 'ro_one', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cadae6e4b50f75fd7d03c5a'), 'username': 'ro_gold', 'usertype': 'bullionRo'}, {'isApproval': False, '_id': ObjectId('5cadae6e4b50f71842d03c59'), 'username': 'aaron_test', 'usertype': 'bullionRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '/100000/ceo_t1/ro_t1', 'currency': 'HKD', 'bankAccount': [{'_id': ObjectId('5cadadf74b50f7202cd03bda'), 'currency': 'HKD', 'holder': 'Chen', 'number': '622848104479', 'name': 'ICBC'}], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': 'EDZQ', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5cadadf74b50f7349bd03bdb'), 'residenceJurisdiction': '', 'taxId': ''}], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'remark': '', 'reason': '', 'principal': '', 'openlocation': '', 'isReSubmit': '', 'signatureFile': '', 'appVersion': '', 'deviceModel': '', 'refuseClients': '', 'refuseBy': '', 'createdTime': 1554886136089.0, 'updatedTime': 1554886136089.0}
2019-04-10 17:01:08,490 del_mongo.py INFO [line:79] apply 表关联的字段为 applyInfoIds : [ObjectId('5cadadf84b50f7feb7d03bdd')]
2019-04-10 17:01:08,490 del_mongo.py INFO [line:80] 正在查询关联表 apply_info 的数据
2019-04-10 17:01:08,590 del_mongo.py INFO [line:45] apply_info 表符合查询条件{'_id': ObjectId('5cadadf84b50f7feb7d03bdd')} 的数据有1 条
2019-04-10 17:01:08,773 del_mongo.py INFO [line:49] {'_id': ObjectId('5cadadf84b50f7feb7d03bdd'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cadadf74b50f79b1fd03bca'), 'leadId': '', 'isFromLead': False, 'riskInfo': {'americanResidentsTaxIdb': '', 'isIndustryExperience': 'Y', 'foreignExchange': 'lt1Year', 'warrants': 'lt1Year', 'isAcquaintHighLevel': 'N', 'isPoliticalFigure': 'N', 'isBondFuturesClientsConnected': 'N', 'proofOfIncome': [], 'riskTolerance': 'low', 'passportMaterial': ['cca3c3eb8f930d68909a08ba852c74e0.jpg', '0cbd1de3abb609f37b3b743dfd26597f.jpg'], 'politicalFigureName': '', 'bankruptcyProve': [], 'americanResidentsTaxId': '', 'CBBC': 'lt1Year', 'otherInvestment': '', 'otherInvestmentText': '', 'referralCode': '', 'isLearnAboutProducts': 'Y', 'isErr': False, 'addressVerificationMaterials': ['publicDropbox/8pRBJ8ssFtibKGdF4kw1r6irkijMe9G2.jpeg'], 'isBankruptcy': 'N', 'isApplyToOpenTradingStructure': 'Y', 'securities': 'lt1Year', 'bankCardMaterials': ['publicDropbox/NRccBw9hbN2ZXXbfajmrZw4TR17HNS3F.jpeg'], 'customerNetAssetValueHK': 'lt1000000', 'otherInformation': [], 'acquaintHighLevelInstructionsProve': [], 'agtPosition': '', 'sourceOfWealth': ['savings'], 'isAmericanResidents': 'N', 'bankruptcyDate': '', 'sourceOfWealthOther': '', 'isAmericanResidentsb': 'N', 'isInAgtJobs': 'N', 'acquaintHighLevelInstructions': '', 'errText': '', 'purposeOfInvestment': 'hedging', 'isStocks': 'Y', 'agtName': '', 'futures': 'lt1Year', 'isTradingStructureAggree': 'N', 'options': 'lt1Year', 'totalAnnualCustomerRevenueHK': 'lt200000'}, 'businessAddress': '', 'businessType': '', 'countryIssue': 'AFG', 'nationality': 'AFG', 'employment': 'retired', 'occupation': '', 'addressMail': '34632646345', 'title': 'mrs', 'employer': '', 'pastEnglishName': '', 'email': 'kyle_denghuajun@163.com', 'employmentOther': '', 'employedPeriod': '', 'birthPlace': 'AGO', 'idNumber': '4322091968488', 'phone': '4356425360803', 'birthday': 894384000000.0, 'address': '3466324364', 'phoneAreaCode': 'HKG', 'pastChineseName': '', 'idType': '2', 'businessPhone': '', 'firstName': 'chen', 'lastName': 'Chen', 'chineseName': 'Chenchen', 'idCardAddress': '', 'idTypeOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'idCardAddressReadOnly': '', 'syncIDAddress': '', 'isHongKongBankCard': '', 'createdTime': 1554886136330.0, 'updatedTime': 1554886136330.0}
2019-04-10 17:01:08,774 del_mongo.py INFO [line:111] ***********************************

2019-04-10 17:01:08,774 del_mongo.py INFO [line:112] 没有关联数据,直接删除apply_info 表
2019-04-10 17:01:08,867 del_mongo.py INFO [line:116] {'n': 1, 'opTime': {'ts': Timestamp(1554886870, 1), 't': 98}, 'electionId': ObjectId('7fffffff0000000000000062'), 'ok': 1.0, 'operationTime': Timestamp(1554886870, 1), '$clusterTime': {'clusterTime': Timestamp(1554886870, 1), 'signature': {'hash': b'\x16\x9c\xa9\xc8_\x99y\x97\xd3L\xd3 D\x05<"\xd0t\xaa\xfe', 'keyId': 6636138069080670209}}}
2019-04-10 17:01:08,867 del_mongo.py INFO [line:119] ***********************************

2019-04-10 17:01:08,868 del_mongo.py INFO [line:111] ***********************************

2019-04-10 17:01:08,868 del_mongo.py INFO [line:112] 没有关联数据,直接删除apply 表
2019-04-10 17:01:08,964 del_mongo.py INFO [line:116] {'n': 1, 'opTime': {'ts': Timestamp(1554886870, 2), 't': 98}, 'electionId': ObjectId('7fffffff0000000000000062'), 'ok': 1.0, 'operationTime': Timestamp(1554886870, 2), '$clusterTime': {'clusterTime': Timestamp(1554886870, 2), 'signature': {'hash': b'\x16\x9c\xa9\xc8_\x99y\x97\xd3L\xd3 D\x05<"\xd0t\xaa\xfe', 'keyId': 6636138069080670209}}}
2019-04-10 17:01:08,964 del_mongo.py INFO [line:119] ***********************************

2019-04-10 17:01:08,964 del_mongo.py INFO [line:111] ***********************************

2019-04-10 17:01:08,964 del_mongo.py INFO [line:112] 没有关联数据,直接删除client_info 表
2019-04-10 17:01:09,062 del_mongo.py INFO [line:116] {'n': 1, 'opTime': {'ts': Timestamp(1554886870, 3), 't': 98}, 'electionId': ObjectId('7fffffff0000000000000062'), 'ok': 1.0, 'operationTime': Timestamp(1554886870, 3), '$clusterTime': {'clusterTime': Timestamp(1554886870, 3), 'signature': {'hash': b'\x16\x9c\xa9\xc8_\x99y\x97\xd3L\xd3 D\x05<"\xd0t\xaa\xfe', 'keyId': 6636138069080670209}}}
2019-04-10 17:01:09,062 del_mongo.py INFO [line:119] ***********************************

2019-04-10 17:01:09,062 del_mongo.py INFO [line:33] close Client
