2019-07-02 10:27:21,004 del_mongo.py INFO [line:31] 连接数据库uat
2019-07-02 10:27:26,228 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'phone': '13480994387'} 的数据有1 条
2019-07-02 10:27:26,346 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fc15c12cfa2cbfae49a8'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5d15fc15c12cfa5ffdae497b'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Kongjie', 'lastName': 'E', 'chineseName': '鄂孔杰', 'pastEnglishName': '', 'email': 'carl.e@newtype.io', 'phoneAreaCode': 'CHN', 'phone': '13480994387', 'address': '北京市东城区test', 'syncIDAddress': 'N', 'isHongKongBankCard': 'N', 'addressRegionProvince': '北京市', 'addressRegionCity': '', 'addressRegionArea': '东城区', 'addressDetailed': 'test', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '500101198612296436', 'countryIssue': 'CHN', 'birthday': 536169600000.0, 'birthPlace': 'CHN', 'idCardAddress': '重庆市万州区宁波路201号1幢7-4', 'idCardAddressReadOnly': '重庆市万州区宁波路201号1幢7-4', 'employment': 'employed', 'occupation': 'test', 'employedPeriod': '6To10Years', 'employer': 'test', 'businessType': 'test', 'businessAddress': '北京市东城区test', 'businessAddressRegionProvince': '北京市', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '东城区', 'businessAddressDetailed': 'test', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['bdad6b7e-f268-48e9-83c9-79579bba2b31.jpg', '6cd14f8e-8ab8-4462-b96c-0a41889f052f.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': ['7776970b-1bc3-429a-ba96-d33eced5afc6.jpg'], 'bankCardMaterials': [], 'writtenApplicationMaterials': ['9ac5c130-999c-11e9-b492-ddcda22a5cf0.pdf'], 'proofOfIncome': ['fc0be99c-11bb-4534-b270-55a8919b3235.jpg'], 'otherInformation': ['53f09e2e-7e42-4c36-b0cd-627b125f9cdb.jpg'], 'totalAnnualCustomerRevenueHK': 'gt1000000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'gt8000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['savings', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '', 'foreignExchange': '', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'N', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['speculation', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['ca8caddf-eb0a-4dee-a5d8-e723b492af67.jpg'], 'passportMaterialBackup': ['a8ce03c2-41c5-4731-98ca-415a528916f9.jpg', 'a58ff459-e5ae-46e9-a1cb-d354c16abb37.jpg'], 'signatureMaterial': ['bc6e0cab-78e7-4d5c-8408-028539d0dd41.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['879dfbc3-5fbe-40a5-814b-7887e4caab13.jpg', '129fbe05-7292-4927-845f-2f6939070392.jpg', 'bdad6b7e-f268-48e9-83c9-79579bba2b31.jpg', '6cd14f8e-8ab8-4462-b96c-0a41889f052f.jpg'], 'addressVerificationMaterialsBak': ['7776970b-1bc3-429a-ba96-d33eced5afc6.jpg'], 'identityAuthenticationImgBak': ['70e52ae0-ba6d-4ed0-880d-a553a1906d39.jpg', '18fce715-73ae-4552-a509-ed07b3ff7c5e.jpg', '91521221-0d50-405f-b619-1dbf694de48a.jpg', 'ca8caddf-eb0a-4dee-a5d8-e723b492af67.jpg'], 'otherInformationBak': ['53f09e2e-7e42-4c36-b0cd-627b125f9cdb.jpg'], 'proofOfIncomeBak': ['fc0be99c-11bb-4534-b270-55a8919b3235.jpg'], 'signatureMaterialBak': ['bc6e0cab-78e7-4d5c-8408-028539d0dd41.jpg'], 'writtenApplicationMaterialsBak': ['9ac5c130-999c-11e9-b492-ddcda22a5cf0.pdf']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '重庆市', 'idNo': '500101198612296436', 'userName': '鄂孔杰', 'sex': '男', 'contactAddr': '重庆市万州区宁波路201号1幢7-4', 'birthday': '1986/12/29', 'nationality': '汉', 'cardedPlace': '重庆市公安局万州分局', 'cardedExpiryDate': '20160621-20360621'}, 'createdTime': 1561721877755.0, 'updatedTime': 1561721877755.0}
2019-07-02 10:27:26,346 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5d15fc15c12cfa5ffdae497b
2019-07-02 10:27:26,346 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-07-02 10:27:26,401 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5d15fc15c12cfa5ffdae497b')} 的数据有1 条
2019-07-02 10:27:26,509 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fc15c12cfa5ffdae497b'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin'], 'appBankCardImg': [], 'applyInfoIds': [ObjectId('5d15fc15c12cfa2cbfae49a8')], 'learnHow': ['friend', 'newspaper', 'magazine'], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'caApplyErr': [], 'reviewTime': ['{"cs1":"1561723691341,349151"}'], 'step': 'Authentication', 'origin': '', 'idpUserId': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72', 'applicationFor': 'individual', 'parentId': 'kwokwah.wong', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'electronicAuth', 'appBankName': '农业银行test', 'appBankAccount': '6228480478396439679', 'appCertSn': '616DA0EB22DDFC70', 'appCertDn': 'CN=鄂孔杰,OU=500101198612296436,OU=115,O=0,L=深圳,ST=广东,C=CN', 'accountNumber': '', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'Y', 'status': 'refuse', 'customerSource': 'app', 'applySeqId': '8993', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5d1607ca1cac3b8d12edf3ad'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b99acedf3ac'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b96a8edf3ab'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3bbee8edf3aa'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3bb1b0edf3a9'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3be17cedf3a8'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3ba64bedf3a7'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b04fcedf3a6'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b2105edf3a5'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b689eedf3a4'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b3a60edf3a3'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b723bedf3a2'), 'username': 'aaron_chan', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b1771edf3a1'), 'username': 'onedi.admin', 'usertype': 'securitiesRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': 'hgf', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'N', 'ordersName': 'test', 'relatedAccountsOpt': [{'_id': ObjectId('5d1607ca1cac3bbe63edf3ae'), 'taxId': '500101198612296436', 'residenceJurisdiction': 'China'}], 'referralCode': '2255', 'signatureCoords': [{'_id': ObjectId('5d160116c12cfa2633ae4b41'), 'pageNo': 11, 'x': 140, 'y': 274}, {'_id': ObjectId('5d160116c12cfa4d9eae4b40'), 'pageNo': 13, 'x': 130, 'y': 118}, {'_id': ObjectId('5d160116c12cfac06bae4b3f'), 'pageNo': 15, 'x': 130, 'y': 145}], 'signatureSize': {'xDpi': '660', 'yDpi': '660'}, 'submitTime': 1561723342190.0, 'createdTime': 1561721877636.0, 'updatedTime': 1561724874191.0, 'remark': 'test', 'reason': {'other': ['szca']}, 'principal': '', 'appBankPhone': '15823114387', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.6.0', 'deviceModel': 'iPhone XR/iOS:12.2', 'isContactClient': 'N', 'reSubmitTime': None, 'accountOpeningTime': None, 'LearnHowCodeOps': '', 'isHideGeneratePdfPage': 'N', 'isCommonService': 'Y', 'refuseBy': {'name': 'cs1_t2', 'role': 'cs1'}}
2019-07-02 10:27:26,510 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5d15fc15c12cfa2cbfae49a8')]
2019-07-02 10:27:26,510 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-07-02 10:27:26,563 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5d15fc15c12cfa2cbfae49a8')} 的数据有1 条
2019-07-02 10:27:26,672 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fc15c12cfa2cbfae49a8'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5d15fc15c12cfa5ffdae497b'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Kongjie', 'lastName': 'E', 'chineseName': '鄂孔杰', 'pastEnglishName': '', 'email': 'carl.e@newtype.io', 'phoneAreaCode': 'CHN', 'phone': '13480994387', 'address': '北京市东城区test', 'syncIDAddress': 'N', 'isHongKongBankCard': 'N', 'addressRegionProvince': '北京市', 'addressRegionCity': '', 'addressRegionArea': '东城区', 'addressDetailed': 'test', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '500101198612296436', 'countryIssue': 'CHN', 'birthday': 536169600000.0, 'birthPlace': 'CHN', 'idCardAddress': '重庆市万州区宁波路201号1幢7-4', 'idCardAddressReadOnly': '重庆市万州区宁波路201号1幢7-4', 'employment': 'employed', 'occupation': 'test', 'employedPeriod': '6To10Years', 'employer': 'test', 'businessType': 'test', 'businessAddress': '北京市东城区test', 'businessAddressRegionProvince': '北京市', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '东城区', 'businessAddressDetailed': 'test', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['bdad6b7e-f268-48e9-83c9-79579bba2b31.jpg', '6cd14f8e-8ab8-4462-b96c-0a41889f052f.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': ['7776970b-1bc3-429a-ba96-d33eced5afc6.jpg'], 'bankCardMaterials': [], 'writtenApplicationMaterials': ['9ac5c130-999c-11e9-b492-ddcda22a5cf0.pdf'], 'proofOfIncome': ['fc0be99c-11bb-4534-b270-55a8919b3235.jpg'], 'otherInformation': ['53f09e2e-7e42-4c36-b0cd-627b125f9cdb.jpg'], 'totalAnnualCustomerRevenueHK': 'gt1000000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'gt8000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['savings', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '', 'foreignExchange': '', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'N', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['speculation', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['ca8caddf-eb0a-4dee-a5d8-e723b492af67.jpg'], 'passportMaterialBackup': ['a8ce03c2-41c5-4731-98ca-415a528916f9.jpg', 'a58ff459-e5ae-46e9-a1cb-d354c16abb37.jpg'], 'signatureMaterial': ['bc6e0cab-78e7-4d5c-8408-028539d0dd41.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['879dfbc3-5fbe-40a5-814b-7887e4caab13.jpg', '129fbe05-7292-4927-845f-2f6939070392.jpg', 'bdad6b7e-f268-48e9-83c9-79579bba2b31.jpg', '6cd14f8e-8ab8-4462-b96c-0a41889f052f.jpg'], 'addressVerificationMaterialsBak': ['7776970b-1bc3-429a-ba96-d33eced5afc6.jpg'], 'identityAuthenticationImgBak': ['70e52ae0-ba6d-4ed0-880d-a553a1906d39.jpg', '18fce715-73ae-4552-a509-ed07b3ff7c5e.jpg', '91521221-0d50-405f-b619-1dbf694de48a.jpg', 'ca8caddf-eb0a-4dee-a5d8-e723b492af67.jpg'], 'otherInformationBak': ['53f09e2e-7e42-4c36-b0cd-627b125f9cdb.jpg'], 'proofOfIncomeBak': ['fc0be99c-11bb-4534-b270-55a8919b3235.jpg'], 'signatureMaterialBak': ['bc6e0cab-78e7-4d5c-8408-028539d0dd41.jpg'], 'writtenApplicationMaterialsBak': ['9ac5c130-999c-11e9-b492-ddcda22a5cf0.pdf']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '重庆市', 'idNo': '500101198612296436', 'userName': '鄂孔杰', 'sex': '男', 'contactAddr': '重庆市万州区宁波路201号1幢7-4', 'birthday': '1986/12/29', 'nationality': '汉', 'cardedPlace': '重庆市公安局万州分局', 'cardedExpiryDate': '20160621-20360621'}, 'createdTime': 1561721877755.0, 'updatedTime': 1561721877755.0}
2019-07-02 10:27:26,672 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : 3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72
2019-07-02 10:27:26,672 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-07-02 10:27:26,726 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72'} 的数据有1 条
2019-07-02 10:27:26,835 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fbed6e7bfaedc88f7498'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '13480994387', 'email': 'carl.e@newtype.io', 'phone_number': '8613480994387', 'custom': {'device_id': 'BD444C21-C434-4AAA-A24B-B747B630B503'}, 'subject': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72', 'created_at': datetime.datetime(2019, 6, 28, 11, 37, 16, 567000), 'updated_at': datetime.datetime(2019, 6, 28, 12, 17, 54, 864000), 'secret': '$2a$08$P1S8GkMz4hBdvHvKsHsByuq3e3L1bkAbmRa574fEHFY9fKJ65UmPq', '__v': 0}
2019-07-02 10:27:26,836 del_mongo.py INFO [line:136] users 表关联的字段为 subject : 3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72
2019-07-02 10:27:26,836 del_mongo.py INFO [line:137] 正在查询关联表 userdevices 的数据
2019-07-02 10:27:26,889 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72'} 的数据有2 条
2019-07-02 10:27:26,997 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fbf9f8b7428e8f36c486'), 'device_id': 'BD444C21-C434-4AAA-A24B-B747B630B503', 'subject': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72', '__v': 0, 'code': '2106864f-6962-425f-ac72-a3a51c6d1126', 'created_at': datetime.datetime(2019, 6, 28, 11, 37, 29, 453000), 'verified': True}
2019-07-02 10:27:26,997 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:27:26,997 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-07-02 10:27:26,997 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:27:26,997 del_mongo.py INFO [line:69] {'_id': ObjectId('5d160558f8b7428e8f3793ac'), 'device_id': 'D3782C2D-53C4-4332-9E91-EF008E396130', 'subject': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72', '__v': 0, 'code': 'c7883480-e9d0-49d8-99a3-b2d0488e85fa', 'created_at': datetime.datetime(2019, 6, 28, 12, 17, 28, 536000), 'verified': True}
2019-07-02 10:27:26,997 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:27:26,998 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-07-02 10:27:26,998 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:27:26,998 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:27:26,998 del_mongo.py INFO [line:153] 没有关联数据,直接删除users 表
2019-07-02 10:27:26,998 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:27:26,998 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:27:26,998 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-07-02 10:27:26,998 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:27:26,998 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:27:26,998 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-07-02 10:27:26,998 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:27:26,998 del_mongo.py INFO [line:37] close Client
2019-07-02 10:27:27,053 del_mongo.py INFO [line:44] userdevices 表预计删除 2 条记录
2019-07-02 10:27:27,054 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-07-02 10:27:27,054 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-07-02 10:27:27,054 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-07-02 10:27:31,339 del_mongo.py INFO [line:31] 连接数据库uat
2019-07-02 10:27:36,212 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'phone': '13480994387'} 的数据有1 条
2019-07-02 10:27:36,333 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fc15c12cfa2cbfae49a8'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5d15fc15c12cfa5ffdae497b'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Kongjie', 'lastName': 'E', 'chineseName': '鄂孔杰', 'pastEnglishName': '', 'email': 'carl.e@newtype.io', 'phoneAreaCode': 'CHN', 'phone': '13480994387', 'address': '北京市东城区test', 'syncIDAddress': 'N', 'isHongKongBankCard': 'N', 'addressRegionProvince': '北京市', 'addressRegionCity': '', 'addressRegionArea': '东城区', 'addressDetailed': 'test', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '500101198612296436', 'countryIssue': 'CHN', 'birthday': 536169600000.0, 'birthPlace': 'CHN', 'idCardAddress': '重庆市万州区宁波路201号1幢7-4', 'idCardAddressReadOnly': '重庆市万州区宁波路201号1幢7-4', 'employment': 'employed', 'occupation': 'test', 'employedPeriod': '6To10Years', 'employer': 'test', 'businessType': 'test', 'businessAddress': '北京市东城区test', 'businessAddressRegionProvince': '北京市', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '东城区', 'businessAddressDetailed': 'test', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['bdad6b7e-f268-48e9-83c9-79579bba2b31.jpg', '6cd14f8e-8ab8-4462-b96c-0a41889f052f.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': ['7776970b-1bc3-429a-ba96-d33eced5afc6.jpg'], 'bankCardMaterials': [], 'writtenApplicationMaterials': ['9ac5c130-999c-11e9-b492-ddcda22a5cf0.pdf'], 'proofOfIncome': ['fc0be99c-11bb-4534-b270-55a8919b3235.jpg'], 'otherInformation': ['53f09e2e-7e42-4c36-b0cd-627b125f9cdb.jpg'], 'totalAnnualCustomerRevenueHK': 'gt1000000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'gt8000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['savings', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '', 'foreignExchange': '', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'N', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['speculation', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['ca8caddf-eb0a-4dee-a5d8-e723b492af67.jpg'], 'passportMaterialBackup': ['a8ce03c2-41c5-4731-98ca-415a528916f9.jpg', 'a58ff459-e5ae-46e9-a1cb-d354c16abb37.jpg'], 'signatureMaterial': ['bc6e0cab-78e7-4d5c-8408-028539d0dd41.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['879dfbc3-5fbe-40a5-814b-7887e4caab13.jpg', '129fbe05-7292-4927-845f-2f6939070392.jpg', 'bdad6b7e-f268-48e9-83c9-79579bba2b31.jpg', '6cd14f8e-8ab8-4462-b96c-0a41889f052f.jpg'], 'addressVerificationMaterialsBak': ['7776970b-1bc3-429a-ba96-d33eced5afc6.jpg'], 'identityAuthenticationImgBak': ['70e52ae0-ba6d-4ed0-880d-a553a1906d39.jpg', '18fce715-73ae-4552-a509-ed07b3ff7c5e.jpg', '91521221-0d50-405f-b619-1dbf694de48a.jpg', 'ca8caddf-eb0a-4dee-a5d8-e723b492af67.jpg'], 'otherInformationBak': ['53f09e2e-7e42-4c36-b0cd-627b125f9cdb.jpg'], 'proofOfIncomeBak': ['fc0be99c-11bb-4534-b270-55a8919b3235.jpg'], 'signatureMaterialBak': ['bc6e0cab-78e7-4d5c-8408-028539d0dd41.jpg'], 'writtenApplicationMaterialsBak': ['9ac5c130-999c-11e9-b492-ddcda22a5cf0.pdf']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '重庆市', 'idNo': '500101198612296436', 'userName': '鄂孔杰', 'sex': '男', 'contactAddr': '重庆市万州区宁波路201号1幢7-4', 'birthday': '1986/12/29', 'nationality': '汉', 'cardedPlace': '重庆市公安局万州分局', 'cardedExpiryDate': '20160621-20360621'}, 'createdTime': 1561721877755.0, 'updatedTime': 1561721877755.0}
2019-07-02 10:27:36,333 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5d15fc15c12cfa5ffdae497b
2019-07-02 10:27:36,333 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-07-02 10:27:36,388 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5d15fc15c12cfa5ffdae497b')} 的数据有1 条
2019-07-02 10:27:36,499 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fc15c12cfa5ffdae497b'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin'], 'appBankCardImg': [], 'applyInfoIds': [ObjectId('5d15fc15c12cfa2cbfae49a8')], 'learnHow': ['friend', 'newspaper', 'magazine'], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'caApplyErr': [], 'reviewTime': ['{"cs1":"1561723691341,349151"}'], 'step': 'Authentication', 'origin': '', 'idpUserId': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72', 'applicationFor': 'individual', 'parentId': 'kwokwah.wong', 'IBparentId': '', 'mailLanguage': 'zh-hans', 'accountOpeningWay': 'electronicAuth', 'appBankName': '农业银行test', 'appBankAccount': '6228480478396439679', 'appCertSn': '616DA0EB22DDFC70', 'appCertDn': 'CN=鄂孔杰,OU=500101198612296436,OU=115,O=0,L=深圳,ST=广东,C=CN', 'accountNumber': '', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'Y', 'status': 'refuse', 'customerSource': 'app', 'applySeqId': '8993', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5d1607ca1cac3b8d12edf3ad'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b99acedf3ac'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b96a8edf3ab'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3bbee8edf3aa'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3bb1b0edf3a9'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3be17cedf3a8'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3ba64bedf3a7'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b04fcedf3a6'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b2105edf3a5'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b689eedf3a4'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b3a60edf3a3'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b723bedf3a2'), 'username': 'aaron_chan', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d1607ca1cac3b1771edf3a1'), 'username': 'onedi.admin', 'usertype': 'securitiesRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': 'hgf', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'N', 'ordersName': 'test', 'relatedAccountsOpt': [{'_id': ObjectId('5d1607ca1cac3bbe63edf3ae'), 'taxId': '500101198612296436', 'residenceJurisdiction': 'China'}], 'referralCode': '2255', 'signatureCoords': [{'_id': ObjectId('5d160116c12cfa2633ae4b41'), 'pageNo': 11, 'x': 140, 'y': 274}, {'_id': ObjectId('5d160116c12cfa4d9eae4b40'), 'pageNo': 13, 'x': 130, 'y': 118}, {'_id': ObjectId('5d160116c12cfac06bae4b3f'), 'pageNo': 15, 'x': 130, 'y': 145}], 'signatureSize': {'xDpi': '660', 'yDpi': '660'}, 'submitTime': 1561723342190.0, 'createdTime': 1561721877636.0, 'updatedTime': 1561724874191.0, 'remark': 'test', 'reason': {'other': ['szca']}, 'principal': '', 'appBankPhone': '15823114387', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.6.0', 'deviceModel': 'iPhone XR/iOS:12.2', 'isContactClient': 'N', 'reSubmitTime': None, 'accountOpeningTime': None, 'LearnHowCodeOps': '', 'isHideGeneratePdfPage': 'N', 'isCommonService': 'Y', 'refuseBy': {'name': 'cs1_t2', 'role': 'cs1'}}
2019-07-02 10:27:36,499 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5d15fc15c12cfa2cbfae49a8')]
2019-07-02 10:27:36,499 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-07-02 10:27:36,557 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5d15fc15c12cfa2cbfae49a8')} 的数据有1 条
2019-07-02 10:27:36,667 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fc15c12cfa2cbfae49a8'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5d15fc15c12cfa5ffdae497b'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Kongjie', 'lastName': 'E', 'chineseName': '鄂孔杰', 'pastEnglishName': '', 'email': 'carl.e@newtype.io', 'phoneAreaCode': 'CHN', 'phone': '13480994387', 'address': '北京市东城区test', 'syncIDAddress': 'N', 'isHongKongBankCard': 'N', 'addressRegionProvince': '北京市', 'addressRegionCity': '', 'addressRegionArea': '东城区', 'addressDetailed': 'test', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '500101198612296436', 'countryIssue': 'CHN', 'birthday': 536169600000.0, 'birthPlace': 'CHN', 'idCardAddress': '重庆市万州区宁波路201号1幢7-4', 'idCardAddressReadOnly': '重庆市万州区宁波路201号1幢7-4', 'employment': 'employed', 'occupation': 'test', 'employedPeriod': '6To10Years', 'employer': 'test', 'businessType': 'test', 'businessAddress': '北京市东城区test', 'businessAddressRegionProvince': '北京市', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '东城区', 'businessAddressDetailed': 'test', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['bdad6b7e-f268-48e9-83c9-79579bba2b31.jpg', '6cd14f8e-8ab8-4462-b96c-0a41889f052f.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': ['7776970b-1bc3-429a-ba96-d33eced5afc6.jpg'], 'bankCardMaterials': [], 'writtenApplicationMaterials': ['9ac5c130-999c-11e9-b492-ddcda22a5cf0.pdf'], 'proofOfIncome': ['fc0be99c-11bb-4534-b270-55a8919b3235.jpg'], 'otherInformation': ['53f09e2e-7e42-4c36-b0cd-627b125f9cdb.jpg'], 'totalAnnualCustomerRevenueHK': 'gt1000000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'gt8000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['savings', 'investment'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '', 'foreignExchange': '', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'N', 'isStocks': 'N', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['speculation', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['ca8caddf-eb0a-4dee-a5d8-e723b492af67.jpg'], 'passportMaterialBackup': ['a8ce03c2-41c5-4731-98ca-415a528916f9.jpg', 'a58ff459-e5ae-46e9-a1cb-d354c16abb37.jpg'], 'signatureMaterial': ['bc6e0cab-78e7-4d5c-8408-028539d0dd41.jpg'], 'isReferralCode': 'N', 'passportMaterialBak': ['879dfbc3-5fbe-40a5-814b-7887e4caab13.jpg', '129fbe05-7292-4927-845f-2f6939070392.jpg', 'bdad6b7e-f268-48e9-83c9-79579bba2b31.jpg', '6cd14f8e-8ab8-4462-b96c-0a41889f052f.jpg'], 'addressVerificationMaterialsBak': ['7776970b-1bc3-429a-ba96-d33eced5afc6.jpg'], 'identityAuthenticationImgBak': ['70e52ae0-ba6d-4ed0-880d-a553a1906d39.jpg', '18fce715-73ae-4552-a509-ed07b3ff7c5e.jpg', '91521221-0d50-405f-b619-1dbf694de48a.jpg', 'ca8caddf-eb0a-4dee-a5d8-e723b492af67.jpg'], 'otherInformationBak': ['53f09e2e-7e42-4c36-b0cd-627b125f9cdb.jpg'], 'proofOfIncomeBak': ['fc0be99c-11bb-4534-b270-55a8919b3235.jpg'], 'signatureMaterialBak': ['bc6e0cab-78e7-4d5c-8408-028539d0dd41.jpg'], 'writtenApplicationMaterialsBak': ['9ac5c130-999c-11e9-b492-ddcda22a5cf0.pdf']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '重庆市', 'idNo': '500101198612296436', 'userName': '鄂孔杰', 'sex': '男', 'contactAddr': '重庆市万州区宁波路201号1幢7-4', 'birthday': '1986/12/29', 'nationality': '汉', 'cardedPlace': '重庆市公安局万州分局', 'cardedExpiryDate': '20160621-20360621'}, 'createdTime': 1561721877755.0, 'updatedTime': 1561721877755.0}
2019-07-02 10:27:36,667 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : 3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72
2019-07-02 10:27:36,667 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-07-02 10:27:36,721 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72'} 的数据有1 条
2019-07-02 10:27:36,829 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fbed6e7bfaedc88f7498'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '13480994387', 'email': 'carl.e@newtype.io', 'phone_number': '8613480994387', 'custom': {'device_id': 'BD444C21-C434-4AAA-A24B-B747B630B503'}, 'subject': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72', 'created_at': datetime.datetime(2019, 6, 28, 11, 37, 16, 567000), 'updated_at': datetime.datetime(2019, 6, 28, 12, 17, 54, 864000), 'secret': '$2a$08$P1S8GkMz4hBdvHvKsHsByuq3e3L1bkAbmRa574fEHFY9fKJ65UmPq', '__v': 0}
2019-07-02 10:27:36,830 del_mongo.py INFO [line:136] users 表关联的字段为 subject : 3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72
2019-07-02 10:27:36,830 del_mongo.py INFO [line:137] 正在查询关联表 userdevices 的数据
2019-07-02 10:27:36,883 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72'} 的数据有2 条
2019-07-02 10:27:36,992 del_mongo.py INFO [line:69] {'_id': ObjectId('5d15fbf9f8b7428e8f36c486'), 'device_id': 'BD444C21-C434-4AAA-A24B-B747B630B503', 'subject': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72', '__v': 0, 'code': '2106864f-6962-425f-ac72-a3a51c6d1126', 'created_at': datetime.datetime(2019, 6, 28, 11, 37, 29, 453000), 'verified': True}
2019-07-02 10:27:36,992 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:27:36,993 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-07-02 10:27:37,048 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000252E6A60748>
2019-07-02 10:27:37,049 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:27:37,049 del_mongo.py INFO [line:69] {'_id': ObjectId('5d160558f8b7428e8f3793ac'), 'device_id': 'D3782C2D-53C4-4332-9E91-EF008E396130', 'subject': '3bd5d963-ae3f-4dc0-8ab1-cb02bd573b72', '__v': 0, 'code': 'c7883480-e9d0-49d8-99a3-b2d0488e85fa', 'created_at': datetime.datetime(2019, 6, 28, 12, 17, 28, 536000), 'verified': True}
2019-07-02 10:27:37,049 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:27:37,049 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-07-02 10:27:37,104 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000252E6A65B88>
2019-07-02 10:27:37,104 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:27:37,104 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:27:37,104 del_mongo.py INFO [line:153] 没有关联数据,直接删除users 表
2019-07-02 10:27:37,160 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000252E6A65B88>
2019-07-02 10:27:37,160 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:27:37,160 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:27:37,160 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-07-02 10:27:37,215 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000252E6A1A5C8>
2019-07-02 10:27:37,215 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:27:37,215 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:27:37,215 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-07-02 10:27:37,274 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000252E6A65FC8>
2019-07-02 10:27:37,274 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:27:37,274 del_mongo.py INFO [line:37] close Client
2019-07-02 10:27:37,328 del_mongo.py INFO [line:44] userdevices 表预计删除 2 条记录
2019-07-02 10:27:37,328 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-07-02 10:27:37,329 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-07-02 10:27:37,329 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-07-02 10:27:37,329 del_mongo.py INFO [line:51] userdevices 表实际删除 2 条记录
2019-07-02 10:27:37,329 del_mongo.py INFO [line:51] users 表实际删除 1 条记录
2019-07-02 10:27:37,330 del_mongo.py INFO [line:51] apply_info 表实际删除 1 条记录
2019-07-02 10:27:37,330 del_mongo.py INFO [line:51] apply 表实际删除 1 条记录
