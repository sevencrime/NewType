2019-08-07 10:07:23,051 del_mongo.py INFO [line:31] 连接数据库uat
2019-08-07 10:07:28,061 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'phone': '15089514626'} 的数据有1 条
2019-08-07 10:07:28,181 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480435e3d42444d4a4653e'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5d480435e3d424302aa46511'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Qinyuan', 'lastName': 'Zheng', 'chineseName': '郑钦元', 'pastEnglishName': '', 'email': 'onedi@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15089514626', 'address': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号1015499', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '441502199602120215', 'countryIssue': 'CHN', 'birthday': 824054400000.0, 'birthPlace': 'CHN', 'idCardAddress': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号1015499', 'idCardAddressReadOnly': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号101', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['3320ccf7-ebb1-4066-80c8-055ea3e6dc71.jpg', 'f4e6d858-4628-42ec-8a16-a4d1895692ac.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt200000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt1000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['savings', 'pension'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': 'lt1Year', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'Y', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['speculation', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['b7b97b62-8fa7-4679-baee-3e33bcddaf6a.jpg'], 'passportMaterialBackup': ['a66df8d7-1360-4c81-9300-6de6251296f1.jpg', '4552327a-9302-4b2f-9de5-c6eeea38d48b.jpg'], 'signatureMaterial': ['2364f4c2-55d8-44de-a380-b73bf2cf9abd.jpg'], 'passportMaterialBak': ['3320ccf7-ebb1-4066-80c8-055ea3e6dc71.jpg', 'f4e6d858-4628-42ec-8a16-a4d1895692ac.jpg'], 'identityAuthenticationImgBak': ['b7b97b62-8fa7-4679-baee-3e33bcddaf6a.jpg'], 'signatureMaterialBak': ['2364f4c2-55d8-44de-a380-b73bf2cf9abd.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '广东省', 'city': '汕尾市', 'idNo': '441502199602120215', 'userName': '郑钦元', 'sex': '男', 'contactAddr': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号101', 'birthday': '1996/2/12', 'nationality': '汉', 'cardedPlace': '祁阳县公安局', 'cardedExpiryDate': '20160129-20260129'}, 'createdTime': 1565000757293.0, 'updatedTime': 1565000757293.0}
2019-08-07 10:07:28,181 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5d480435e3d424302aa46511
2019-08-07 10:07:28,182 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-08-07 10:07:28,240 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5d480435e3d424302aa46511')} 的数据有1 条
2019-08-07 10:07:28,365 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480435e3d424302aa46511'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin'], 'appBankCardImg': [], 'applyInfoIds': [ObjectId('5d480435e3d42444d4a4653e')], 'learnHow': ['advertising'], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'caApplyErr': [], 'reviewTime': [], 'step': 'Preview', 'origin': '', 'idpUserId': 'c493e6df-8390-4640-9e79-28da685683e6', 'applicationFor': 'individual', 'parentId': '', 'IBparentId': '', 'mailLanguage': '', 'accountOpeningWay': 'electronicAuth', 'appBankName': '中国工商银行', 'appBankAccount': '6217007200074623383', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'Y', 'status': 'notComplete', 'customerSource': 'app', 'applySeqId': '9377', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5d49902391e1d063eb07e411'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0737307e410'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0ccac07e40f'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0c6fa07e40e'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d05d4007e40d'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d000b207e40c'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0def307e40b'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0062707e40a'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d099e707e409'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0c4b107e408'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0c21107e407'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0166b07e406'), 'username': 'aaron_chan', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0d69907e405'), 'username': 'onedi.admin', 'usertype': 'securitiesRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': 'CNY', 'bankAccount': [{'_id': ObjectId('5d4805910d33a426b6c466ff'), 'name': '记一下', 'number': '54942497976', 'holder': 'Zheng Qinyuan', 'currency': 'CNY'}], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5d49902391e1d00a1e07e401'), 'taxId': '441502199602120215', 'residenceJurisdiction': 'China'}], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5d49902391e1d0897007e404'), 'pageNo': 11, 'x': 140, 'y': 400}, {'_id': ObjectId('5d49902391e1d04a5007e403'), 'pageNo': 13, 'x': 130, 'y': 118}, {'_id': ObjectId('5d49902391e1d0d2a507e402'), 'pageNo': 15, 'x': 130, 'y': 145}], 'signatureSize': {'xDpi': '660', 'yDpi': '660'}, 'submitTime': None, 'createdTime': 1565000757114.0, 'updatedTime': 1565102115054.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '15089514626', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.7.1', 'deviceModel': 'iPhone 6s Plus/iOS:10.3.3', 'isContactClient': '', 'reSubmitTime': None, 'accountOpeningTime': None, 'LearnHowCodeOps': '', 'isHideGeneratePdfPage': 'N', 'isCommonService': 'Y', 'accountOpeningAgreement': '', 'opsProcessing': {}, 'refuseBy': ''}
2019-08-07 10:07:28,365 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5d480435e3d42444d4a4653e')]
2019-08-07 10:07:28,365 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-08-07 10:07:28,430 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5d480435e3d42444d4a4653e')} 的数据有1 条
2019-08-07 10:07:28,567 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480435e3d42444d4a4653e'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5d480435e3d424302aa46511'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Qinyuan', 'lastName': 'Zheng', 'chineseName': '郑钦元', 'pastEnglishName': '', 'email': 'onedi@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15089514626', 'address': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号1015499', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '441502199602120215', 'countryIssue': 'CHN', 'birthday': 824054400000.0, 'birthPlace': 'CHN', 'idCardAddress': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号1015499', 'idCardAddressReadOnly': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号101', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['3320ccf7-ebb1-4066-80c8-055ea3e6dc71.jpg', 'f4e6d858-4628-42ec-8a16-a4d1895692ac.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt200000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt1000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['savings', 'pension'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': 'lt1Year', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'Y', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['speculation', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['b7b97b62-8fa7-4679-baee-3e33bcddaf6a.jpg'], 'passportMaterialBackup': ['a66df8d7-1360-4c81-9300-6de6251296f1.jpg', '4552327a-9302-4b2f-9de5-c6eeea38d48b.jpg'], 'signatureMaterial': ['2364f4c2-55d8-44de-a380-b73bf2cf9abd.jpg'], 'passportMaterialBak': ['3320ccf7-ebb1-4066-80c8-055ea3e6dc71.jpg', 'f4e6d858-4628-42ec-8a16-a4d1895692ac.jpg'], 'identityAuthenticationImgBak': ['b7b97b62-8fa7-4679-baee-3e33bcddaf6a.jpg'], 'signatureMaterialBak': ['2364f4c2-55d8-44de-a380-b73bf2cf9abd.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '广东省', 'city': '汕尾市', 'idNo': '441502199602120215', 'userName': '郑钦元', 'sex': '男', 'contactAddr': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号101', 'birthday': '1996/2/12', 'nationality': '汉', 'cardedPlace': '祁阳县公安局', 'cardedExpiryDate': '20160129-20260129'}, 'createdTime': 1565000757293.0, 'updatedTime': 1565000757293.0}
2019-08-07 10:07:28,567 del_mongo.py INFO [line:118] apply 表关联的字段为 idpUserId : c493e6df-8390-4640-9e79-28da685683e6
2019-08-07 10:07:28,568 del_mongo.py INFO [line:119] 正在查询关联表 users 的数据
2019-08-07 10:07:28,635 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': 'c493e6df-8390-4640-9e79-28da685683e6'} 的数据有1 条
2019-08-07 10:07:28,770 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480418d947d7100a48e2f6'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '15089514626', 'email': '15089514626@toBeCreated.com', 'phone_number': '8615089514626', 'custom': {'device_id': '4d606f1da1075c25', 'rollabckTime': 1565004230656.0, 'syncFlag': 2, 'syncTime': 1565004230815.0, 'syncSuccessTime': 1565004238151.0}, 'subject': 'c493e6df-8390-4640-9e79-28da685683e6', 'created_at': datetime.datetime(2019, 8, 5, 10, 25, 27, 685000), 'updated_at': datetime.datetime(2019, 8, 5, 10, 25, 27, 685000), 'secret': '$2a$08$Bm6lA864RrAjOTOt990VPe8aRs8drqEpvCSLVr.m67FYP1EfAv52O', '__v': 0}
2019-08-07 10:07:28,771 del_mongo.py INFO [line:138] users 表关联的字段为 subject : c493e6df-8390-4640-9e79-28da685683e6
2019-08-07 10:07:28,771 del_mongo.py INFO [line:139] 正在查询关联表 userdevices 的数据
2019-08-07 10:07:28,831 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': 'c493e6df-8390-4640-9e79-28da685683e6'} 的数据有3 条
2019-08-07 10:07:28,937 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480420f34a2d6be51217fd'), 'device_id': '4d606f1da1075c25', 'subject': 'c493e6df-8390-4640-9e79-28da685683e6', '__v': 0, 'code': '74d75914-5e57-4447-b547-87b1de8897ac', 'created_at': datetime.datetime(2019, 8, 5, 10, 25, 36, 866000), 'verified': True}
2019-08-07 10:07:28,938 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:28,938 del_mongo.py INFO [line:158] 没有关联数据,直接删除userdevices 表
2019-08-07 10:07:28,938 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:28,938 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480f9ef34a2d6be5134d95'), 'device_id': 'FE7BCC63-746E-41B4-8E61-CD3DA0B2D85B', 'subject': 'c493e6df-8390-4640-9e79-28da685683e6', '__v': 0, 'code': '36bf9961-6154-495b-883b-1d9c2552fcf1', 'created_at': datetime.datetime(2019, 8, 5, 11, 14, 38, 256000), 'verified': True}
2019-08-07 10:07:28,938 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:28,938 del_mongo.py INFO [line:158] 没有关联数据,直接删除userdevices 表
2019-08-07 10:07:28,938 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:28,938 del_mongo.py INFO [line:69] {'_id': ObjectId('5d4a3223f34a2d6be548db33'), 'device_id': 'A16AB6F9-6854-49EB-BD53-73E2D3C4D24A', 'subject': 'c493e6df-8390-4640-9e79-28da685683e6', '__v': 0, 'code': 'f27e6617-1cf2-4a2e-826c-49c32b6ff5a5', 'created_at': datetime.datetime(2019, 8, 7, 2, 6, 27, 498000), 'verified': True}
2019-08-07 10:07:28,938 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:28,938 del_mongo.py INFO [line:158] 没有关联数据,直接删除userdevices 表
2019-08-07 10:07:28,938 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:28,938 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:28,938 del_mongo.py INFO [line:158] 没有关联数据,直接删除users 表
2019-08-07 10:07:28,938 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:28,939 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:28,939 del_mongo.py INFO [line:158] 没有关联数据,直接删除apply 表
2019-08-07 10:07:28,939 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:28,939 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:28,939 del_mongo.py INFO [line:158] 没有关联数据,直接删除apply_info 表
2019-08-07 10:07:28,939 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:28,939 del_mongo.py INFO [line:37] close Client
2019-08-07 10:07:28,991 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-08-07 10:07:28,992 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-08-07 10:07:28,992 del_mongo.py INFO [line:44] userdevices 表预计删除 3 条记录
2019-08-07 10:07:28,992 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-08-07 10:07:32,045 del_mongo.py INFO [line:31] 连接数据库uat
2019-08-07 10:07:37,000 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'phone': '15089514626'} 的数据有1 条
2019-08-07 10:07:37,144 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480435e3d42444d4a4653e'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5d480435e3d424302aa46511'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Qinyuan', 'lastName': 'Zheng', 'chineseName': '郑钦元', 'pastEnglishName': '', 'email': 'onedi@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15089514626', 'address': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号1015499', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '441502199602120215', 'countryIssue': 'CHN', 'birthday': 824054400000.0, 'birthPlace': 'CHN', 'idCardAddress': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号1015499', 'idCardAddressReadOnly': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号101', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['3320ccf7-ebb1-4066-80c8-055ea3e6dc71.jpg', 'f4e6d858-4628-42ec-8a16-a4d1895692ac.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt200000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt1000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['savings', 'pension'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': 'lt1Year', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'Y', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['speculation', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['b7b97b62-8fa7-4679-baee-3e33bcddaf6a.jpg'], 'passportMaterialBackup': ['a66df8d7-1360-4c81-9300-6de6251296f1.jpg', '4552327a-9302-4b2f-9de5-c6eeea38d48b.jpg'], 'signatureMaterial': ['2364f4c2-55d8-44de-a380-b73bf2cf9abd.jpg'], 'passportMaterialBak': ['3320ccf7-ebb1-4066-80c8-055ea3e6dc71.jpg', 'f4e6d858-4628-42ec-8a16-a4d1895692ac.jpg'], 'identityAuthenticationImgBak': ['b7b97b62-8fa7-4679-baee-3e33bcddaf6a.jpg'], 'signatureMaterialBak': ['2364f4c2-55d8-44de-a380-b73bf2cf9abd.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '广东省', 'city': '汕尾市', 'idNo': '441502199602120215', 'userName': '郑钦元', 'sex': '男', 'contactAddr': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号101', 'birthday': '1996/2/12', 'nationality': '汉', 'cardedPlace': '祁阳县公安局', 'cardedExpiryDate': '20160129-20260129'}, 'createdTime': 1565000757293.0, 'updatedTime': 1565000757293.0}
2019-08-07 10:07:37,145 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5d480435e3d424302aa46511
2019-08-07 10:07:37,145 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-08-07 10:07:37,204 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5d480435e3d424302aa46511')} 的数据有1 条
2019-08-07 10:07:37,310 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480435e3d424302aa46511'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin'], 'appBankCardImg': [], 'applyInfoIds': [ObjectId('5d480435e3d42444d4a4653e')], 'learnHow': ['advertising'], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'caApplyErr': [], 'reviewTime': [], 'step': 'Preview', 'origin': '', 'idpUserId': 'c493e6df-8390-4640-9e79-28da685683e6', 'applicationFor': 'individual', 'parentId': '', 'IBparentId': '', 'mailLanguage': '', 'accountOpeningWay': 'electronicAuth', 'appBankName': '中国工商银行', 'appBankAccount': '6217007200074623383', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'Y', 'agreeToTheTerms': 'Y', 'status': 'notComplete', 'customerSource': 'app', 'applySeqId': '9377', 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5d49902391e1d063eb07e411'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0737307e410'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0ccac07e40f'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0c6fa07e40e'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d05d4007e40d'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d000b207e40c'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0def307e40b'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0062707e40a'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d099e707e409'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0c4b107e408'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0c21107e407'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0166b07e406'), 'username': 'aaron_chan', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5d49902391e1d0d69907e405'), 'username': 'onedi.admin', 'usertype': 'securitiesRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': 'CNY', 'bankAccount': [{'_id': ObjectId('5d4805910d33a426b6c466ff'), 'name': '记一下', 'number': '54942497976', 'holder': 'Zheng Qinyuan', 'currency': 'CNY'}], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': 'Y', 'beneficiaryName': '', 'isOrders': 'Y', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5d49902391e1d00a1e07e401'), 'taxId': '441502199602120215', 'residenceJurisdiction': 'China'}], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5d49902391e1d0897007e404'), 'pageNo': 11, 'x': 140, 'y': 400}, {'_id': ObjectId('5d49902391e1d04a5007e403'), 'pageNo': 13, 'x': 130, 'y': 118}, {'_id': ObjectId('5d49902391e1d0d2a507e402'), 'pageNo': 15, 'x': 130, 'y': 145}], 'signatureSize': {'xDpi': '660', 'yDpi': '660'}, 'submitTime': None, 'createdTime': 1565000757114.0, 'updatedTime': 1565102115054.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '15089514626', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.7.1', 'deviceModel': 'iPhone 6s Plus/iOS:10.3.3', 'isContactClient': '', 'reSubmitTime': None, 'accountOpeningTime': None, 'LearnHowCodeOps': '', 'isHideGeneratePdfPage': 'N', 'isCommonService': 'Y', 'accountOpeningAgreement': '', 'opsProcessing': {}, 'refuseBy': ''}
2019-08-07 10:07:37,311 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5d480435e3d42444d4a4653e')]
2019-08-07 10:07:37,311 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-08-07 10:07:37,363 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5d480435e3d42444d4a4653e')} 的数据有1 条
2019-08-07 10:07:37,468 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480435e3d42444d4a4653e'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5d480435e3d424302aa46511'), 'leadId': '', 'isFromLead': False, 'title': 'mr', 'firstName': 'Qinyuan', 'lastName': 'Zheng', 'chineseName': '郑钦元', 'pastEnglishName': '', 'email': 'onedi@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15089514626', 'address': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号1015499', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '441502199602120215', 'countryIssue': 'CHN', 'birthday': 824054400000.0, 'birthPlace': 'CHN', 'idCardAddress': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号1015499', 'idCardAddressReadOnly': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号101', 'employment': 'unemployed', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': 'Y', 'isTradingStructureAggree': 'Y', 'disclaimerVideo': '', 'passportMaterial': ['3320ccf7-ebb1-4066-80c8-055ea3e6dc71.jpg', 'f4e6d858-4628-42ec-8a16-a4d1895692ac.jpg'], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': 'lt200000', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': 'lt1000000', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': ['savings', 'pension'], 'securities': '1To5Years', 'CBBC': 'lt1Year', 'warrants': 'lt1Year', 'futures': '1To5Years', 'options': 'lt1Year', 'algoTrade': '', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': 'lt1Year', 'foreignExchange': 'lt1Year', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': 'N', 'isIndustryExperience': 'Y', 'isStocks': 'Y', 'isBankruptcy': 'N', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': 'N', 'agtPosition': '', 'isBondFuturesClientsConnected': 'N', 'agtName': '', 'isAcquaintHighLevel': 'N', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': 'N', 'americanResidentsTaxId': '', 'isAmericanResidentsb': 'N', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': 'N', 'politicalFigureName': '', 'purposeOfInvestment': ['speculation', 'income'], 'riskTolerance': 'high', 'identityAuthenticationImg': ['b7b97b62-8fa7-4679-baee-3e33bcddaf6a.jpg'], 'passportMaterialBackup': ['a66df8d7-1360-4c81-9300-6de6251296f1.jpg', '4552327a-9302-4b2f-9de5-c6eeea38d48b.jpg'], 'signatureMaterial': ['2364f4c2-55d8-44de-a380-b73bf2cf9abd.jpg'], 'passportMaterialBak': ['3320ccf7-ebb1-4066-80c8-055ea3e6dc71.jpg', 'f4e6d858-4628-42ec-8a16-a4d1895692ac.jpg'], 'identityAuthenticationImgBak': ['b7b97b62-8fa7-4679-baee-3e33bcddaf6a.jpg'], 'signatureMaterialBak': ['2364f4c2-55d8-44de-a380-b73bf2cf9abd.jpg']}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'ocrInfo': {'province': '广东省', 'city': '汕尾市', 'idNo': '441502199602120215', 'userName': '郑钦元', 'sex': '男', 'contactAddr': '广东省汕尾市城区新港街道新港海滨居委广场路一巷48号101', 'birthday': '1996/2/12', 'nationality': '汉', 'cardedPlace': '祁阳县公安局', 'cardedExpiryDate': '20160129-20260129'}, 'createdTime': 1565000757293.0, 'updatedTime': 1565000757293.0}
2019-08-07 10:07:37,468 del_mongo.py INFO [line:118] apply 表关联的字段为 idpUserId : c493e6df-8390-4640-9e79-28da685683e6
2019-08-07 10:07:37,469 del_mongo.py INFO [line:119] 正在查询关联表 users 的数据
2019-08-07 10:07:37,522 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': 'c493e6df-8390-4640-9e79-28da685683e6'} 的数据有1 条
2019-08-07 10:07:37,635 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480418d947d7100a48e2f6'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '15089514626', 'email': '15089514626@toBeCreated.com', 'phone_number': '8615089514626', 'custom': {'device_id': '4d606f1da1075c25', 'rollabckTime': 1565004230656.0, 'syncFlag': 2, 'syncTime': 1565004230815.0, 'syncSuccessTime': 1565004238151.0}, 'subject': 'c493e6df-8390-4640-9e79-28da685683e6', 'created_at': datetime.datetime(2019, 8, 5, 10, 25, 27, 685000), 'updated_at': datetime.datetime(2019, 8, 5, 10, 25, 27, 685000), 'secret': '$2a$08$Bm6lA864RrAjOTOt990VPe8aRs8drqEpvCSLVr.m67FYP1EfAv52O', '__v': 0}
2019-08-07 10:07:37,636 del_mongo.py INFO [line:138] users 表关联的字段为 subject : c493e6df-8390-4640-9e79-28da685683e6
2019-08-07 10:07:37,636 del_mongo.py INFO [line:139] 正在查询关联表 userdevices 的数据
2019-08-07 10:07:37,697 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': 'c493e6df-8390-4640-9e79-28da685683e6'} 的数据有3 条
2019-08-07 10:07:37,824 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480420f34a2d6be51217fd'), 'device_id': '4d606f1da1075c25', 'subject': 'c493e6df-8390-4640-9e79-28da685683e6', '__v': 0, 'code': '74d75914-5e57-4447-b547-87b1de8897ac', 'created_at': datetime.datetime(2019, 8, 5, 10, 25, 36, 866000), 'verified': True}
2019-08-07 10:07:37,824 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:37,824 del_mongo.py INFO [line:158] 没有关联数据,直接删除userdevices 表
2019-08-07 10:07:37,893 del_mongo.py INFO [line:172] <pymongo.results.DeleteResult object at 0x0000024BFD0C1888>
2019-08-07 10:07:37,893 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:37,893 del_mongo.py INFO [line:69] {'_id': ObjectId('5d480f9ef34a2d6be5134d95'), 'device_id': 'FE7BCC63-746E-41B4-8E61-CD3DA0B2D85B', 'subject': 'c493e6df-8390-4640-9e79-28da685683e6', '__v': 0, 'code': '36bf9961-6154-495b-883b-1d9c2552fcf1', 'created_at': datetime.datetime(2019, 8, 5, 11, 14, 38, 256000), 'verified': True}
2019-08-07 10:07:37,893 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:37,893 del_mongo.py INFO [line:158] 没有关联数据,直接删除userdevices 表
2019-08-07 10:07:37,961 del_mongo.py INFO [line:172] <pymongo.results.DeleteResult object at 0x0000024BFD0D8C88>
2019-08-07 10:07:37,961 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:37,961 del_mongo.py INFO [line:69] {'_id': ObjectId('5d4a3223f34a2d6be548db33'), 'device_id': 'A16AB6F9-6854-49EB-BD53-73E2D3C4D24A', 'subject': 'c493e6df-8390-4640-9e79-28da685683e6', '__v': 0, 'code': 'f27e6617-1cf2-4a2e-826c-49c32b6ff5a5', 'created_at': datetime.datetime(2019, 8, 7, 2, 6, 27, 498000), 'verified': True}
2019-08-07 10:07:37,961 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:37,961 del_mongo.py INFO [line:158] 没有关联数据,直接删除userdevices 表
2019-08-07 10:07:38,030 del_mongo.py INFO [line:172] <pymongo.results.DeleteResult object at 0x0000024BFD0D8C08>
2019-08-07 10:07:38,030 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:38,030 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:38,030 del_mongo.py INFO [line:158] 没有关联数据,直接删除users 表
2019-08-07 10:07:38,345 del_mongo.py INFO [line:172] <pymongo.results.DeleteResult object at 0x0000024BFD07B748>
2019-08-07 10:07:38,345 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:38,345 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:38,345 del_mongo.py INFO [line:158] 没有关联数据,直接删除apply 表
2019-08-07 10:07:38,399 del_mongo.py INFO [line:172] <pymongo.results.DeleteResult object at 0x0000024BFD0C1888>
2019-08-07 10:07:38,400 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:38,400 del_mongo.py INFO [line:157] ***********************************

2019-08-07 10:07:38,400 del_mongo.py INFO [line:158] 没有关联数据,直接删除apply_info 表
2019-08-07 10:07:38,456 del_mongo.py INFO [line:172] <pymongo.results.DeleteResult object at 0x0000024BFD095948>
2019-08-07 10:07:38,456 del_mongo.py INFO [line:176] ***********************************

2019-08-07 10:07:38,456 del_mongo.py INFO [line:37] close Client
2019-08-07 10:07:38,509 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-08-07 10:07:38,510 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-08-07 10:07:38,510 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-08-07 10:07:38,510 del_mongo.py INFO [line:44] userdevices 表预计删除 3 条记录
2019-08-07 10:07:38,510 del_mongo.py INFO [line:51] apply_info 表实际删除 1 条记录
2019-08-07 10:07:38,510 del_mongo.py INFO [line:51] users 表实际删除 1 条记录
2019-08-07 10:07:38,510 del_mongo.py INFO [line:51] apply 表实际删除 1 条记录
2019-08-07 10:07:38,510 del_mongo.py INFO [line:51] userdevices 表实际删除 3 条记录
