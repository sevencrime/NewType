2019-07-02 10:06:27,065 del_mongo.py INFO [line:31] 连接数据库uat
2019-07-02 10:06:32,571 del_mongo.py INFO [line:66] apply 表符合查询条件{'applySeqId': 1375} 的数据有1 条
2019-07-02 10:06:32,778 del_mongo.py INFO [line:69] {'_id': ObjectId('5ca48dbd59b8bb562eb37e48'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'applyInfoIds': [ObjectId('5ca48dbe59b8bb120fb37e63')], 'learnHow': [], 'tradingAuthorization': [''], 'isRelatedAccounts': [], 'step': '1', 'origin': '', 'idpUserId': '9fd9290b-1c39-4d33-877c-5df3543d8f95', 'applicationFor': 'individual', 'parentId': '', 'IBparentId': '', 'mailLanguage': '', 'accountOpeningWay': 'electronicAuth', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': '', 'status': 'finish', 'customerSource': 'app', 'applySeqId': 1375, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb56c2b37e61'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb35afb37e60'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb5107b37e5f'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb7ddcb37e5e'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb51e6b37e5d'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bbe94db37e5c'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb5a94b37e5b'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb322cb37e5a'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb2c8eb37e59'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb30c5b37e58'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bbb60bb37e57'), 'username': 'ro_one', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': '', 'beneficiaryName': '', 'isOrders': '', 'ordersName': '', 'relatedAccountsOpt': [], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'remark': '', 'reason': '', 'principal': '', 'openlocation': '', 'isReSubmit': '', 'signatureFile': '', 'appVersion': '', 'deviceModel': '', 'refuseClients': '', 'refuseBy': '', 'createdTime': 1554288061977.0, 'updatedTime': 1554288061977.0, 'submitTime': 1554288062936.0, 'opsProcessing': 'opsProcessing'}
2019-07-02 10:06:32,787 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5ca48dbe59b8bb120fb37e63')]
2019-07-02 10:06:32,787 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-07-02 10:06:32,881 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5ca48dbe59b8bb120fb37e63')} 的数据有1 条
2019-07-02 10:06:33,075 del_mongo.py INFO [line:69] {'_id': ObjectId('5ca48dbe59b8bb120fb37e63'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5ca48dbd59b8bb562eb37e48'), 'leadId': '', 'isFromLead': False, 'title': '', 'firstName': '', 'lastName': '', 'chineseName': '', 'pastEnglishName': '', 'email': '', 'phoneAreaCode': '', 'phone': '', 'address': '', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': '', 'idType': '', 'idNumber': '', 'countryIssue': '', 'birthday': None, 'birthPlace': 'CHN', 'idCardAddress': '', 'idCardAddressReadOnly': '', 'employment': '', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': '', 'isTradingStructureAggree': 'N', 'disclaimerVideo': '', 'passportMaterial': [], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': '', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': '', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': [], 'securities': '', 'CBBC': '', 'warrants': '', 'futures': '', 'options': '', 'bullion': '', 'foreignExchange': '', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': '', 'isIndustryExperience': '', 'isStocks': '', 'isBankruptcy': '', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': '', 'agtPosition': '', 'isBondFuturesClientsConnected': '', 'agtName': '', 'isAcquaintHighLevel': '', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': '', 'americanResidentsTaxId': '', 'isAmericanResidentsb': '', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': '', 'politicalFigureName': '', 'purposeOfInvestment': '', 'riskTolerance': ''}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'createdTime': 1554288062296.0, 'updatedTime': 1554288062296.0}
2019-07-02 10:06:33,076 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5ca48dbd59b8bb562eb37e48
2019-07-02 10:06:33,076 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-07-02 10:06:33,170 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5ca48dbd59b8bb562eb37e48')} 的数据有1 条
2019-07-02 10:06:33,374 del_mongo.py INFO [line:69] {'_id': ObjectId('5ca48dbd59b8bb562eb37e48'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'applyInfoIds': [ObjectId('5ca48dbe59b8bb120fb37e63')], 'learnHow': [], 'tradingAuthorization': [''], 'isRelatedAccounts': [], 'step': '1', 'origin': '', 'idpUserId': '9fd9290b-1c39-4d33-877c-5df3543d8f95', 'applicationFor': 'individual', 'parentId': '', 'IBparentId': '', 'mailLanguage': '', 'accountOpeningWay': 'electronicAuth', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': '', 'status': 'finish', 'customerSource': 'app', 'applySeqId': 1375, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb56c2b37e61'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb35afb37e60'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb5107b37e5f'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb7ddcb37e5e'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb51e6b37e5d'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bbe94db37e5c'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb5a94b37e5b'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb322cb37e5a'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb2c8eb37e59'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb30c5b37e58'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bbb60bb37e57'), 'username': 'ro_one', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': '', 'beneficiaryName': '', 'isOrders': '', 'ordersName': '', 'relatedAccountsOpt': [], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'remark': '', 'reason': '', 'principal': '', 'openlocation': '', 'isReSubmit': '', 'signatureFile': '', 'appVersion': '', 'deviceModel': '', 'refuseClients': '', 'refuseBy': '', 'createdTime': 1554288061977.0, 'updatedTime': 1554288061977.0, 'submitTime': 1554288062936.0, 'opsProcessing': 'opsProcessing'}
2019-07-02 10:06:33,375 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:06:33,375 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-07-02 10:06:33,375 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:06:33,375 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : 9fd9290b-1c39-4d33-877c-5df3543d8f95
2019-07-02 10:06:33,375 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-07-02 10:06:33,481 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '9fd9290b-1c39-4d33-877c-5df3543d8f95'} 的数据有0 条
2019-07-02 10:06:33,699 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:06:33,699 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-07-02 10:06:33,699 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:06:33,699 del_mongo.py INFO [line:37] close Client
2019-07-02 10:06:33,806 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-07-02 10:06:33,807 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-07-02 10:06:37,964 del_mongo.py INFO [line:31] 连接数据库uat
2019-07-02 10:06:43,820 del_mongo.py INFO [line:66] apply 表符合查询条件{'applySeqId': 1375} 的数据有1 条
2019-07-02 10:06:44,045 del_mongo.py INFO [line:69] {'_id': ObjectId('5ca48dbd59b8bb562eb37e48'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'applyInfoIds': [ObjectId('5ca48dbe59b8bb120fb37e63')], 'learnHow': [], 'tradingAuthorization': [''], 'isRelatedAccounts': [], 'step': '1', 'origin': '', 'idpUserId': '9fd9290b-1c39-4d33-877c-5df3543d8f95', 'applicationFor': 'individual', 'parentId': '', 'IBparentId': '', 'mailLanguage': '', 'accountOpeningWay': 'electronicAuth', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': '', 'status': 'finish', 'customerSource': 'app', 'applySeqId': 1375, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb56c2b37e61'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb35afb37e60'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb5107b37e5f'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb7ddcb37e5e'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb51e6b37e5d'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bbe94db37e5c'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb5a94b37e5b'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb322cb37e5a'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb2c8eb37e59'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb30c5b37e58'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bbb60bb37e57'), 'username': 'ro_one', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': '', 'beneficiaryName': '', 'isOrders': '', 'ordersName': '', 'relatedAccountsOpt': [], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'remark': '', 'reason': '', 'principal': '', 'openlocation': '', 'isReSubmit': '', 'signatureFile': '', 'appVersion': '', 'deviceModel': '', 'refuseClients': '', 'refuseBy': '', 'createdTime': 1554288061977.0, 'updatedTime': 1554288061977.0, 'submitTime': 1554288062936.0, 'opsProcessing': 'opsProcessing'}
2019-07-02 10:06:44,045 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5ca48dbe59b8bb120fb37e63')]
2019-07-02 10:06:44,045 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-07-02 10:06:44,152 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5ca48dbe59b8bb120fb37e63')} 的数据有1 条
2019-07-02 10:06:44,368 del_mongo.py INFO [line:69] {'_id': ObjectId('5ca48dbe59b8bb120fb37e63'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5ca48dbd59b8bb562eb37e48'), 'leadId': '', 'isFromLead': False, 'title': '', 'firstName': '', 'lastName': '', 'chineseName': '', 'pastEnglishName': '', 'email': '', 'phoneAreaCode': '', 'phone': '', 'address': '', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': '', 'idType': '', 'idNumber': '', 'countryIssue': '', 'birthday': None, 'birthPlace': 'CHN', 'idCardAddress': '', 'idCardAddressReadOnly': '', 'employment': '', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': '', 'isTradingStructureAggree': 'N', 'disclaimerVideo': '', 'passportMaterial': [], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': '', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': '', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': [], 'securities': '', 'CBBC': '', 'warrants': '', 'futures': '', 'options': '', 'bullion': '', 'foreignExchange': '', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': '', 'isIndustryExperience': '', 'isStocks': '', 'isBankruptcy': '', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': '', 'agtPosition': '', 'isBondFuturesClientsConnected': '', 'agtName': '', 'isAcquaintHighLevel': '', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': '', 'americanResidentsTaxId': '', 'isAmericanResidentsb': '', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': '', 'politicalFigureName': '', 'purposeOfInvestment': '', 'riskTolerance': ''}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'createdTime': 1554288062296.0, 'updatedTime': 1554288062296.0}
2019-07-02 10:06:44,368 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5ca48dbd59b8bb562eb37e48
2019-07-02 10:06:44,368 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-07-02 10:06:44,477 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5ca48dbd59b8bb562eb37e48')} 的数据有1 条
2019-07-02 10:06:44,693 del_mongo.py INFO [line:69] {'_id': ObjectId('5ca48dbd59b8bb562eb37e48'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'applyInfoIds': [ObjectId('5ca48dbe59b8bb120fb37e63')], 'learnHow': [], 'tradingAuthorization': [''], 'isRelatedAccounts': [], 'step': '1', 'origin': '', 'idpUserId': '9fd9290b-1c39-4d33-877c-5df3543d8f95', 'applicationFor': 'individual', 'parentId': '', 'IBparentId': '', 'mailLanguage': '', 'accountOpeningWay': 'electronicAuth', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': '', 'status': 'finish', 'customerSource': 'app', 'applySeqId': 1375, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb56c2b37e61'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb35afb37e60'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb5107b37e5f'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb7ddcb37e5e'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb51e6b37e5d'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bbe94db37e5c'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb5a94b37e5b'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb322cb37e5a'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb2c8eb37e59'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bb30c5b37e58'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5ca48dbd59b8bbb60bb37e57'), 'username': 'ro_one', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': '', 'beneficiaryName': '', 'isOrders': '', 'ordersName': '', 'relatedAccountsOpt': [], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'remark': '', 'reason': '', 'principal': '', 'openlocation': '', 'isReSubmit': '', 'signatureFile': '', 'appVersion': '', 'deviceModel': '', 'refuseClients': '', 'refuseBy': '', 'createdTime': 1554288061977.0, 'updatedTime': 1554288061977.0, 'submitTime': 1554288062936.0, 'opsProcessing': 'opsProcessing'}
2019-07-02 10:06:44,693 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:06:44,693 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-07-02 10:06:44,801 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000248F2740708>
2019-07-02 10:06:44,801 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:06:44,801 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : 9fd9290b-1c39-4d33-877c-5df3543d8f95
2019-07-02 10:06:44,801 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-07-02 10:06:44,909 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '9fd9290b-1c39-4d33-877c-5df3543d8f95'} 的数据有0 条
2019-07-02 10:06:45,432 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:06:45,432 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-07-02 10:06:45,541 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000248F271DEC8>
2019-07-02 10:06:45,541 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:06:45,541 del_mongo.py INFO [line:37] close Client
2019-07-02 10:06:45,650 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-07-02 10:06:45,651 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-07-02 10:06:45,651 del_mongo.py INFO [line:51] apply_info 表实际删除 1 条记录
2019-07-02 10:06:45,651 del_mongo.py INFO [line:51] apply 表实际删除 1 条记录
2019-07-02 10:06:51,238 del_mongo.py INFO [line:31] 连接数据库uat
2019-07-02 10:06:56,305 del_mongo.py INFO [line:66] apply 表符合查询条件{'applySeqId': 1283} 的数据有1 条
2019-07-02 10:06:56,465 del_mongo.py INFO [line:69] {'_id': ObjectId('5c9c89a7b0451267db64f2a2'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'applyInfoIds': [ObjectId('5c9c89a8b0451275da64f2bd')], 'learnHow': [], 'tradingAuthorization': [''], 'isRelatedAccounts': ['opt'], 'step': '2', 'origin': '', 'idpUserId': '3dfaf6ba-bd21-4105-a64e-92732b0d5316', 'applicationFor': 'individual', 'parentId': '', 'IBparentId': '', 'mailLanguage': '', 'accountOpeningWay': 'electronicAuth', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': '', 'status': 'finish', 'customerSource': 'app', 'applySeqId': 1283, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5c9c89b1b045129dcf64f2ca'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b04512ee4664f2c9'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b04512eb3a64f2c8'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b045127d4664f2c7'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b04512fa7264f2c6'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b045121c0764f2c5'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b045128c3e64f2c4'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b04512500964f2c3'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b045121fa564f2c2'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b04512403a64f2c1'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b045120b7464f2c0'), 'username': 'ro_one', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': '', 'beneficiaryName': '', 'isOrders': '', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5c9c89b1b04512180c64f2cb'), 'taxId': '', 'residenceJurisdiction': 'China'}], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'remark': '', 'reason': '', 'principal': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.5-20190321', 'deviceModel': '', 'refuseClients': '', 'refuseBy': '', 'createdTime': 1553762728091.0, 'updatedTime': 1553762737169.0}
2019-07-02 10:06:56,465 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5c9c89a8b0451275da64f2bd')]
2019-07-02 10:06:56,465 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-07-02 10:06:56,545 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5c9c89a8b0451275da64f2bd')} 的数据有1 条
2019-07-02 10:06:56,705 del_mongo.py INFO [line:69] {'_id': ObjectId('5c9c89a8b0451275da64f2bd'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5c9c89a7b0451267db64f2a2'), 'leadId': '', 'isFromLead': False, 'title': '', 'firstName': '', 'lastName': '', 'chineseName': '', 'pastEnglishName': '', 'email': '', 'phoneAreaCode': 'CHN', 'phone': '', 'address': '', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '', 'countryIssue': 'CHN', 'birthday': None, 'birthPlace': 'CHN', 'idCardAddress': '', 'idCardAddressReadOnly': '', 'employment': '', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': '', 'isTradingStructureAggree': 'N', 'disclaimerVideo': '', 'passportMaterial': [], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': '', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': '', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': [], 'securities': '', 'CBBC': '', 'warrants': '', 'futures': '', 'options': '', 'bullion': 'lt1Year', 'foreignExchange': '', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': '', 'isIndustryExperience': '', 'isStocks': '', 'isBankruptcy': '', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': '', 'agtPosition': '', 'isBondFuturesClientsConnected': '', 'agtName': '', 'isAcquaintHighLevel': '', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': '', 'americanResidentsTaxId': '', 'isAmericanResidentsb': '', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': '', 'politicalFigureName': '', 'purposeOfInvestment': '', 'riskTolerance': ''}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'createdTime': 1553762728649.0, 'updatedTime': 1553762728649.0}
2019-07-02 10:06:56,705 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5c9c89a7b0451267db64f2a2
2019-07-02 10:06:56,705 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-07-02 10:06:56,782 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5c9c89a7b0451267db64f2a2')} 的数据有1 条
2019-07-02 10:06:56,924 del_mongo.py INFO [line:69] {'_id': ObjectId('5c9c89a7b0451267db64f2a2'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'applyInfoIds': [ObjectId('5c9c89a8b0451275da64f2bd')], 'learnHow': [], 'tradingAuthorization': [''], 'isRelatedAccounts': ['opt'], 'step': '2', 'origin': '', 'idpUserId': '3dfaf6ba-bd21-4105-a64e-92732b0d5316', 'applicationFor': 'individual', 'parentId': '', 'IBparentId': '', 'mailLanguage': '', 'accountOpeningWay': 'electronicAuth', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': '', 'status': 'finish', 'customerSource': 'app', 'applySeqId': 1283, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5c9c89b1b045129dcf64f2ca'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b04512ee4664f2c9'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b04512eb3a64f2c8'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b045127d4664f2c7'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b04512fa7264f2c6'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b045121c0764f2c5'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b045128c3e64f2c4'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b04512500964f2c3'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b045121fa564f2c2'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b04512403a64f2c1'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5c9c89b1b045120b7464f2c0'), 'username': 'ro_one', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': '', 'beneficiaryName': '', 'isOrders': '', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5c9c89b1b04512180c64f2cb'), 'taxId': '', 'residenceJurisdiction': 'China'}], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'remark': '', 'reason': '', 'principal': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.5-20190321', 'deviceModel': '', 'refuseClients': '', 'refuseBy': '', 'createdTime': 1553762728091.0, 'updatedTime': 1553762737169.0}
2019-07-02 10:06:56,924 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:06:56,924 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-07-02 10:06:56,992 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000230E95C0688>
2019-07-02 10:06:56,992 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:06:56,992 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : 3dfaf6ba-bd21-4105-a64e-92732b0d5316
2019-07-02 10:06:56,992 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-07-02 10:06:57,061 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '3dfaf6ba-bd21-4105-a64e-92732b0d5316'} 的数据有0 条
2019-07-02 10:06:57,202 del_mongo.py INFO [line:152] ***********************************

2019-07-02 10:06:57,202 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-07-02 10:06:57,273 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x00000230E959DFC8>
2019-07-02 10:06:57,273 del_mongo.py INFO [line:171] ***********************************

2019-07-02 10:06:57,273 del_mongo.py INFO [line:37] close Client
2019-07-02 10:06:57,345 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-07-02 10:06:57,345 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-07-02 10:06:57,345 del_mongo.py INFO [line:51] apply_info 表实际删除 1 条记录
2019-07-02 10:06:57,345 del_mongo.py INFO [line:51] apply 表实际删除 1 条记录
