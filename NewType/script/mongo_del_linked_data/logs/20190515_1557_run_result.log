2019-05-15 15:57:49,646 del_mongo.py INFO [line:31] 连接数据库uat
2019-05-15 15:57:53,430 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'phone': '15089514626'} 的数据有1 条
2019-05-15 15:57:53,705 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd92e2900ae7a5350d48dd4'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cd92e2900ae7aba43d48da7'), 'leadId': '', 'isFromLead': False, 'title': '', 'firstName': 'Qinyuan', 'lastName': 'Zheng', 'chineseName': '郑钦元', 'pastEnglishName': '', 'email': 'onedi@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15089514626', 'address': 'hdhdh', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '', 'countryIssue': 'CHN', 'birthday': None, 'birthPlace': 'CHN', 'idCardAddress': 'hdhdh', 'idCardAddressReadOnly': '', 'employment': '', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': '', 'isTradingStructureAggree': 'N', 'disclaimerVideo': '', 'passportMaterial': [], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': '', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': '', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': [], 'securities': '', 'CBBC': '', 'warrants': '', 'futures': '', 'options': '', 'algoTrade': 'lt1Year', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '', 'foreignExchange': '', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': '', 'isIndustryExperience': '', 'isStocks': '', 'isBankruptcy': '', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': '', 'agtPosition': '', 'isBondFuturesClientsConnected': '', 'agtName': '', 'isAcquaintHighLevel': '', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': '', 'americanResidentsTaxId': '', 'isAmericanResidentsb': '', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': '', 'politicalFigureName': '', 'purposeOfInvestment': '', 'riskTolerance': 'high', 'signatureMaterial': [], 'isReferralCode': 'Y'}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'createdTime': 1557737001361.0, 'updatedTime': 1557737001361.0}
2019-05-15 15:57:53,713 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5cd92e2900ae7aba43d48da7
2019-05-15 15:57:53,713 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-05-15 15:57:53,847 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5cd92e2900ae7aba43d48da7')} 的数据有1 条
2019-05-15 15:57:54,583 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd92e2900ae7aba43d48da7'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'applyInfoIds': [ObjectId('5cd92e2900ae7a5350d48dd4')], 'learnHow': [], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'step': 'BankCardInformation', 'origin': '', 'idpUserId': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad', 'applicationFor': 'individual', 'parentId': '', 'IBparentId': '', 'mailLanguage': '', 'accountOpeningWay': 'electronicAuth', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': '', 'status': 'notComplete', 'customerSource': 'app', 'applySeqId': 8448, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5cd94354ea5d2526f3eb17b5'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d250264eb17b4'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d255dd8eb17b3'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d2586ddeb17b2'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d2533a5eb17b1'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25c497eb17b0'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25397ceb17af'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d2503aaeb17ae'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25c5f6eb17ad'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d257d2eeb17ac'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d255559eb17ab'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25b83eeb17aa'), 'username': 'aaron_chan', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d253ae6eb17a9'), 'username': 'onedi.admin', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25545ceb17a8'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25032feb17a7'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d252440eb17a6'), 'username': 'ro_one', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d253cfdeb17a5'), 'username': 'onedi.admin', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25d292eb17a4'), 'username': 'cliff_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d253489eb17a3'), 'username': 'aaron_chan', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': '', 'beneficiaryName': '', 'isOrders': '', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5cd94354ea5d2524ddeb17b6'), 'taxId': '', 'residenceJurisdiction': 'China'}], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}, {'_id': ObjectId('5cc550fbe0d90d746063bac7'), 'pageNo': 15, 'x': 130, 'y': 185}, {'_id': ObjectId('5cc55141e0d90d746063bac8'), 'pageNo': 17, 'x': 130, 'y': 185}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': None, 'createdTime': 1557737001286.0, 'updatedTime': 1557742420513.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.3.2-20190430', 'deviceModel': 'vivo X9s/Android:7.1.1', 'isContactClient': '', 'reSubmitTime': None, 'LearnHowCodeOps': '', 'refuseBy': ''}
2019-05-15 15:57:54,583 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5cd92e2900ae7a5350d48dd4')]
2019-05-15 15:57:54,583 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-05-15 15:57:54,717 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5cd92e2900ae7a5350d48dd4')} 的数据有1 条
2019-05-15 15:57:54,985 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd92e2900ae7a5350d48dd4'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cd92e2900ae7aba43d48da7'), 'leadId': '', 'isFromLead': False, 'title': '', 'firstName': 'Qinyuan', 'lastName': 'Zheng', 'chineseName': '郑钦元', 'pastEnglishName': '', 'email': 'onedi@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15089514626', 'address': 'hdhdh', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '', 'countryIssue': 'CHN', 'birthday': None, 'birthPlace': 'CHN', 'idCardAddress': 'hdhdh', 'idCardAddressReadOnly': '', 'employment': '', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': '', 'isTradingStructureAggree': 'N', 'disclaimerVideo': '', 'passportMaterial': [], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': '', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': '', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': [], 'securities': '', 'CBBC': '', 'warrants': '', 'futures': '', 'options': '', 'algoTrade': 'lt1Year', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '', 'foreignExchange': '', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': '', 'isIndustryExperience': '', 'isStocks': '', 'isBankruptcy': '', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': '', 'agtPosition': '', 'isBondFuturesClientsConnected': '', 'agtName': '', 'isAcquaintHighLevel': '', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': '', 'americanResidentsTaxId': '', 'isAmericanResidentsb': '', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': '', 'politicalFigureName': '', 'purposeOfInvestment': '', 'riskTolerance': 'high', 'signatureMaterial': [], 'isReferralCode': 'Y'}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'createdTime': 1557737001361.0, 'updatedTime': 1557737001361.0}
2019-05-15 15:57:54,985 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : 58b27cb3-3cc8-49dc-bb3b-9efc80107cad
2019-05-15 15:57:54,985 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-05-15 15:57:55,119 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad'} 的数据有1 条
2019-05-15 15:57:55,390 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd92e181a73f7d85bcd0264'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '15089514626', 'email': '15089514626@toBeCreated.com', 'phone_number': '8615089514626', 'custom': {'device_id': '4d606f1da1075c25'}, 'subject': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad', 'created_at': datetime.datetime(2019, 5, 13, 8, 43, 3, 505000), 'updated_at': datetime.datetime(2019, 5, 13, 8, 43, 3, 505000), 'secret': '$2a$08$QP16GfXIBZGRvkgibHSZxeNt/P3kMIopJeZo0S2Z5J9RINjG01GC.', '__v': 0}
2019-05-15 15:57:55,391 del_mongo.py INFO [line:136] users 表关联的字段为 subject : 58b27cb3-3cc8-49dc-bb3b-9efc80107cad
2019-05-15 15:57:55,391 del_mongo.py INFO [line:137] 正在查询关联表 userdevices 的数据
2019-05-15 15:57:55,527 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad'} 的数据有2 条
2019-05-15 15:57:56,128 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd92e1b942e6f40262090e4'), 'device_id': '4d606f1da1075c25', 'subject': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad', '__v': 0, 'code': '561627f2-f3fb-45dc-bb3f-33452b2ecb80', 'created_at': datetime.datetime(2019, 5, 13, 8, 43, 7, 410000), 'verified': True}
2019-05-15 15:57:56,128 del_mongo.py INFO [line:152] ***********************************

2019-05-15 15:57:56,129 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-05-15 15:57:56,129 del_mongo.py INFO [line:171] ***********************************

2019-05-15 15:57:56,129 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd940ea942e6f402621b519'), 'device_id': 'ce9851ed8615e240', 'subject': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad', '__v': 0, 'code': '1b94ea47-5d89-41cb-85aa-60749080c470', 'created_at': datetime.datetime(2019, 5, 13, 10, 3, 22, 718000), 'verified': True}
2019-05-15 15:57:56,129 del_mongo.py INFO [line:152] ***********************************

2019-05-15 15:57:56,129 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-05-15 15:57:56,129 del_mongo.py INFO [line:171] ***********************************

2019-05-15 15:57:56,129 del_mongo.py INFO [line:152] ***********************************

2019-05-15 15:57:56,129 del_mongo.py INFO [line:153] 没有关联数据,直接删除users 表
2019-05-15 15:57:56,129 del_mongo.py INFO [line:171] ***********************************

2019-05-15 15:57:56,129 del_mongo.py INFO [line:152] ***********************************

2019-05-15 15:57:56,129 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-05-15 15:57:56,129 del_mongo.py INFO [line:171] ***********************************

2019-05-15 15:57:56,129 del_mongo.py INFO [line:152] ***********************************

2019-05-15 15:57:56,129 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-05-15 15:57:56,129 del_mongo.py INFO [line:171] ***********************************

2019-05-15 15:57:56,129 del_mongo.py INFO [line:37] close Client
2019-05-15 15:57:56,597 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-05-15 15:57:56,597 del_mongo.py INFO [line:44] userdevices 表预计删除 2 条记录
2019-05-15 15:57:56,597 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-05-15 15:57:56,598 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-05-15 15:57:59,138 del_mongo.py INFO [line:31] 连接数据库uat
2019-05-15 15:58:02,388 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'phone': '15089514626'} 的数据有1 条
2019-05-15 15:58:02,569 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd92e2900ae7a5350d48dd4'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cd92e2900ae7aba43d48da7'), 'leadId': '', 'isFromLead': False, 'title': '', 'firstName': 'Qinyuan', 'lastName': 'Zheng', 'chineseName': '郑钦元', 'pastEnglishName': '', 'email': 'onedi@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15089514626', 'address': 'hdhdh', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '', 'countryIssue': 'CHN', 'birthday': None, 'birthPlace': 'CHN', 'idCardAddress': 'hdhdh', 'idCardAddressReadOnly': '', 'employment': '', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': '', 'isTradingStructureAggree': 'N', 'disclaimerVideo': '', 'passportMaterial': [], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': '', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': '', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': [], 'securities': '', 'CBBC': '', 'warrants': '', 'futures': '', 'options': '', 'algoTrade': 'lt1Year', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '', 'foreignExchange': '', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': '', 'isIndustryExperience': '', 'isStocks': '', 'isBankruptcy': '', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': '', 'agtPosition': '', 'isBondFuturesClientsConnected': '', 'agtName': '', 'isAcquaintHighLevel': '', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': '', 'americanResidentsTaxId': '', 'isAmericanResidentsb': '', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': '', 'politicalFigureName': '', 'purposeOfInvestment': '', 'riskTolerance': 'high', 'signatureMaterial': [], 'isReferralCode': 'Y'}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'createdTime': 1557737001361.0, 'updatedTime': 1557737001361.0}
2019-05-15 15:58:02,569 del_mongo.py INFO [line:84] apply_info 表关联的字段为 applyId : 5cd92e2900ae7aba43d48da7
2019-05-15 15:58:02,569 del_mongo.py INFO [line:85] 正在查询关联表 apply 的数据
2019-05-15 15:58:02,656 del_mongo.py INFO [line:66] apply 表符合查询条件{'_id': ObjectId('5cd92e2900ae7aba43d48da7')} 的数据有1 条
2019-05-15 15:58:02,828 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd92e2900ae7aba43d48da7'), 'isRoRefuse': '', 'accountType': ['securitiesCash', 'futuresMargin', 'leveragedForeignExchangeAccountMargin'], 'applyInfoIds': [ObjectId('5cd92e2900ae7a5350d48dd4')], 'learnHow': [], 'tradingAuthorization': [''], 'tradingAuthorizationBak': [''], 'isRelatedAccounts': ['opt'], 'step': 'BankCardInformation', 'origin': '', 'idpUserId': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad', 'applicationFor': 'individual', 'parentId': '', 'IBparentId': '', 'mailLanguage': '', 'accountOpeningWay': 'electronicAuth', 'appBankName': '', 'appBankAccount': '', 'appCertSn': '', 'appCertDn': '', 'accountNumber': '', 'personalInfoDeclartion': 'N', 'agreeToTheTerms': '', 'status': 'notComplete', 'customerSource': 'app', 'applySeqId': 8448, 'roApprovalList': [{'isApproval': False, '_id': ObjectId('5cd94354ea5d2526f3eb17b5'), 'username': 'don_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d250264eb17b4'), 'username': 'ro_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d255dd8eb17b3'), 'username': 'ro1_don', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d2586ddeb17b2'), 'username': 'ro_one', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d2533a5eb17b1'), 'username': 'aaron_chan', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25c497eb17b0'), 'username': 'onedi.admin', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25397ceb17af'), 'username': 'cliff_test', 'usertype': 'futuressRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d2503aaeb17ae'), 'username': 'cliff_test', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25c5f6eb17ad'), 'username': 'ro_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d257d2eeb17ac'), 'username': 'ro1_cliff', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d255559eb17ab'), 'username': 'ro_one', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25b83eeb17aa'), 'username': 'aaron_chan', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d253ae6eb17a9'), 'username': 'onedi.admin', 'usertype': 'securitiesRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25545ceb17a8'), 'username': 'aaron.chan', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25032feb17a7'), 'username': 'aaron_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d252440eb17a6'), 'username': 'ro_one', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d253cfdeb17a5'), 'username': 'onedi.admin', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d25d292eb17a4'), 'username': 'cliff_test', 'usertype': 'fouexRo'}, {'isApproval': False, '_id': ObjectId('5cd94354ea5d253489eb17a3'), 'username': 'aaron_chan', 'usertype': 'fouexRo'}], 'leadId': '', 'isFromLead': False, 'parentPath': '', 'currency': '', 'bankAccount': [], 'isHongKongBankCard': '', 'isMarginAccount': '', 'marginAccountName': '', 'marginAccountNumber': '', 'isDiscretion': '', 'discretionName': '', 'discretionNumber': '', 'isCompanyAccounts': '', 'companyAccountsName': '', 'companyAccountsNumber': '', 'learnHowCode': '', 'learnHowOther': '', 'isBeneficiary': '', 'beneficiaryName': '', 'isOrders': '', 'ordersName': '', 'relatedAccountsOpt': [{'_id': ObjectId('5cd94354ea5d2524ddeb17b6'), 'taxId': '', 'residenceJurisdiction': 'China'}], 'referralCode': '', 'signatureCoords': [{'_id': ObjectId('5c3ee2c33dc2063f0894a6dd'), 'pageNo': 13, 'x': 130, 'y': 602}, {'_id': ObjectId('5c3ee2c33dc20649d894a6dc'), 'pageNo': 14, 'x': 130, 'y': 83}, {'_id': ObjectId('5c3ee2c33dc20633a794a6db'), 'pageNo': 16, 'x': 130, 'y': 165}, {'_id': ObjectId('5cc550fbe0d90d746063bac7'), 'pageNo': 15, 'x': 130, 'y': 185}, {'_id': ObjectId('5cc55141e0d90d746063bac8'), 'pageNo': 17, 'x': 130, 'y': 185}], 'signatureSize': {'xDpi': '630', 'yDpi': '630'}, 'submitTime': None, 'createdTime': 1557737001286.0, 'updatedTime': 1557742420513.0, 'remark': '', 'reason': '', 'principal': '', 'appBankPhone': '', 'appFileId': '', 'openlocation': '', 'isReSubmit': 'N', 'signatureFile': '', 'appVersion': 'v1.3.2-20190430', 'deviceModel': 'vivo X9s/Android:7.1.1', 'isContactClient': '', 'reSubmitTime': None, 'LearnHowCodeOps': '', 'refuseBy': ''}
2019-05-15 15:58:02,828 del_mongo.py INFO [line:103] apply 表关联的字段为 applyInfoIds : [ObjectId('5cd92e2900ae7a5350d48dd4')]
2019-05-15 15:58:02,828 del_mongo.py INFO [line:104] 正在查询关联表 apply_info 的数据
2019-05-15 15:58:02,914 del_mongo.py INFO [line:66] apply_info 表符合查询条件{'_id': ObjectId('5cd92e2900ae7a5350d48dd4')} 的数据有1 条
2019-05-15 15:58:03,087 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd92e2900ae7a5350d48dd4'), 'relationWithMaster': '', 'isMaster': '1', 'applyId': ObjectId('5cd92e2900ae7aba43d48da7'), 'leadId': '', 'isFromLead': False, 'title': '', 'firstName': 'Qinyuan', 'lastName': 'Zheng', 'chineseName': '郑钦元', 'pastEnglishName': '', 'email': 'onedi@qq.com', 'phoneAreaCode': 'CHN', 'phone': '15089514626', 'address': 'hdhdh', 'syncIDAddress': 'Y', 'isHongKongBankCard': 'N', 'addressRegionProvince': '', 'addressRegionCity': '', 'addressRegionArea': '', 'addressDetailed': '', 'addressMail': '', 'nationality': 'CHN', 'idType': '2', 'idNumber': '', 'countryIssue': 'CHN', 'birthday': None, 'birthPlace': 'CHN', 'idCardAddress': 'hdhdh', 'idCardAddressReadOnly': '', 'employment': '', 'occupation': '', 'employedPeriod': '', 'employer': '', 'businessType': '', 'businessAddress': '', 'businessAddressRegionProvince': '', 'businessAddressRegionCity': '', 'businessAddressRegionArea': '', 'businessAddressDetailed': '', 'businessPhone': '', 'riskInfo': {'isApplyToOpenTradingStructure': '', 'isTradingStructureAggree': 'N', 'disclaimerVideo': '', 'passportMaterial': [], 'sourceOfWealthOther': '', 'addressVerificationMaterials': [], 'bankCardMaterials': [], 'writtenApplicationMaterials': [], 'proofOfIncome': [], 'otherInformation': [], 'totalAnnualCustomerRevenueHK': '', 'totalAnnualCustomerRevenueHKOther': '', 'customerNetAssetValueHK': '', 'customerNetAssetValueHKOther': '', 'sourceOfWealth': [], 'securities': '', 'CBBC': '', 'warrants': '', 'futures': '', 'options': '', 'algoTrade': 'lt1Year', 'isAlgoTrade': '', 'isAlgoTradeAggree': '', 'bullion': '', 'foreignExchange': '', 'otherInvestmentText': '', 'otherInvestment': '', 'isLearnAboutProducts': '', 'isIndustryExperience': '', 'isStocks': '', 'isBankruptcy': '', 'bankruptcyDate': None, 'bankruptcyProve': [], 'isInAgtJobs': '', 'agtPosition': '', 'isBondFuturesClientsConnected': '', 'agtName': '', 'isAcquaintHighLevel': '', 'acquaintHighLevelInstructions': '', 'acquaintHighLevelInstructionsProve': [], 'isAmericanResidents': '', 'americanResidentsTaxId': '', 'isAmericanResidentsb': '', 'americanResidentsTaxIdb': '', 'isPoliticalFigure': '', 'politicalFigureName': '', 'purposeOfInvestment': '', 'riskTolerance': 'high', 'signatureMaterial': [], 'isReferralCode': 'Y'}, 'pastChineseName': '', 'idTypeOther': '', 'employmentOther': '', 'career': '', 'marriage': '', 'education': '', 'attachment': {}, 'relationWithMasterImmediateFamily': '', 'relationWithMasterOthers': '', 'isReSubmit': '', 'createdTime': 1557737001361.0, 'updatedTime': 1557737001361.0}
2019-05-15 15:58:03,087 del_mongo.py INFO [line:119] apply 表关联的字段为 idpUserId : 58b27cb3-3cc8-49dc-bb3b-9efc80107cad
2019-05-15 15:58:03,088 del_mongo.py INFO [line:120] 正在查询关联表 users 的数据
2019-05-15 15:58:03,174 del_mongo.py INFO [line:66] users 表符合查询条件{'subject': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad'} 的数据有1 条
2019-05-15 15:58:03,345 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd92e181a73f7d85bcd0264'), 'email_verified': True, 'phone_number_verified': True, 'roles': [], 'enabled': True, 'preferred_username': '15089514626', 'email': '15089514626@toBeCreated.com', 'phone_number': '8615089514626', 'custom': {'device_id': '4d606f1da1075c25'}, 'subject': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad', 'created_at': datetime.datetime(2019, 5, 13, 8, 43, 3, 505000), 'updated_at': datetime.datetime(2019, 5, 13, 8, 43, 3, 505000), 'secret': '$2a$08$QP16GfXIBZGRvkgibHSZxeNt/P3kMIopJeZo0S2Z5J9RINjG01GC.', '__v': 0}
2019-05-15 15:58:03,345 del_mongo.py INFO [line:136] users 表关联的字段为 subject : 58b27cb3-3cc8-49dc-bb3b-9efc80107cad
2019-05-15 15:58:03,345 del_mongo.py INFO [line:137] 正在查询关联表 userdevices 的数据
2019-05-15 15:58:03,432 del_mongo.py INFO [line:66] userdevices 表符合查询条件{'subject': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad'} 的数据有2 条
2019-05-15 15:58:03,604 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd92e1b942e6f40262090e4'), 'device_id': '4d606f1da1075c25', 'subject': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad', '__v': 0, 'code': '561627f2-f3fb-45dc-bb3f-33452b2ecb80', 'created_at': datetime.datetime(2019, 5, 13, 8, 43, 7, 410000), 'verified': True}
2019-05-15 15:58:03,605 del_mongo.py INFO [line:152] ***********************************

2019-05-15 15:58:03,605 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-05-15 15:58:03,691 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x000001B5536BE308>
2019-05-15 15:58:03,691 del_mongo.py INFO [line:171] ***********************************

2019-05-15 15:58:03,691 del_mongo.py INFO [line:69] {'_id': ObjectId('5cd940ea942e6f402621b519'), 'device_id': 'ce9851ed8615e240', 'subject': '58b27cb3-3cc8-49dc-bb3b-9efc80107cad', '__v': 0, 'code': '1b94ea47-5d89-41cb-85aa-60749080c470', 'created_at': datetime.datetime(2019, 5, 13, 10, 3, 22, 718000), 'verified': True}
2019-05-15 15:58:03,691 del_mongo.py INFO [line:152] ***********************************

2019-05-15 15:58:03,691 del_mongo.py INFO [line:153] 没有关联数据,直接删除userdevices 表
2019-05-15 15:58:03,778 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x000001B55369CAC8>
2019-05-15 15:58:03,778 del_mongo.py INFO [line:171] ***********************************

2019-05-15 15:58:03,778 del_mongo.py INFO [line:152] ***********************************

2019-05-15 15:58:03,778 del_mongo.py INFO [line:153] 没有关联数据,直接删除users 表
2019-05-15 15:58:03,864 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x000001B55369CAC8>
2019-05-15 15:58:03,864 del_mongo.py INFO [line:171] ***********************************

2019-05-15 15:58:03,864 del_mongo.py INFO [line:152] ***********************************

2019-05-15 15:58:03,864 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply 表
2019-05-15 15:58:03,950 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x000001B55369C988>
2019-05-15 15:58:03,950 del_mongo.py INFO [line:171] ***********************************

2019-05-15 15:58:03,950 del_mongo.py INFO [line:152] ***********************************

2019-05-15 15:58:03,950 del_mongo.py INFO [line:153] 没有关联数据,直接删除apply_info 表
2019-05-15 15:58:04,040 del_mongo.py INFO [line:167] <pymongo.results.DeleteResult object at 0x000001B5536BE2C8>
2019-05-15 15:58:04,040 del_mongo.py INFO [line:171] ***********************************

2019-05-15 15:58:04,040 del_mongo.py INFO [line:37] close Client
2019-05-15 15:58:04,128 del_mongo.py INFO [line:44] apply_info 表预计删除 1 条记录
2019-05-15 15:58:04,128 del_mongo.py INFO [line:44] apply 表预计删除 1 条记录
2019-05-15 15:58:04,129 del_mongo.py INFO [line:44] userdevices 表预计删除 2 条记录
2019-05-15 15:58:04,129 del_mongo.py INFO [line:44] users 表预计删除 1 条记录
2019-05-15 15:58:04,129 del_mongo.py INFO [line:51] apply_info 表实际删除 1 条记录
2019-05-15 15:58:04,129 del_mongo.py INFO [line:51] apply 表实际删除 1 条记录
2019-05-15 15:58:04,130 del_mongo.py INFO [line:51] userdevices 表实际删除 2 条记录
2019-05-15 15:58:04,130 del_mongo.py INFO [line:51] users 表实际删除 1 条记录
